<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="Project Euler | 欧拉计划 中文翻译站" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: ''
    },
    sidebar: 'post'
  };
</script>




  <title> Problem 501 - 525 // Project Euler | 欧拉计划 </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Project Euler | 欧拉计划</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            <i class="menu-item-icon icon-categories"></i> <br />
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            标签
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'z6bmYNMJM3AR1esetWJa','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Problem 501 - 525
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-06-28
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Project-Euler-欧拉计划/">Project Euler | 欧拉计划</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/Problem501-525/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="Problem501-525/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <hr>
<a id="more"></a>
<hr>
<h1 id="Problem_501"><a href="https://projecteuler.net/problem=501" target="_blank" rel="external">Problem 501</a></h1><hr>
<p><strong>Eight Divisors</strong></p>
<p>The eight divisors of 24 are 1, 2, 3, 4, 6, 8, 12 and 24.<br>The ten numbers not exceeding 100 having exactly eight divisors are 24, 30, 40, 42, 54, 56, 66, 70, 78 and 88.<br>Let f(n) be the count of numbers not exceeding n with exactly eight divisors.<br>You are given f(100)&nbsp;=&nbsp;10, f(1000)&nbsp;=&nbsp;180 and f(10<sup>6</sup>)&nbsp;=&nbsp;224427.<br>Find f(10<sup>12</sup>).</p>
<hr>
<p><strong>八个约数</strong></p>
<p>24的八个约数是1、2、3、4、6、8、12和24。<br>在不超过100的数中有十个数恰好有八个约数，分别是24、30、40、42、54、56、66、70、78和88。<br>在不超过n的数中，记有f(n)个数恰好有八个约数。<br>已知f(100)&nbsp;=&nbsp;10，f(1000)&nbsp;=&nbsp;180以及f(10<sup>6</sup>)&nbsp;=&nbsp;224427。<br>求f(10<sup>12</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_502"><a href="https://projecteuler.net/problem=502" target="_blank" rel="external">Problem 502</a></h1><hr>
<p><strong>Counting Castles</strong></p>
<p>We define a <i>block</i> to be a rectangle with a height of 1 and an integer-valued length. Let a <i>castle</i> be a configuration of stacked blocks.</p>
<p>Given a game grid that is w units wide and h units tall, a castle is generated according to the following rules:</p>
<ol>
<li>Blocks can be placed on top of other blocks as long as nothing sticks out past the edges or hangs out over open space.</li>
<li>All blocks are aligned/snapped to the grid.</li>
<li>Any two neighboring blocks on the same row have at least one unit of space between them.</li>
<li>The bottom row is occupied by a block of length w.</li>
<li>The maximum achieved height of the entire castle is exactly h.</li>
<li>The castle is made from an even number of blocks.</li>
</ol>
<p>The following is a sample castle for w=8 and h=5:</p>
<center><img src="https://projecteuler.net/project/images/p502_castles.png"></center>

<p>Let F(w,h) represent the number of valid castles, given grid parameters w and h.</p>
<p>For example, F(4,2) = 10, F(13,10) = 3729050610636, F(10,13) = 37959702514, and F(100,100) mod 1 000 000 007 = 841913936.</p>
<p>Find F(10<sup>12</sup>,100) + F(10000,10000) + F(100,10<sup>12</sup>) mod 1 000 000 007.</p>
<hr>
<p><strong>城堡计数</strong></p>
<p>我们将高为1、长为整数值的长方形成为<i>方块</i>，而将一系列按特定方式堆叠在一起的方块称为<i>城堡</i>。</p>
<p>在一个宽度为w、高度为h的方阵上，按照如下方式构造城堡</p>
<ol>
<li>方块堆叠过程中不允许悬空或部分处于方阵之外。</li>
<li>所有方块都与方阵对齐。</li>
<li>在同一行的两个不同方块之间至少有一单位的间隔。</li>
<li>最下方的一行必须包括一个长度为w的方块。</li>
<li>最高高度恰好等于h。</li>
<li>必须由偶数个方块构成。</li>
</ol>
<p>如下是w=8且h=5时的一个城堡：</p>
<center><img src="https://projecteuler.net/project/images/p502_castles.png"></center>

<p>给定方阵的参数w和h，记所有有效的城堡数目为F(w,h)。</p>
<p>例如，F(4,2) = 10，F(13,10) = 3729050610636，F(10,13) = 37959702514，以及F(100,100) mod 1 000 000 007 = 841913936。</p>
<p>求F(10<sup>12</sup>,100) + F(10000,10000) + F(100,10<sup>12</sup>) mod 1 000 000 007。</p>
<hr>
<hr>
<h1 id="Problem_503"><a href="https://projecteuler.net/problem=503" target="_blank" rel="external">Problem 503</a></h1><hr>
<p><strong>Compromise or persist</strong></p>
<p>Alice is playing a game with n cards numbered 1 to n.</p>
<p>A game consists of iterations of the following steps.<br>(1) Alice picks one of the cards at random.<br>(2) Alice cannot see the number on it. Instead, Bob, one of her friends, sees the number and tells Alice how many previously-seen numbers are bigger than the number which he is seeing.<br>(3) Alice can end or continue the game. If she decides to end, the number becomes her score. If she decides to continue, the card is removed from the game and she returns to (1). If there is no card left, she is forced to end the game.</p>
<p>Let F(n) be the Alice’s expected score if she takes the optimized strategy to <strong>minimize</strong> her score.</p>
<p>For example, F(3) = 5/3. At the first iteration, she should continue the game. At the second iteration, she should end the game if Bob says that one previously-seen number is bigger than the number which he is seeing, otherwise she should continue the game.</p>
<p>We can also verify that F(4) = 15/8 and F(10) ≈ 2.5579365079.</p>
<p>Find F(10<sup>6</sup>). Give your answer rounded to 10 decimal places behind the decimal point.</p>
<hr>
<p><strong>妥协还是坚持</strong></p>
<p>爱丽丝在玩一个用标有1至n的n张卡片进行的游戏。</p>
<p>这个游戏不断重复进行以下步骤：<br>（1）爱丽丝随机地选择一张卡片。<br>（2）爱丽丝看不到这张卡片上的数，而她的一个朋友鲍勃可以看到，并告诉爱丽丝，在他之前看到过的数中，有多少个比这张卡片上的数要大。<br>（3）爱丽丝可以选择结束或继续游戏。如果她选择结束游戏，这个数将成为她的得分。如果她选择继续游戏，这张卡片从游戏中移除，并回到（1）。当游戏中没有卡片时，爱丽丝必须结束游戏。</p>
<p>记F(n)是爱丽丝采取<strong>最小化</strong>得分的最优策略时她的期望得分。</p>
<p>例如，F(3) = 5/3。在第一轮，她应当选择继续游戏，在第二轮，如果鲍勃告诉她前一个数比这一个数要大，她应选择结束游戏，否则她应选择继续游戏。</p>
<p>同样可以验证F(4) = 15/8以及F(10) ≈ 2.5579365079。</p>
<p>求F(10<sup>6</sup>)，并将其四舍五入到小数点后10位小数作为你的答案。</p>
<hr>
<hr>
<h1 id="Problem_504"><a href="https://projecteuler.net/problem=504" target="_blank" rel="external">Problem 504</a></h1><hr>
<p><strong>Square on the Inside</strong></p>
<p>Let ABCD be a quadrilateral whose vertices are lattice points lying on the coordinate axes as follows:</p>
<p>A(a, 0), B(0, b), C(−c, 0), D(0, −d), where 1 ≤ a, b, c, d ≤ m and a, b, c, d, m are integers.</p>
<p>It can be shown that for m = 4 there are exactly 256 valid ways to construct ABCD. Of these 256 quadrilaterals, 42 of them <u>strictly</u> contain a square number of lattice points.</p>
<p>How many quadrilaterals ABCD strictly contain a square number of lattice points for m = 100?</p>
<hr>
<p><strong>平方数个内部格点</strong></p>
<p>四边形ABCD的四个顶点都是坐标轴上的格点，其坐标分别是：</p>
<p>A(a, 0), B(0, b), C(−c, 0), D(0, −d)，其中1 ≤ a, b, c, d ≤ m，且a, b, c, d, m均为整数。</p>
<p>可以验证，对于m = 4，有256种构造ABCD的方式，在这256个四边形中，有42个<u>严格地</u>包含了平方数个格点在其内部。</p>
<p>对于m = 100，有多少个四边形ABCD严格地包含了平方数个格点在其内部？</p>
<hr>
<hr>
<h1 id="Problem_505"><a href="https://projecteuler.net/problem=505" target="_blank" rel="external">Problem 505</a></h1><hr>
<p><strong>Bidirectional Recurrence</strong></p>
<p>Let:<br>$x(0)=0$<br>$x(1)=1$<br>$x(2k)=(3x(k)+2x(\lfloor \frac k 2 \rfloor)) \text{ mod } 2^{60} \text{ for } k \ge 1 \text {, where } \lfloor \text { } \rfloor \text { is the floor function}$<br>$x(2k+1)=(2x(k)+3x(\lfloor \frac k 2 \rfloor)) \text{ mod } 2^{60} \text{ for } k \ge 1$<br>$y_n(k)=x(k) \text{ if } k \ge n$<br>$y_n(k)=2^{60} - 1 - max(y_n(2k),y_n(2k+1)) \text{ if } k &lt; n$<br>$A(n)=y_n(1)$</p>
<p>You are given:<br>$x(2)=3$<br>$x(3)=2$<br>$x(4)=11$<br>$y_4(4)=11$<br>$y_4(3)=2^{60}-9$<br>$y_4(2)=2^{60}-12$<br>$y_4(1)=A(4)=8$<br>$A(10)=2^{60}-34$<br>$A(10^3)=101881$</p>
<p>Find $A(10^{12})$.</p>
<hr>
<p><strong>双向递归</strong></p>
<p>记：<br>$x(0)=0$<br>$x(1)=1$<br>$x(2k)=(3x(k)+2x(\lfloor \frac k 2 \rfloor)) \text{ mod } 2^{60} \text{ 对于 } k \ge 1 \text {，其中} \lfloor \text { } \rfloor \text {是下取整函数}$<br>$x(2k+1)=(2x(k)+3x(\lfloor \frac k 2 \rfloor)) \text{ mod } 2^{60} \text{ 对于 } k \ge 1$<br>$y_n(k)=x(k) \text{ if } k \ge n$<br>$y_n(k)=2^{60} - 1 - max(y_n(2k),y_n(2k+1)) \text{ if } k &lt; n$<br>$A(n)=y_n(1)$</p>
<p>已知：<br>$x(2)=3$<br>$x(3)=2$<br>$x(4)=11$<br>$y_4(4)=11$<br>$y_4(3)=2^{60}-9$<br>$y_4(2)=2^{60}-12$<br>$y_4(1)=A(4)=8$<br>$A(10)=2^{60}-34$<br>$A(10^3)=101881$</p>
<p>求$A(10^{12})$。</p>
<hr>
<hr>
<h1 id="Problem_506"><a href="https://projecteuler.net/problem=506" target="_blank" rel="external">Problem 506</a></h1><hr>
<p><strong>Clock sequence</strong></p>
<p>Consider the infinite repeating sequence of digits:</p>
<center>1234321234321234321…</center>

<p>Amazingly, you can break this sequence of digits into a sequence of integers such that the sum of the digits in the n’th value is n.</p>
<p>The sequence goes as follows:</p>
<center>1, 2, 3, 4, 32, 123, 43, 2123, 432, 1234, 32123, …</center>

<p>Let v<sub>n</sub> be the n’th value in this sequence. For example, v<sub>2</sub>&nbsp;=&nbsp;2, v<sub>5</sub>&nbsp;=&nbsp;32 and v<sub>11</sub>&nbsp;=&nbsp;32123.</p>
<p>Let S(n) be v<sub>1</sub>&nbsp;+&nbsp;v<sub>2</sub>&nbsp;+&nbsp;…&nbsp;+&nbsp;v<sub>n</sub>. For example, S(11)&nbsp;=&nbsp;36120, and S(1000) mod 123454321 = 18232686.</p>
<p>Find S(10<sup>14</sup>)&nbsp;mod&nbsp;123454321.</p>
<hr>
<p><strong>钟摆序列</strong><br>考虑下面这个无限重复的数字序列：</p>
<center>1234321234321234321…</center>

<p>神奇的是，你可以将这个序列分解成一个整数的序列，使得第n个整数的各位数字之和恰好是n。</p>
<p>这个整数序列如下所示：</p>
<center>1, 2, 3, 4, 32, 123, 43, 2123, 432, 1234, 32123, …</center>

<p>记v<sub>n</sub>是这个整数序列的第n个整数，例如，v<sub>2</sub>&nbsp;=&nbsp;2，v<sub>5</sub>&nbsp;=&nbsp;32，以及v<sub>11</sub>&nbsp;=&nbsp;32123。</p>
<p>记S(n)为v<sub>1</sub>&nbsp;+&nbsp;v<sub>2</sub>&nbsp;+&nbsp;…&nbsp;+&nbsp;v<sub>n</sub>。例如，S(11)&nbsp;=&nbsp;36120，以及S(1000)&nbsp;mod&nbsp;123454321&nbsp;=&nbsp;18232686。</p>
<p>求S(10<sup>14</sup>)&nbsp;mod&nbsp;123454321。</p>
<hr>
<hr>
<h1 id="Problem_507"><a href="https://projecteuler.net/problem=507" target="_blank" rel="external">Problem 507</a></h1><hr>
<p><strong>Shortest Lattice Vector</strong></p>
<p>Let $t_n$ be the tribonacci numbers defined as:<br>$t_0=t_1=0$;<br>$t_2=1$;<br>$t_n=t_{n−1}+t_{n−2}+t_{n−3}$ for $n≥3$<br>and let $r_n=t_n \text{ mod } 10^7$.</p>
<p>For each pair of Vectors $V_n=(v_1,v_2,v_3)$ and $W_n=(w_1,w_2,w_3)$ with<br>$v_1=r_{12n−11}−r_{12n−10},v_2=r_{12n−9}+r_{12n−8},v_3=r_{12n−7}·r_{12n−6}$ and<br>$w_1=r_{12n−5}−r_{12n−4},w_2=r_{12n−3}+r_{12n−2},w_3=r_{12n−1}·r_{12n}$<br>we define $S(n)$ as the minimal value of the manhattan length of the vector $D=k·V_n+l·W_n$ measured as<br>$|k·v_1+l·w_1|+|k·v_2+l·w_2|+|k·v_3+l·w_3|$<br>for any integers $k$ and $l$ with $(k,l)≠(0,0)$.</p>
<p>The first vector pair is (-1, 3, 28), (-11, 125, 40826).<br>You are given that $S(1)=32$ and $\Sigma^{10}_{n=1}S(n)=130762273722$.</p>
<p>Find $\Sigma^{20000000}_{n=1}S(n)$.</p>
<hr>
<p><strong>最短向量</strong></p>
<p>记如下数列$t_n$为<strong>三阶斐波那契</strong>数列：<br>$t_0=t_1=0$；<br>$t_2=1$；<br>$t_n=t_{n−1}+t_{n−2}+t_{n−3}$ for $n≥3$<br>并记$r_n=t_n \text{ mod } 10^7$。</p>
<p>向量$V_n=(v_1,v_2,v_3)$和$W_n=(w_1,w_2,w_3)$分别满足<br>$v_1=r_{12n−11}−r_{12n−10},v_2=r_{12n−9}+r_{12n−8},v_3=r_{12n−7}·r_{12n−6}$和<br>$w_1=r_{12n−5}−r_{12n−4},w_2=r_{12n−3}+r_{12n−2},w_3=r_{12n−1}·r_{12n}$。<br>向量$D=k·V_n+l·W_n$的曼哈顿长度的计算方式为<br>$|k·v_1+l·w_1|+|k·v_2+l·w_2|+|k·v_3+l·w_3|$。<br>对于所有的整数$k$和$l$且$(k,l)≠(0,0)$，我们记$S(n)$为向量$D$的最小曼哈顿长度。</p>
<p>第一对向量$V_1$和$W_1$分别是(-1, 3, 28)和(-11, 125, 40826)。<br>已知$S(1)=32$，以及$\Sigma^{10}_{n=1}S(n)=130762273722$。</p>
<p>求$\Sigma^{20000000}_{n=1}S(n)$。</p>
<hr>
<hr>
<h1 id="Problem_508"><a href="https://projecteuler.net/problem=508" target="_blank" rel="external">Problem 508</a></h1><hr>
<p><strong>Integers in base i-1</strong></p>
<p>Consider the Gaussian integer i-1. A <strong>base i-1 representation</strong> of a Gaussian integer a+bi is a finite sequence of digits d<sub>n-1</sub>d<sub>n-2</sub>…d<sub>1</sub>d<sub>0</sub> such that:</p>
<ul>
<li>a+bi = d<sub>n-1</sub>(i-1)<sup>n-1</sup> + d<sub>n-2</sub>(i-1)<sup>n-2</sup> + … + d<sub>1</sub>(i-1) + d<sub>0</sub></li>
<li>Each d<sub>k</sub> is in {0,1}</li>
<li>There are no leading zeroes, i.e. d<sub>n-1</sub> ≠ 0, unless a+bi is itself 0</li>
</ul>
<p>Here are base i-1 representations of a few Gaussian integers:</p>
<p>11+24i → 111010110001101<br>24-11i → 110010110011<br>8+0i → 111000000<br>-5+0i → 11001101<br>0+0i → 0</p>
<p>Remarkably, every Gaussian integer has a unique base i-1 representation!</p>
<p>Define f(a+bi) as the number of 1s in the unique base i-1 representation of a+bi. For example, f(11+24i) = 9 and f(24-11i) = 7.</p>
<p>Define B(L) as the sum of f(a+bi) for all integers a, b such that |a| ≤ L and |b| ≤ L. For example, B(500) = 10795060.</p>
<p>Find B(10<sup>15</sup>) mod 1 000 000 007.</p>
<hr>
<p><strong>i-1进制的整数</strong></p>
<p>考虑高斯整数i-1，我们定义任意高斯整数a+bi的<strong>i-1进制表示</strong>为一个有限的数字序列d<sub>n-1</sub>d<sub>n-2</sub>…d<sub>1</sub>d<sub>0</sub>满足：</p>
<ul>
<li>a+bi = d<sub>n-1</sub>(i-1)<sup>n-1</sup> + d<sub>n-2</sub>(i-1)<sup>n-2</sup> + … + d<sub>1</sub>(i-1) + d<sub>0</sub></li>
<li>每个d<sub>k</sub>都在集合{0,1}中</li>
<li>没有前导零，也就是说，除非a+bi本身为0，否则d<sub>n-1</sub> ≠ 0</li>
</ul>
<p>以下是一些高斯整数的i-1进制表示：</p>
<p>11+24i → 111010110001101<br>24-11i → 110010110011<br>8+0i → 111000000<br>-5+0i → 11001101<br>0+0i → 0</p>
<p>值得注意的是，每个高斯整数都有唯一的i-1进制表示！</p>
<p>定义f(a+bi)为高斯整数a+bi的i-1进制表示中1的个数。例如，f(11+24i) = 9，以及f(24-11i) = 7。</p>
<p>对于所有满足|a| ≤ L和|b| ≤ L的整数a和b，定义B(L)为所有f(a+bi)的和。例如，B(500) = 10795060。</p>
<p>求B(10<sup>15</sup>) mod 1 000 000 007。</p>
<hr>
<hr>
<h1 id="Problem_509"><a href="https://projecteuler.net/problem=509" target="_blank" rel="external">Problem 509</a></h1><hr>
<p><strong>Divisor Nim</strong></p>
<p>Anton and Bertrand love to play three pile Nim.<br>However, after a lot of games of Nim they got bored and changed the rules somewhat.<br>They may only take a number of stones from a pile that is a <dfn title="a proper divisor of n is a divisor of n smaller than n">proper divisor</dfn> of the number of stones present in the pile.<br>E.g. if a pile at a certain moment contains 24 stones they may take only 1,2,3,4,6,8 or 12 stones from that pile.<br>So if a pile contains one stone they can’t take the last stone from it as 1 isn’t a proper divisor of 1.<br>The first player that can’t make a valid move loses the game.<br>Of course both Anton and Bertrand play optimally.</p>
<p>The triple (a,b,c) indicates the number of stones in the three piles.<br>Let S(n) be the number of winning positions for the next player for 1 ≤ a, b, c ≤ n.<br>S(10) = 692 and S(100) = 735494.<br>Find S(123456787654321) modulo 1234567890.</p>
<hr>
<p><strong>约数取石子游戏</strong></p>
<p>安东和伯特兰很喜欢玩三堆取石子游戏。<br>然而，在玩了许多次之后，他们觉得过于无聊，打算修改一下游戏规则。<br>他们约定，从一堆中取出的石子数目，必须是这一堆石子数目的<dfn title="n的真约数指所有小于n的约数">真约数</dfn>。<br>例如，如果其中一堆目前有24颗石子，他们就只能从中取出1、2、3、4、6、8或12颗石子。<br>因此，如果一堆中只剩一颗石子，那么他们不能将这颗石子取走，因为1不是1的真约数。<br>谁先无法再取走石子谁就输了。<br>当然，安东和伯特兰两个人都会采取最佳策略。</p>
<p>三元组(a,b,c)表示这三堆石子分别的数目。<br>对于所有1 ≤ a, b, c ≤ n，记S(n)为所有必胜态的数目。<br>已知S(10) = 692以及S(100) = 735494。<br>求S(123456787654321) modulo 1234567890。</p>
<hr>
<hr>
<h1 id="Problem_510"><a href="https://projecteuler.net/problem=510" target="_blank" rel="external">Problem 510</a></h1><hr>
<p><strong>Tangent Circles</strong></p>
<p>Circles A and B are tangent to each other and to line L at three distinct points.<br>Circle C is inside the space between A, B and L, and tangent to all three.</p>
<p>Let r<sub>A</sub>, r<sub>B</sub> and r<sub>C</sub> be the radii of A, B and C respectively.</p>
<center><img src="https://projecteuler.net/project/images/p510_tangent_circles.png"></center>

<p>Let S(n)&nbsp;=&nbsp;Σ&nbsp;r<sub>A</sub>&nbsp;+&nbsp;r<sub>B</sub>&nbsp;+&nbsp;r<sub>C</sub>, for 0&nbsp;&lt;&nbsp;r<sub>A</sub>&nbsp;≤&nbsp;r<sub>B</sub>&nbsp;≤&nbsp;n where r<sub>A</sub>, r<sub>B</sub> and r<sub>C</sub> are integers.</p>
<p>The only solution for 0&nbsp;&lt;&nbsp;r<sub>A</sub>&nbsp;≤&nbsp;r<sub>B</sub>&nbsp;≤&nbsp;5 is r<sub>A</sub>&nbsp;=&nbsp;4, r<sub>B</sub>&nbsp;=&nbsp;4 and r<sub>C</sub>&nbsp;=&nbsp;1, so S(5)&nbsp;=&nbsp;4&nbsp;+&nbsp;4&nbsp;+&nbsp;1&nbsp;=&nbsp;9.</p>
<p>You are also given S(100)&nbsp;=&nbsp;3072.<br>Find S(10<sup>9</sup>).</p>
<hr>
<p><strong>相切的圆</strong></p>
<p>圆A和圆B彼此相切，同时和直线L也分别相切，三个切点互不相同。<br>圆C在A、B和L之间，且与这三者都相切。</p>
<p>分别记圆A、B和C的半径为r<sub>A</sub>、r<sub>B</sub>和r<sub>C</sub>。</p>
<center><img src="https://projecteuler.net/project/images/p510_tangent_circles.png"></center>

<p>对于所有满足0&nbsp;&lt;&nbsp;r<sub>A</sub>&nbsp;≤&nbsp;r<sub>B</sub>&nbsp;≤&nbsp;n，且r<sub>A</sub>、r<sub>B</sub>和r<sub>C</sub>均为整数的可行解，我们定义S(n)&nbsp;=&nbsp;Σ&nbsp;r<sub>A</sub>&nbsp;+&nbsp;r<sub>B</sub>&nbsp;+&nbsp;r<sub>C</sub>。</p>
<p>对于0&nbsp;&lt;&nbsp;r<sub>A</sub>&nbsp;≤&nbsp;r<sub>B</sub>&nbsp;≤&nbsp;5，唯一解是r<sub>A</sub>&nbsp;=&nbsp;4，r<sub>B</sub>&nbsp;=&nbsp;4，r<sub>C</sub>&nbsp;=&nbsp;1，所以S(5)&nbsp;=&nbsp;4&nbsp;+&nbsp;4&nbsp;+&nbsp;1&nbsp;=&nbsp;9。</p>
<p>此外还已知S(100)&nbsp;=&nbsp;3072。<br>求S(10<sup>9</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_511"><a href="https://projecteuler.net/problem=511" target="_blank" rel="external">Problem 511</a></h1><hr>
<p><strong>Sequences with nice divisibility properties</strong></p>
<p>Let Seq(n,k) be the number of positive-integer sequences {a<sub>i</sub>}<sub>1≤i≤n</sub> of length n such that:</p>
<ul>
<li>n is divisible by a<sub>i</sub> for 1&nbsp;≤&nbsp;i&nbsp;≤&nbsp;n, and</li>
<li>n + a<sub>1</sub> + a<sub>2</sub> + … + a<sub>n</sub> is divisible by k.</li>
</ul>
<p>Examples:</p>
<p>Seq(3,4) = 4, and the 4 sequences are:<br>{1, 1, 3}<br>{1, 3, 1}<br>{3, 1, 1}<br>{3, 3, 3}</p>
<p>Seq(4,11) = 8, and the 8 sequences are:<br>{1, 1, 1, 4}<br>{1, 1, 4, 1}<br>{1, 4, 1, 1}<br>{4, 1, 1, 1}<br>{2, 2, 2, 1}<br>{2, 2, 1, 2}<br>{2, 1, 2, 2}<br>{1, 2, 2, 2}</p>
<p>The last nine digits of Seq(1111,24) are 840643584.</p>
<p>Find the last nine digits of Seq(1234567898765,4321).</p>
<hr>
<p><strong>拥有良好可整除性的数列</strong></p>
<p>记Seq(n,k)是所有满足下列条件的长为n的正整数序列{a<sub>i</sub>}<sub>1≤i≤n</sub>的数目：</p>
<ul>
<li>对于所有1&nbsp;≤&nbsp;i&nbsp;≤&nbsp;n，n能够被a<sub>i</sub>整除，且</li>
<li>n + a<sub>1</sub> + a<sub>2</sub> + … + a<sub>n</sub>能被k整除。</li>
</ul>
<p>举例如下：</p>
<p>Seq(3,4) = 4，这4个数列分别是：<br>{1, 1, 3}<br>{1, 3, 1}<br>{3, 1, 1}<br>{3, 3, 3}</p>
<p>Seq(4,11) = 8，这8个数列分别是：<br>{1, 1, 1, 4}<br>{1, 1, 4, 1}<br>{1, 4, 1, 1}<br>{4, 1, 1, 1}<br>{2, 2, 2, 1}<br>{2, 2, 1, 2}<br>{2, 1, 2, 2}<br>{1, 2, 2, 2}</p>
<p>Seq(1111,24)的最后九位数字是840643584。</p>
<p>求Seq(1234567898765,4321)的最后九位数字。</p>
<hr>
<hr>
<h1 id="Problem_512"><a href="https://projecteuler.net/problem=512" target="_blank" rel="external">Problem 512</a></h1><hr>
<p><strong>Sums of totients of powers</strong><br>Let $\phi(n)$ be Euler’s totient function.</p>
<p>Let $f(n)=(\Sigma^n_{i=1}\phi(n^i)) \text{ mod } (n+1)$.</p>
<p>Let $g(n)=\Sigma^n_{i=1}f(i)$.</p>
<p>$g(100)=2007$.</p>
<p>Find $g(5 \times 10^8)$.</p>
<hr>
<p><strong>幂的欧拉总计函数和</strong></p>
<p>记$\phi(n)$为欧拉总计函数。</p>
<p>记$f(n)=(\Sigma^n_{i=1}\phi(n^i)) \text{ mod } (n+1)$。</p>
<p>记$g(n)=\Sigma^n_{i=1}f(i)$。</p>
<p>已知$g(100)=2007$。</p>
<p>求$g(5 \times 10^8)$。</p>
<hr>
<hr>
<h1 id="Problem_513"><a href="https://projecteuler.net/problem=513" target="_blank" rel="external">Problem 513</a></h1><hr>
<p><strong>Integral median</strong></p>
<p>ABC is an integral sided triangle with sides a≤b≤c.<br>m<sub>c</sub> is the median connecting C and the midpoint of AB.<br>F(n) is the number of such triangles with  c≤n for which m<sub>c</sub> has integral length as well.<br>F(10)=3 and F(50)=165.</p>
<p>Find F(100000).</p>
<hr>
<p><strong>整数长度的中线</strong></p>
<p>三角形ABC是一个三边长a≤b≤c均为整数的三角形。<br>m<sub>c</sub>是连接C与AB边中点的中线。<br>若同时还满足c≤n且m<sub>c</sub>长度也为整数，记这样的三角形总数为F(n)。<br>已知F(10)=3以及F(50)=165。</p>
<p>求F(100000)。</p>
<hr>
<hr>
<h1 id="Problem_514"><a href="https://projecteuler.net/problem=514" target="_blank" rel="external">Problem 514</a></h1><hr>
<p><strong>Geoboard Shapes</strong></p>
<p>A <strong>geoboard</strong> (of order N) is a square board with equally-spaced pins protruding from the surface, representing an integer point lattice for coordinates 0 ≤ x,y ≤ N.</p>
<p>John begins with a pinless geoboard. Each position on the board is a hole that can be filled with a pin. John decides to generate a random number between 1 and N+1 (inclusive) for each hole in the geoboard. If the random number is equal to 1 for a given hole, then a pin is placed in that hole.</p>
<p>After John is finished generating numbers for all (N+1)<sup>2</sup> holes and placing any/all corresponding pins, he wraps a tight rubberband around the entire group of pins protruding from the board. Let S represent the shape that is formed. S can also be defined as the smallest convex shape that contains all the pins.</p>
<center><img src="https://projecteuler.net/project/images/p514_geoboard.png"></center>

<p>The above image depicts a sample layout for N = 4. The green markers indicate positions where pins have been placed, and the blue lines collectively represent the rubberband. For this particular arrangement, S has an area of 6. If there are fewer than three pins on the board (or if all pins are collinear), S can be assumed to have zero area.</p>
<p>Let E(N) be the expected area of S given a geoboard of order N. For example, E(1) = 0.18750, E(2) = 0.94335, and E(10) = 55.03013 when rounded to five decimal places each.</p>
<p>Calculate E(100) rounded to five decimal places.</p>
<hr>
<p><strong>几何板图形</strong></p>
<p>（N阶）<strong>几何板</strong>是一块方形板，板上等间距地插有大头针，分别代表坐标为0 ≤ x,y ≤ N的格点。</p>
<p>约翰拿出一块没有插大头针的几何板，板上的格点处均留有能够插一根大头针的小孔。对于每一个格点，约翰随机指定一个1至N+1（上下限均包含）的数，如果这个随机数恰好等于1，那么就在这个格点处的小孔内插一根大头针。</p>
<p>当约翰对这(N+1)<sup>2</sup>个位置都指定一个随机数，且把所有应该插上的大头针都插上之后，他拿一根橡皮筋圈住了所有板上的大头针。记S为橡皮筋此时构成的形状，S同时也是包含所有大头针的最小凸多边形。</p>
<center><img src="https://projecteuler.net/project/images/p514_geoboard.png"></center>

<p>上面这张图描绘了N = 4时的一个布局样例。绿色的标记表示有大头针的位置，蓝色的线表示橡皮筋。在这个布局中，S的面积为6。如果板上的大头针数目少于三个（或者所有的大头针在一条直线上），S的面积就是0。</p>
<p>记E(N)是在N阶几何板上围出的S的期望面积。例如，当四舍五入保留五位小数时，E(1) = 0.18750，E(2) = 0.94335，以及E(10) = 55.03013。</p>
<p>求E(100)并四舍五入保留五位小数。</p>
<hr>
<hr>
<h1 id="Problem_515"><a href="https://projecteuler.net/problem=515" target="_blank" rel="external">Problem 515</a></h1><hr>
<p><strong>Dissonant Numbers</strong></p>
<p>Let d(p,n,0) be the multiplicative inverse of n modulo prime p, defined as n × d(p,n,0) = 1 mod p.</p>
<p>Let d(p,n,k) = $\Sigma^n_{i=1}$d(p,i,k−1) for k ≥ 1.</p>
<p>Let D(a,b,k) = $\Sigma$(d(p,p-1,k) mod p) for all primes a ≤ p &lt; a + b.</p>
<p>You are given:</p>
<ul>
<li>D(101,1,10) = 45</li>
<li>D(10<sup>3</sup>,10<sup>2</sup>,10<sup>2</sup>) = 8334</li>
<li>D(10<sup>6</sup>,10<sup>3</sup>,10<sup>3</sup>) = 38162302</li>
</ul>
<p>Find D(10<sup>9</sup>,10<sup>5</sup>,10<sup>5</sup>).</p>
<hr>
<p><strong>不和谐的数</strong></p>
<p>记d(p,n,0)是n在模素数p同余下的乘法逆元，即n × d(p,n,0) = 1 mod p。</p>
<p>记d(p,n,k) = $\Sigma^n_{i=1}$d(p,i,k−1)，其中k ≥ 1。</p>
<p>记D(a,b,k) = $\Sigma$(d(p,p-1,k) mod p)，对于所有的素数a ≤ p &lt; a + b。</p>
<p>已知：</p>
<ul>
<li>D(101,1,10) = 45</li>
<li>D(10<sup>3</sup>,10<sup>2</sup>,10<sup>2</sup>) = 8334</li>
<li>D(10<sup>6</sup>,10<sup>3</sup>,10<sup>3</sup>) = 38162302</li>
</ul>
<p>求D(10<sup>9</sup>,10<sup>5</sup>,10<sup>5</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_516"><a href="https://projecteuler.net/problem=516" target="_blank" rel="external">Problem 516</a></h1><hr>
<p><strong>5-smooth totients</strong></p>
<p>5-smooth numbers are numbers whose largest prime factor doesn’t exceed 5.</p>
<p>5-smooth numbers are also called Hamming numbers.</p>
<p>Let S(L) be the sum of the numbers n not exceeding L such that Euler’s totient function φ(n) is a Hamming number.</p>
<p>S(100)=3728.</p>
<p>Find S(10<sup>12</sup>). Give your answer modulo 2<sup>32</sup>.</p>
<hr>
<p><strong>5-光滑总计函数</strong></p>
<p>5-光滑数是指最大质因数不超过5的数。</p>
<p>5-光滑数也被称为汉明数。</p>
<p>若数n不超过L，且欧拉总计函数φ(n)是汉明数，记所有这样的数之和为S(L)。</p>
<p>已知S(100)=3728。</p>
<p>求S(10<sup>12</sup>)，将其模2<sup>32</sup>取余作为你的答案。</p>
<hr>
<hr>
<h1 id="Problem_517"><a href="https://projecteuler.net/problem=517" target="_blank" rel="external">Problem 517</a></h1><hr>
<p><strong>A real recursion</strong></p>
<p>For every real number $a&gt;1$ is given the sequence $g_a$ by:<br>$g_a(x)=1$ for $x&lt;a$<br>$g_a(x)=g_a(x−1)+g_a(x−a)$ for $x≥a$<br>$G(n)=g_{\sqrt{n}}(n)$<br>$G(90)=7564511$.</p>
<p>Find $\Sigma G(p)$ for $p$ prime and $10000000&lt;p&lt;10010000$<br>Give your answer modulo 1000000007.</p>
<hr>
<p><strong>实数递归</strong></p>
<p>对于任意实数$a&gt;1$，我们可以根据以下规则写出序列$g_a$：<br>若$x&lt;a$，则$g_a(x)=1$<br>若$x≥a$，则$g_a(x)=g_a(x−1)+g_a(x−a)$<br>$G(n)=g_{\sqrt{n}}(n)$<br>已知$G(90)=7564511$。</p>
<p>对于所有素数$10000000&lt;p&lt;10010000$，求$\Sigma G(p)$。<br>将其模1000000007取余作为你的答案。</p>
<hr>
<hr>
<h1 id="Problem_518"><a href="https://projecteuler.net/problem=518" target="_blank" rel="external">Problem 518</a></h1><hr>
<p><strong>Prime triples and geometric sequences</strong></p>
<p>Let S(n) = a+b+c over all triples (a,b,c) such that:</p>
<ul>
<li>a, b, and c are prime numbers.</li>
<li>a &lt; b &lt; c &lt; n.</li>
<li>a+1, b+1, and c+1 form a <strong>geometric sequence</strong>.</li>
</ul>
<p>For example, S(100) = 1035 with the following triples: </p>
<p>(2, 5, 11), (2, 11, 47), (5, 11, 23), (5, 17, 53), (7, 11, 17), (7, 23, 71), (11, 23, 47), (17, 23, 31), (17, 41, 97), (31, 47, 71), (71, 83, 97)</p>
<p>Find S(10<sup>8</sup>).</p>
<hr>
<p><strong>素数三元组和等比数列</strong></p>
<p>对于所有满足下列条件的三元组(a,b,c)，记S(n) = a+b+c之和：</p>
<ul>
<li>a、b、c均为素数。</li>
<li>a &lt; b &lt; c &lt; n。</li>
<li>a+1、b+1、c+1构成<strong>等比数列</strong>。</li>
</ul>
<p>例如，由于存在下列三元组，S(100) = 1035：</p>
<p>(2, 5, 11), (2, 11, 47), (5, 11, 23), (5, 17, 53), (7, 11, 17), (7, 23, 71), (11, 23, 47), (17, 23, 31), (17, 41, 97), (31, 47, 71), (71, 83, 97)</p>
<p>求S(10<sup>8</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_519"><a href="https://projecteuler.net/problem=519" target="_blank" rel="external">Problem 519</a></h1><hr>
<p><strong>Tricolored Coin Fountains</strong></p>
<p>An arrangement of coins in one or more rows with the bottom row being a block without gaps and every coin in a higher row touching exactly two coins in the row below is called a <strong>fountain</strong> of coins. Let f(n) be the number of possible fountains with n coins. For 4 coins there are three possible arrangements:</p>
<center><img src="https://projecteuler.net/project/images/p519_coin_fountain.png"></center>

<p>Therefore f(4)&nbsp;=&nbsp;3 while f(10)&nbsp;=&nbsp;78.</p>
<p>Let T(n) be the number of all possible colorings with three colors for all f(n) different fountains with n coins, given the condition that no two touching coins have the same color. Below you see the possible colorings for one of the three valid fountains for 4 coins:</p>
<center><img src="https://projecteuler.net/project/images/p519_tricolored_coin_fountain.png"></center>

<p>You are given that T(4)&nbsp;=&nbsp;48 and T(10)&nbsp;=&nbsp;17760.</p>
<p>Find the last 9 digits of T(20000).</p>
<hr>
<p><strong>三色硬币喷泉</strong></p>
<p>将硬币排成一行或多行，最下面一行为一整块没有间隙，上一行的每一枚硬币恰好和下一行的两枚硬币接触，这样的排列方式称为硬币<strong>喷泉</strong>。记f(n)是用n枚硬币所能组成的喷泉数目。对于4枚硬币，有三种可能的排列方式：</p>
<center><img src="https://projecteuler.net/project/images/p519_coin_fountain.png"></center>

<p>因此f(4)&nbsp;=&nbsp;3，同时我们已知f(10)&nbsp;=&nbsp;78。</p>
<p>将所有f(n)种不同的喷泉上的n枚硬币都染上三种不同颜色之一，且相邻硬币所染颜色不能相同，所有的染色方法数记为T(n)。下图所示为对4枚硬币组成的三种可行喷泉中的一种进行染色的所有可能结果：</p>
<center><img src="https://projecteuler.net/project/images/p519_tricolored_coin_fountain.png"></center>

<p>已知T(4)&nbsp;=&nbsp;48以及T(10)&nbsp;=&nbsp;17760。</p>
<p>求T(20000)的最后9位数字。</p>
<hr>
<hr>
<h1 id="Problem_520"><a href="https://projecteuler.net/problem=520" target="_blank" rel="external">Problem 520</a></h1><hr>
<p><strong>Simber</strong></p>
<p>We define a <i>simber</i> to be a positive integer in which any odd digit, if present, occurs an odd number of times, and any even digit, if present, occurs an even number of times.</p>
<p>For example, 141221242 is a 9-digit simber because it has three 1’s, four 2’s and two 4’s. </p>
<p>Let Q(n) be the count of all simbers with at most n digits. </p>
<p>You are given Q(7) = 287975 and Q(100) mod 1 000 000 123 = 123864868.</p>
<p>Find (∑<sub>1≤u≤39</sub> Q(2<sup>u</sup>)) mod 1 000 000 123. </p>
<hr>
<p><strong>真诚数</strong></p>
<p>我们定义<i>真诚数</i>为满足如下条件的正整数：任意奇数数字若出现则出现奇数次，任意偶数数字若出现则出现偶数次。</p>
<p>例如，141221242是一个9位真诚数，因为它有3个1、4个2和2个4。</p>
<p>记Q(n)是位数不超过n的真诚数的数目。 </p>
<p>已知Q(7) = 287975以及Q(100) mod 1 000 000 123 = 123864868。</p>
<p>求(∑<sub>1≤u≤39</sub> Q(2<sup>u</sup>)) mod 1 000 000 123。 </p>
<hr>
<hr>
<h1 id="Problem_521"><a href="https://projecteuler.net/problem=521" target="_blank" rel="external">Problem 521</a></h1><hr>
<p><strong>Smallest prime factor</strong></p>
<p>Let smpf(n) be the smallest prime factor of n.<br>smpf(91)=7 because 91=7×13 and smpf(45)=3 because 45=3×3×5.<br>Let S(n) be the sum of smpf(i) for 2 ≤ i ≤ n.<br>E.g. S(100)=1257.</p>
<p>Find S(10<sup>12</sup>) mod 10<sup>9</sup>.</p>
<hr>
<p><strong>最小质因数</strong></p>
<p>记smpf(n)为n的最小质因数。<br>例如，smpf(91)=7，因为91=7×13；smpf(45)=3，因为45=3×3×5。<br>对于所有2 ≤ i ≤ n，记S(n)为smpf(i)的和。<br>例如，S(100)=1257。</p>
<p>求S(10<sup>12</sup>) mod 10<sup>9</sup>。</p>
<hr>
<hr>
<h1 id="Problem_522"><a href="https://projecteuler.net/problem=522" target="_blank" rel="external">Problem 522</a></h1><hr>
<p><strong>Hilbert’s Blackout</strong></p>
<p>Despite the popularity of Hilbert’s infinite hotel, Hilbert decided to try managing extremely large finite hotels, instead. </p>
<p>To cut costs, Hilbert wished to power the new hotel with his own special generator. Each floor would send power to the floor above it, with the top floor sending power back down to the bottom floor. That way, Hilbert could have the generator placed on any given floor (as he likes having the option) and have electricity flow freely throughout the entire hotel.</p>
<p>Unfortunately, the contractors misinterpreted the schematics when they built the hotel. They informed Hilbert that each floor sends power to another floor at random, instead. This may compromise Hilbert’s freedom to have the generator placed anywhere, since blackouts could occur on certain floors.</p>
<p>For example, consider a sample flow diagram for a three-story hotel:</p>
<center><img src="https://projecteuler.net/project/images/p522_hilberts_blackout.png"></center>

<p>If the generator were placed on the first floor, then every floor would receive power. But if it were placed on the second or third floors instead, then there would be a blackout on the first floor. Note that while a given floor can <i>receive</i> power from many other floors at once, it can only <i>send</i> power to one other floor.</p>
<p>To resolve the blackout concerns, Hilbert decided to have a minimal number of floors rewired. To rewire a floor is to change the floor it sends power to. In the sample diagram above, all possible blackouts can be avoided by rewiring the second floor to send power to the first floor instead of the third floor.</p>
<p>Let F(n) be the sum of the minimum number of floor rewirings needed over all possible power-flow arrangements in a hotel of n floors. For example, F(3) = 6, F(8) = 16276736, and F(100) mod 135707531 = 84326147.</p>
<p>Find F(12344321) mod 135707531.</p>
<hr>
<p><strong>希尔伯特的停电</strong></p>
<p>尽管无穷旅馆非常火爆，希尔伯特还是决定尝试经营一些有限但非常庞大的旅馆。</p>
<p>为了节省开支，希尔伯特希望使用他自己的特制发电机为旅馆供电。旅馆的每一层都会向其上一层供电，而最顶层则向最底层供电。这样一来，希尔伯特可以把他的发电机安放在任意一层（他喜欢有这样的选择权）同时保证电流在整个旅馆畅通无阻。</p>
<p>不幸的是，建造商在修建旅馆时误解了他的安排。他们通知希尔伯特，每一层并不是向其上一层供电，而是向随机的另一层供电。这使得希尔伯特可能丧失了部分安放发电机的自由，因为在特定的安排下可能在部分楼层出现停电的情况。</p>
<p>例如，考虑下面这个三层旅馆的一个电线排线布局样例：</p>
<center><img src="https://projecteuler.net/project/images/p522_hilberts_blackout.png"></center>

<p>如果发电机安放在一层，那么每一层都能够得到供电。但如果发电机被安放在二层或三层，那么第一层将会停电。请注意，尽管每一层可以同时从多个其它楼层<i>接收</i>电力，它只能向某一个其它楼层<i>提供</i>电力。</p>
<p>为了解决停电的顾虑，希尔伯特决定尽可能少地进行重新布线。对某一楼层重新布线意味着改变这个楼层向哪个楼层供电。在上述布局样例中，只需让二层不再向一层而是向三层供电，就能解决所有可能的停电问题。</p>
<p>假定现在旅馆有n层，考虑所有可能的排线布局，记所需的最小重新布线数之和为F(n)。例如，F(3) = 6，F(8) = 16276736，以及F(100) mod 135707531 = 84326147。</p>
<p>求F(12344321) mod 135707531。</p>
<hr>
<hr>
<h1 id="Problem_523"><a href="https://projecteuler.net/problem=523" target="_blank" rel="external">Problem 523</a></h1><hr>
<p>暂无此题。</p>
<hr>
<hr>
<h1 id="Problem_524"><a href="https://projecteuler.net/problem=524" target="_blank" rel="external">Problem 524</a></h1><hr>
<p>暂无此题。</p>
<hr>
<hr>
<h1 id="Problem_525"><a href="https://projecteuler.net/problem=525" target="_blank" rel="external">Problem 525</a></h1><hr>
<p>暂无此题。</p>
<hr>

      
    </div>

    <div class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/Problem476-500/">Problem 476 - 500</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    <div class="post-spread">
      
    </div>

    
      <div class="comments" id="comments">
        
          <div class="ds-thread" data-thread-key="Problem501-525/"
               data-title="Problem 501 - 525" data-url="http://yoursite.com/Problem501-525/">
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/avatar.png" alt="sx349" />
          <p class="site-author-name">Leonhard Euler(1707-1783)</p>
        </div>
        <p class="site-description motion-element"><br>Project Euler | 欧拉计划<br>中文翻译站</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">22</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">1</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name" style="font-size:14px">友情链接</p>
            
              <span class="links-of-author-item">
              <a href="http://sx349.github.io" target="_blank">译者博客</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="https://projecteuler.net" target="_blank">Project Euler</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://pe.spiritzhang.com/" target="_blank">官方汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://jakwings.is-programmer.com/Project_Euler" target="_blank">饮水思源汉化</a>
              </span><br>
            
          
        </div>
        
      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_501"><span class="nav-number">1.</span> <span class="nav-text">Problem 501</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_502"><span class="nav-number">2.</span> <span class="nav-text">Problem 502</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_503"><span class="nav-number">3.</span> <span class="nav-text">Problem 503</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_504"><span class="nav-number">4.</span> <span class="nav-text">Problem 504</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_505"><span class="nav-number">5.</span> <span class="nav-text">Problem 505</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_506"><span class="nav-number">6.</span> <span class="nav-text">Problem 506</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_507"><span class="nav-number">7.</span> <span class="nav-text">Problem 507</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_508"><span class="nav-number">8.</span> <span class="nav-text">Problem 508</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_509"><span class="nav-number">9.</span> <span class="nav-text">Problem 509</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_510"><span class="nav-number">10.</span> <span class="nav-text">Problem 510</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_511"><span class="nav-number">11.</span> <span class="nav-text">Problem 511</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_512"><span class="nav-number">12.</span> <span class="nav-text">Problem 512</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_513"><span class="nav-number">13.</span> <span class="nav-text">Problem 513</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_514"><span class="nav-number">14.</span> <span class="nav-text">Problem 514</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_515"><span class="nav-number">15.</span> <span class="nav-text">Problem 515</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_516"><span class="nav-number">16.</span> <span class="nav-text">Problem 516</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_517"><span class="nav-number">17.</span> <span class="nav-text">Problem 517</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_518"><span class="nav-number">18.</span> <span class="nav-text">Problem 518</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_519"><span class="nav-number">19.</span> <span class="nav-text">Problem 519</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_520"><span class="nav-number">20.</span> <span class="nav-text">Problem 520</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_521"><span class="nav-number">21.</span> <span class="nav-text">Problem 521</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_522"><span class="nav-number">22.</span> <span class="nav-text">Problem 522</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_523"><span class="nav-number">23.</span> <span class="nav-text">Problem 523</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_524"><span class="nav-number">24.</span> <span class="nav-text">Problem 524</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_525"><span class="nav-number">25.</span> <span class="nav-text">Problem 525</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  2015
  <span class="with-love"><i class="icon-heart"></i></span>
  <span class="author"><a href="http://sx349.github.io">sx349</a></span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist 
  </a>by <a href="http://notes.iissnan.com/">IIssNan</a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.3" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if (isDesktop() && CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    });
  </script>




  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"sx349"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  

</body>
</html>
