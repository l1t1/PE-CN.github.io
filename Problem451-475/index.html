<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="Project Euler | 欧拉计划 中文翻译站" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: 'UA-65757005-1'
    },
    sidebar: 'post'
  };
</script>




  <title> Problem 451 - 475 // Project Euler | 欧拉计划 </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Project Euler | 欧拉计划</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-problems">
          <a href="/problems">
            <i class="menu-item-icon icon-problems"></i> <br />
            题目
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            关于
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'z6bmYNMJM3AR1esetWJa','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Problem 451 - 475
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-06-28
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Project-Euler-欧拉计划/">Project Euler | 欧拉计划</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/Problem451-475/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="Problem451-475/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <hr>
<a id="more"></a>
<hr>
<h1 id="Problem_451"><a href="https://projecteuler.net/problem=451" target="_blank" rel="external">Problem 451</a></h1><hr>
<p><strong>Modular inverses</strong></p>
<p>Consider the number 15.<br>There are eight positive numbers less than 15 which are coprime to 15: 1, 2, 4, 7, 8, 11, 13, 14.<br>The modular inverses of these numbers modulo 15 are: 1, 8, 4, 13, 2, 11, 7, 14<br>because<br>1*1 mod 15=1<br>2*8=16 mod 15=1<br>4*4=16 mod 15=1<br>7*13=91 mod 15=1<br>11*11=121 mod 15=1<br>14*14=196 mod 15=1</p>
<p>Let I(n) be the largest positive number m smaller than n-1 such that the modular inverse of m modulo n equals m itself.<br>So I(15)=11.<br>Also I(100)=51 and I(7)=1.</p>
<p>Find ∑I(n) for 3≤n≤2·10<sup>7</sup></p>
<hr>
<p><strong>同余逆</strong></p>
<p>考虑数15。<br>有8个小于15的正整数与15互质，分别是：1，2，4，7，8，11，13，14。<br>这些数在模15意义下的同余逆是：1, 8, 4, 13, 2, 11, 7, 14<br>因为<br>1*1 mod 15=1<br>2*8=16 mod 15=1<br>4*4=16 mod 15=1<br>7*13=91 mod 15=1<br>11*11=121 mod 15=1<br>14*14=196 mod 15=1</p>
<p>若小于n-1的正整数m满足其同余逆等于本身，记最大的m为I(n)。<br>所以I(15)=11。<br>同理有I(100)=51以及I(7)=1。</p>
<p>对于3≤n≤2·10<sup>7</sup>求∑I(n)。</p>
<hr>
<hr>
<h1 id="Problem_452"><a href="https://projecteuler.net/problem=452" target="_blank" rel="external">Problem 452</a></h1><hr>
<p><strong>Long Products</strong></p>
<p>Define F(m,n) as the number of n-tuples of positive integers for which the product of the elements doesn’t exceed m.</p>
<p>F(10, 10) = 571.</p>
<p>F(10<sup>6</sup>, 10<sup>6</sup>) mod 1&nbsp;234&nbsp;567&nbsp;891 = 252903833.</p>
<p>Find F(10<sup>9</sup>, 10<sup>9</sup>) mod 1&nbsp;234&nbsp;567&nbsp;891.</p>
<hr>
<p><strong>长乘积</strong></p>
<p>记F(m,n)是所有乘积不超过m的n元组的数目。</p>
<p>F(10, 10) = 571.</p>
<p>F(10<sup>6</sup>, 10<sup>6</sup>) mod 1&nbsp;234&nbsp;567&nbsp;891 = 252903833.</p>
<p>求F(10<sup>9</sup>, 10<sup>9</sup>) mod 1&nbsp;234&nbsp;567&nbsp;891。</p>
<hr>
<hr>
<h1 id="Problem_453"><a href="https://projecteuler.net/problem=453" target="_blank" rel="external">Problem 453</a></h1><hr>
<p><strong>Lattice Quadrilaterals</strong></p>
<p>A <strong>simple quadrilateral</strong> is a polygon that has four distinct vertices, has no straight angles and does not self-intersect.</p>
<p>Let Q(m, n) be the number of simple quadrilaterals whose vertices are lattice points with coordinates (x,y) satisfying 0 ≤ x ≤ m and 0 ≤ y ≤ n.</p>
<p>For example, Q(2, 2) = 94 as can be seen below:</p>
<center><img src="https://projecteuler.net/project/images/p453_quad.png"></center>

<p>It can also be verified that Q(3, 7) = 39590, Q(12, 3) = 309000 and Q(123, 45) = 70542215894646.</p>
<p>Find Q(12345, 6789) mod 135707531.</p>
<hr>
<p><strong>格点四边形</strong></p>
<p>一个<strong>简单四边形</strong>是指有四个顶点、没有任意三个顶点共线且不自交的多边形。</p>
<p>记坐标在格点上，且格点坐标满足0 ≤ x ≤ m以及0 ≤ y ≤ n的简单四边形数目为Q(m, n)。</p>
<p>例如，Q(2, 2) = 94，如下图所示：</p>
<center><img src="https://projecteuler.net/project/images/p453_quad.png"></center>

<p>可以验证，Q(3, 7) = 39590，Q(12, 3) = 309000以及Q(123, 45) = 70542215894646.</p>
<p>求Q(12345, 6789) mod 135707531。</p>
<hr>
<hr>
<h1 id="Problem_454"><a href="https://projecteuler.net/problem=454" target="_blank" rel="external">Problem 454</a></h1><hr>
<p><strong>Diophantine reciprocals III</strong></p>
<p>In the following equation x, y, and n are positive integers.</p>
<p>$$\frac{1}{x}+\frac{1}{y}=\frac{1}{n}$$</p>
<p>For a limit L we define F(L) as the number of solutions which satisfy x &lt; y ≤ L.</p>
<p>We can verify that F(15) = 4 and F(1000) = 1069.<br>Find F(10<sup>12</sup>).</p>
<hr>
<p><strong>丢番图倒数III</strong></p>
<p>在如下方程中，x、y、n均为正整数。</p>
<p>$$\frac{1}{x}+\frac{1}{y}=\frac{1}{n}$$</p>
<p>我们记上述方程满足x &lt; y ≤ L的解的数目为F(L)。</p>
<p>可以验证F(15) = 4以及F(1000) = 1069。<br>求F(10<sup>12</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_455"><a href="https://projecteuler.net/problem=455" target="_blank" rel="external">Problem 455</a></h1><hr>
<p><strong>Powers With Trailing Digits</strong></p>
<p>Let f(n) be the largest positive integer x less than 10<sup>9</sup> such that the last 9 digits of n<sup>x</sup> form the number x (including leading zeros), or zero if no such integer exists.</p>
<p>For example:</p>
<ul>
<li>f(4) = 411728896 (4<sup>411728896</sup> = …490<u>411728896</u>) </li>
<li>f(10) = 0</li>
<li>f(157) = 743757 (157<sup>743757</sup> = …567<u>000743757</u>)</li>
<li>Σf(n), 2 ≤ n ≤ 10<sup>3</sup> = 442530011399</li>
</ul>
<p>Find Σf(n), 2 ≤ n ≤ 10<sup>6</sup>.</p>
<hr>
<p><strong>尾数与指数相同的幂</strong></p>
<p>对于任意整数n，记f(n)是小于10<sup>9</sup>且满足n<sup>x</sup>的最后9位数字恰好等于x的最大的数。如果这样的数不存在，则f(n)等于0。</p>
<p>例如：</p>
<ul>
<li>f(4) = 411728896 (4<sup>411728896</sup> = …490<u>411728896</u>) </li>
<li>f(10) = 0</li>
<li>f(157) = 743757 (157<sup>743757</sup> = …567<u>000743757</u>)</li>
<li>Σf(n), 2 ≤ n ≤ 10<sup>3</sup> = 442530011399</li>
</ul>
<p>求Σf(n), 2 ≤ n ≤ 10<sup>6</sup>。</p>
<hr>
<hr>
<h1 id="Problem_456"><a href="https://projecteuler.net/problem=456" target="_blank" rel="external">Problem 456</a></h1><hr>
<p><strong>Triangles containing the origin II</strong></p>
<p>Define:<br>x<sub>n</sub> = (1248<sup>n</sup> mod 32323) - 16161<br>y<sub>n</sub> = (8421<sup>n</sup> mod 30103) - 15051<br>P<sub>n</sub> = {(x<sub>1</sub>, y<sub>1</sub>), (x<sub>2</sub>, y<sub>2</sub>), …, (x<sub>n</sub>, y<sub>n</sub>)}</p>
<p>For example, P<sub>8</sub> = {(-14913, -6630), (-10161, 5625), (5226, 11896), (8340, -10778), (15852, -5203), (-15165, 11295), (-1427, -14495), (12407, 1060)}.</p>
<p>Let C(n) be the number of triangles whose vertices are in P<sub>n</sub> which contain the origin in the interior.</p>
<p>Examples:<br>C(8) = 20<br>C(600) = 8950634<br>C(40&nbsp;000) = 2666610948988</p>
<p>Find C(2&nbsp;000&nbsp;000).</p>
<hr>
<p><strong>包含原点的三角形II</strong></p>
<p>我们定义：<br>x<sub>n</sub> = (1248<sup>n</sup> mod 32323) - 16161<br>y<sub>n</sub> = (8421<sup>n</sup> mod 30103) - 15051<br>P<sub>n</sub> = {(x<sub>1</sub>, y<sub>1</sub>), (x<sub>2</sub>, y<sub>2</sub>), …, (x<sub>n</sub>, y<sub>n</sub>)}</p>
<p>例如，P<sub>8</sub> = {(-14913, -6630), (-10161, 5625), (5226, 11896), (8340, -10778), (15852, -5203), (-15165, 11295), (-1427, -14495), (12407, 1060)}.</p>
<p>以P<sub>n</sub>中元素为顶点的三角形中，包含有原点在其内部的三角形数目记为C(n)。</p>
<p>例如：<br>C(8) = 20<br>C(600) = 8950634<br>C(40&nbsp;000) = 2666610948988</p>
<p>求C(2&nbsp;000&nbsp;000)。</p>
<hr>
<hr>
<h1 id="Problem_457"><a href="https://projecteuler.net/problem=457" target="_blank" rel="external">Problem 457</a></h1><hr>
<p><strong>A polynomial modulo the square of a prime</strong></p>
<p>Let f(n) = n<sup>2</sup> - 3n - 1.<br>Let p be a prime.<br>Let R(p) be the smallest positive integer n such that f(n) mod p<sup>2</sup> = 0 if such an integer n exists, otherwise R(p) = 0.</p>
<p>Let SR(L) be ∑R(p) for all primes not exceeding L.</p>
<p>Find SR(10<sup>7</sup>).</p>
<hr>
<p><strong>多项式对素数平方取模</strong></p>
<p>记f(n) = n<sup>2</sup> - 3n - 1。<br>记p为任意素数。<br>记R(p)是使得f(n) mod p<sup>2</sup> = 0的最小正整数n；若这样的数不存在，则R(p) = 0。</p>
<p>对于所有不超过L的素数p，记SR(L)为∑R(p)。</p>
<p>求SR(10<sup>7</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_458"><a href="https://projecteuler.net/problem=458" target="_blank" rel="external">Problem 458</a></h1><hr>
<p><strong>Permutations of Project</strong></p>
<p>Consider the alphabet A made out of the letters of the word “project”: A={c,e,j,o,p,r,t}.<br>Let T(n) be the number of strings of length n consisting of letters from A that do not have a substring that is one of the 5040 permutations of “project”.</p>
<p>T(7)=7<sup>7</sup>-7!=818503.</p>
<p>Find T(10<sup>12</sup>). Give the last 9 digits of your answer.</p>
<hr>
<p><strong>Project的重排</strong></p>
<p>考虑单词“Project”中的字母构成的字符集A={c,e,j,o,p,r,t}。<br>记T(n)是由A中的字符构成的长度为n且不包含有“project”的5040种重排中任何一个为其子串的字符串数目。</p>
<p>已知T(7)=7<sup>7</sup>-7!=818503。</p>
<p>求T(10<sup>12</sup>)，并给出其最后9位数字。</p>
<hr>
<hr>
<h1 id="Problem_459"><a href="https://projecteuler.net/problem=459" target="_blank" rel="external">Problem 459</a></h1><hr>
<p><strong>Flipping game</strong></p>
<p>The flipping game is a two player game played on a N by N square board.<br>Each square contains a disk with one side white and one side black.<br>The game starts with all disks showing their white side.</p>
<p>A turn consists of flipping all disks in a rectangle with the following properties:</p>
<ul>
<li>the upper right corner of the rectangle contains a white disk</li>
<li>the rectangle width is a perfect square (1, 4, 9, 16, …)</li>
<li>the rectangle height is a <dfn title="The triangular numbers are defined as ½&nbsp;n(n + 1) for positive integer n.">triangular number</dfn> (1, 3, 6, 10, …)</li>
</ul>
<center><img src="https://projecteuler.net/project/images/p459-flipping-game-0.png"></center>

<p>Players alternate turns. A player wins by turning the grid all black.</p>
<p>Let W(N) be the number of <dfn title="The first move of a strategy that ensures a win no matter what the opponent plays.">winning moves</dfn> for the first player on a N by N board with all disks white, assuming perfect play.<br>W(1) = 1, W(2) = 0, W(5) = 8 and W(10<sup>2</sup>) = 31395.</p>
<p>For N=5, the first player’s eight winning first moves are:</p>
<center><img src="https://projecteuler.net/project/images/p459-flipping-game-1.png"></center><br><center><img src="https://projecteuler.net/project/images/p459-flipping-game-2.png"></center>

<p>Find W(10<sup>6</sup>).</p>
<hr>
<p><strong>翻转游戏</strong></p>
<p>翻转游戏需要两名玩家和一块N乘N大小的方格板。<br>每一个方格上放置着一个一面黑一面白的圆盘。<br>游戏开始时，所有的圆盘都是白面朝上。</p>
<p>每一轮玩家可以选择满足如下条件的一个长方形，并翻转其中的所有圆盘：</p>
<ul>
<li>长方形的右上角是一个白色圆盘。</li>
<li>长方形的宽度是一个平方数，如(1, 4, 9, 16, …)。</li>
<li>长方形的高度是一个<dfn title="三角形数是指可以表示为½&nbsp;n(n + 1)的整数，其中n是正整数。">三角形数</dfn> ，如(1, 3, 6, 10, …)。</li>
</ul>
<center><img src="https://projecteuler.net/project/images/p459-flipping-game-0.png"></center>

<p>玩家轮流进行游戏。当玩家将所有的方格都翻转成黑色圆盘时，该玩家获胜。</p>
<p>记W(N)是先手玩家在一个N乘N大小的方格上进行游戏时<dfn title="无论对方如何应对总能获胜的第一步操作">致胜操作</dfn> 的数目。<br>已知W(1) = 1，W(2) = 0，W(5) = 8，以及W(10<sup>2</sup>) = 31395。</p>
<p>当N=5时，先手玩家的8种致胜操作分别是：</p>
<center><img src="https://projecteuler.net/project/images/p459-flipping-game-1.png"></center><br><center><img src="https://projecteuler.net/project/images/p459-flipping-game-2.png"></center>

<p>求W(10<sup>6</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_460"><a href="https://projecteuler.net/problem=460" target="_blank" rel="external">Problem 460</a></h1><hr>
<p><strong>An ant on the move</strong></p>
<p>On the Euclidean plane, an ant travels from point A(0, 1) to point B(d, 1) for an integer d.</p>
<p>In each step, the ant at point (x<sub>0</sub>, y<sub>0</sub>) chooses one of the lattice points (x<sub>1</sub>, y<sub>1</sub>) which satisfy x<sub>1</sub> ≥ 0 and y<sub>1</sub> ≥ 1 and goes straight to (x<sub>1</sub>, y<sub>1</sub>) at a constant velocity v. The value of v depends on y<sub>0</sub> and y<sub>1</sub> as follows:</p>
<ul>
<li>If y<sub>0</sub> = y<sub>1</sub>, the value of v equals y<sub>0</sub>.</li>
<li>If y<sub>0</sub> ≠ y<sub>1</sub>, the value of v equals (y<sub>1</sub> - y<sub>0</sub>) / (ln(y<sub>1</sub>) - ln(y<sub>0</sub>)).</li>
</ul>
<p>The left image is one of the possible paths for d = 4. First the ant goes from A(0, 1) to P<sub>1</sub>(1, 3) at velocity (3 - 1) / (ln(3) - ln(1)) ≈ 1.8205. Then the required time is sqrt(5) / 1.8205 ≈ 1.2283.<br>From P<sub>1</sub>(1, 3) to P<sub>2</sub>(3, 3) the ant travels at velocity 3 so the required time is 2 / 3 ≈ 0.6667. From P<sub>2</sub>(3, 3) to B(4, 1) the ant travels at velocity (1 - 3) / (ln(1) - ln(3)) ≈ 1.8205 so the required time is sqrt(5) / 1.8205 ≈ 1.2283.<br>Thus the total required time is 1.2283 + 0.6667 + 1.2283 = 3.1233.</p>
<p>The right image is another path. The total required time is calculated as 0.98026 + 1 + 0.98026 = 2.96052. It can be shown that this is the quickest path for d = 4.</p>
<center><img src="https://projecteuler.net/project/images/p460_ant.jpg"></center>

<p>Let F(d) be the total required time if the ant chooses the quickest path. For example, F(4) ≈ 2.960516287.<br>We can verify that F(10) ≈ 4.668187834 and F(100) ≈ 9.217221972.</p>
<p>Find F(10000). Give your answer rounded to nine decimal places.</p>
<hr>
<p><strong>蚂蚁旅行</strong></p>
<p>在欧几里德平面上，一只蚂蚁打算从点A(0, 1)运动到点B(d, 1)，其中d是一个整数。</p>
<p>每一步，位于点(x<sub>0</sub>, y<sub>0</sub>)的蚂蚁会选择一个格点(x<sub>1</sub>, y<sub>1</sub>)，满足x<sub>1</sub> ≥ 0及y<sub>1</sub> ≥ 1，然后以恒定速率v径直移动过去。v的值取决于y<sub>0</sub>和y<sub>1</sub>，如下所示：</p>
<ul>
<li>若y<sub>0</sub> = y<sub>1</sub>，则v的值为y<sub>0</sub>。</li>
<li>若y<sub>0</sub> ≠ y<sub>1</sub>，则v的值为(y<sub>1</sub> - y<sub>0</sub>) / (ln(y<sub>1</sub>) - ln(y<sub>0</sub>))。</li>
</ul>
<p>左图是当d = 4时的其中一条路径。首先蚂蚁从点A(0, 1)移动到点P<sub>1</sub>(1, 3)，速率为(3 - 1) / (ln(3) - ln(1)) ≈ 1.8205，所需时间为sqrt(5) / 1.8205 ≈ 1.2283。<br>再从点P<sub>1</sub>(1, 3)移动到点P<sub>2</sub>(3, 3)，蚂蚁的速率为3，所需时间为2 / 3 ≈ 0.6667。从点P<sub>2</sub>(3, 3)移动到点B(4, 1)，蚂蚁的速率是(1 - 3) / (ln(1) - ln(3)) ≈ 1.8205，所需时间为sqrt(5) / 1.8205 ≈ 1.2283。<br>因此，总耗时为1.2283 + 0.6667 + 1.2283 = 3.1233。</p>
<p>右图是另一条可行路径，总耗时为0.98026 + 1 + 0.98026 = 2.96052，可以看出这是d = 4时的最快路径。</p>
<center><img src="https://projecteuler.net/project/images/p460_ant.jpg"></center>

<p>记F(d)是蚂蚁选择最快路径时所需的耗时，例如F(4) ≈ 2.960516287。<br>我们可以验证F(10) ≈ 4.668187834以及F(100) ≈ 9.217221972。</p>
<p>求F(10000)，保留9位小数。</p>
<hr>
<hr>
<h1 id="Problem_461"><a href="https://projecteuler.net/problem=461" target="_blank" rel="external">Problem 461</a></h1><hr>
<p><strong>Almost Pi</strong></p>
<p>Let f<sub>n</sub>(k)&nbsp;=&nbsp;e<sup>k/n</sup>&nbsp;-&nbsp;1, for all non-negative integers k.</p>
<p>Remarkably, f<sub>200</sub>(6)&nbsp;+&nbsp;f<sub>200</sub>(75)&nbsp;+&nbsp;f<sub>200</sub>(89)&nbsp;+&nbsp;f<sub>200</sub>(226)&nbsp;= <u>3.1415926</u>44529…&nbsp;≈&nbsp;π.</p>
<p>In fact, it is the best approximation of π of the form f<sub>n</sub>(a)&nbsp;+&nbsp;f<sub>n</sub>(b)&nbsp;+&nbsp;f<sub>n</sub>(c)&nbsp;+&nbsp;f<sub>n</sub>(d) for n&nbsp;=&nbsp;200.</p>
<p>Let g(n)&nbsp;=&nbsp;a<sup>2</sup>&nbsp;+&nbsp;b<sup>2</sup>&nbsp;+&nbsp;c<sup>2</sup>&nbsp;+&nbsp;d<sup>&thinsp;2</sup> for a, b, c, d that minimize the error: |&nbsp;f<sub>n</sub>(a)&nbsp;+&nbsp;f<sub>n</sub>(b)&nbsp;+&nbsp;f<sub>n</sub>(c)&nbsp;+&nbsp;f<sub>n</sub>(d)&nbsp;-&nbsp;π|<br>(where |x| denotes the absolute value of x).</p>
<p>You are given g(200)&nbsp;=&nbsp;6<sup>2</sup>&nbsp;+&nbsp;75<sup>2</sup>&nbsp;+&nbsp;89<sup>2</sup>&nbsp;+&nbsp;226<sup>2</sup>&nbsp;=&nbsp;64658.</p>
<p>Find g(10000).</p>
<hr>
<p><strong>几乎是π</strong></p>
<p>对于所有非负整数k，记f<sub>n</sub>(k)&nbsp;=&nbsp;e<sup>k/n</sup>&nbsp;-&nbsp;1。</p>
<p>令人惊讶的是，f<sub>200</sub>(6)&nbsp;+&nbsp;f<sub>200</sub>(75)&nbsp;+&nbsp;f<sub>200</sub>(89)&nbsp;+&nbsp;f<sub>200</sub>(226)&nbsp;= <u>3.1415926</u>44529…&nbsp;≈&nbsp;π.</p>
<p>事实上，这是当n&nbsp;=&nbsp;200时，形如f<sub>n</sub>(a)&nbsp;+&nbsp;f<sub>n</sub>(b)&nbsp;+&nbsp;f<sub>n</sub>(c)&nbsp;+&nbsp;f<sub>n</sub>(d)的式子对π的最好近似值。</p>
<p>当a，b，c，d使得误差|&nbsp;f<sub>n</sub>(a)&nbsp;+&nbsp;f<sub>n</sub>(b)&nbsp;+&nbsp;f<sub>n</sub>(c)&nbsp;+&nbsp;f<sub>n</sub>(d)&nbsp;-&nbsp;π|取最小值时，记g(n)&nbsp;=&nbsp;a<sup>2</sup>&nbsp;+&nbsp;b<sup>2</sup>&nbsp;+&nbsp;c<sup>2</sup>&nbsp;+&nbsp;d<sup>&thinsp;2</sup><br>（其中|x|指的是x的绝对值）。</p>
<p>已知g(200)&nbsp;=&nbsp;6<sup>2</sup>&nbsp;+&nbsp;75<sup>2</sup>&nbsp;+&nbsp;89<sup>2</sup>&nbsp;+&nbsp;226<sup>2</sup>&nbsp;=&nbsp;64658。</p>
<p>求g(10000)。</p>
<hr>
<hr>
<h1 id="Problem_462"><a href="https://projecteuler.net/problem=462" target="_blank" rel="external">Problem 462</a></h1><hr>
<p><strong>Permutation of 3-smooth numbers</strong></p>
<p>A <strong>3-smooth number</strong> is an integer which has no prime factor larger than 3. For an integer N, we define S(N) as the set of 3-smooth numbers less than or equal to N . For example, S(20) = { 1, 2, 3, 4, 6, 8, 9, 12, 16, 18 }.</p>
<p>We define F(N) as the number of permutations of S(N) in which each element comes after all of its proper divisors.</p>
<p>This is one of the possible permutations for N = 20.<br>1, 2, 4, 3, 9, 8, 16, 6, 18, 12.<br>This is not a valid permutation because 12 comes before its divisor 6.<br>1, 2, 4, 3, 9, 8, <strong>12</strong>, 16, <strong>6</strong>, 18.</p>
<p>We can verify that F(6) = 5, F(8) = 9, F(20) = 450 and F(1000) ≈ 8.8521816557e21.<br>Find F(10<sup>18</sup>). Give as your answer its scientific notation rounded to ten digits after the decimal point.<br>When giving your answer, use a lowercase e to separate mantissa and exponent. E.g. if the answer is 112,233,445,566,778,899 then the answer format would be 1.1223344557e17.</p>
<hr>
<p><strong>3-光滑数重排</strong></p>
<p><strong>3-光滑数</strong>是指所含质因数不大于3的整数。对于整数N，我们定义S(N)是所有小于等于N的3-光滑数所构成的集合，例如，S(20) = { 1, 2, 3, 4, 6, 8, 9, 12, 16, 18 }。</p>
<p>对集合S(N)的元素进行排列使得每个元素都排在其所有真因数之后，记这样的重排数为F(N)。</p>
<p>如下是N = 20时一个有效的重排。<br>1, 2, 4, 3, 9, 8, 16, 6, 18, 12.<br>如下不是一个有效的重排，因为12排在其真因数6之前。<br>1, 2, 4, 3, 9, 8, <strong>12</strong>, 16, <strong>6</strong>, 18.</p>
<p>可以验证F(6) = 5，F(8) = 9，F(20) = 450，以及F(1000) ≈ 8.8521816557e21。<br>求F(10<sup>18</sup>)，并用保留10位小数的科学计数法表示。<br>用小写字母e分割尾数和指数，例如，如果答案是112,233,445,566,778,899，则应写成1.1223344557e17。</p>
<hr>
<hr>
<h1 id="Problem_463"><a href="https://projecteuler.net/problem=463" target="_blank" rel="external">Problem 463</a></h1><hr>
<p><strong>A weird recurrence relation</strong></p>
<p>The function f is defined for all positive integers as follows:</p>
<ul>
<li>f(1)=1</li>
<li>f(3)=3</li>
<li>f(2n)=f(n)</li>
<li>f(4n+1)=2f(2n+1)−f(n)</li>
<li>f(4n+3)=3f(2n+1)−2f(n)</li>
</ul>
<p>The function S(n) is defined as ∑<sub>i=1</sub><sup>n</sup>f(i).</p>
<p>S(8)=22 and S(100)=3604.</p>
<p>Find S(337). Give the last 9 digits of your answer.</p>
<hr>
<p><strong>奇怪的递归关系</strong></p>
<p>定义在全体正整数上的函数f如下所示：</p>
<ul>
<li>f(1)=1</li>
<li>f(3)=3</li>
<li>f(2n)=f(n)</li>
<li>f(4n+1)=2f(2n+1)−f(n)</li>
<li>f(4n+3)=3f(2n+1)−2f(n)</li>
</ul>
<p>函数S(n)的定义是∑<sub>i=1</sub><sup>n</sup>f(i)。</p>
<p>已知S(8)=22以及S(100)=3604。</p>
<p>求S(337)并给出其最后9位数字。</p>
<hr>
<hr>
<h1 id="Problem_464"><a href="https://projecteuler.net/problem=464" target="_blank" rel="external">Problem 464</a></h1><hr>
<p><strong>Möbius function and intervals</strong></p>
<p>The <strong>Möbius function</strong>, denoted μ(n), is defined as:</p>
<ul>
<li>μ(n) = (-1)<sup>ω(n)</sup> if n is squarefree (where ω(n) is the number of distinct prime factors of n)</li>
<li>μ(n) = 0 if n is not squarefree.</li>
</ul>
<p>Let P(a,b) be the number of integers n in the interval [a,b] such that μ(n) = 1.<br>Let N(a,b) be the number of integers n in the interval [a,b] such that μ(n) = -1.<br>For example, P(2,10) = 2 and N(2,10) = 4.</p>
<p>Let C(n) be the number of integer pairs (a,b) such that:</p>
<ul>
<li>1&nbsp;≤&nbsp;a&nbsp;≤&nbsp;b&nbsp;≤&nbsp;n,</li>
<li>99·N(a,b)&nbsp;≤&nbsp;100·P(a,b),</li>
<li>99·P(a,b)&nbsp;≤&nbsp;100·N(a,b).</li>
</ul>
<p>For example, C(10)&nbsp;=&nbsp;13, C(500)&nbsp;=&nbsp;16676 and C(10&nbsp;000)&nbsp;=&nbsp;20155319.</p>
<p>Find C(20&nbsp;000&nbsp;000).</p>
<hr>
<p><strong>莫比乌斯函数和区间</strong></p>
<p><strong>莫比乌斯函数</strong>μ(n)按照如下方式定义：</p>
<ul>
<li>μ(n) = (-1)<sup>ω(n)</sup>，如果n是无平方因子的（其中ω(n)是n的不同质因数的个数）</li>
<li>μ(n) = 0 如果n不是无平方因子的。</li>
</ul>
<p>记P(a,b)是在区间[a,b]中使得μ(n) = 1的整数n的个数。<br>记N(a,b)是在区间[a,b]中使得μ(n) = -1的整数n的个数。<br>举例而言，P(2,10) = 2，N(2,10) = 4.</p>
<p>记C(n)是满足如下条件的整数对(a,b)的数目：</p>
<ul>
<li>1&nbsp;≤&nbsp;a&nbsp;≤&nbsp;b&nbsp;≤&nbsp;n,</li>
<li>99·N(a,b)&nbsp;≤&nbsp;100·P(a,b),</li>
<li>99·P(a,b)&nbsp;≤&nbsp;100·N(a,b).</li>
</ul>
<p>例如，C(10)&nbsp;=&nbsp;13，C(500)&nbsp;=&nbsp;16676，而C(10&nbsp;000)&nbsp;=&nbsp;20155319.</p>
<p>求C(20&nbsp;000&nbsp;000)。</p>
<hr>
<hr>
<h1 id="Problem_465"><a href="https://projecteuler.net/problem=465" target="_blank" rel="external">Problem 465</a></h1><hr>
<p><strong>Polar polygons</strong></p>
<p>The <em>kernel</em> of a polygon is defined by the set of points from which the entire polygon’s boundary is visible. We define a <em>polar polygon</em> as a polygon for which the origin is <u>strictly</u> contained inside its kernel.</p>
<p>For this problem, a polygon can have collinear consecutive vertices. However, a polygon still cannot have self-intersection and cannot have zero area.</p>
<p>For example, only the first of the following is a polar polygon (the kernels of the second, third, and fourth do not strictly contain the origin, and the fifth does not have a kernel at all):</p>
<center><img src="https://projecteuler.net/project/images/p465_polygons.png"></center>

<p>Notice that the first polygon has three consecutive collinear vertices.</p>
<p>Let P(n) be the number of polar polygons such that the vertices (x, y) have integer coordinates whose absolute values are not greater than n.</p>
<p>Note that polygons should be counted as different if they have different set of edges, even if they enclose the same area. For example, the polygon with vertices [(0,0),(0,3),(1,1),(3,0)] is distinct from the polygon with vertices [(0,0),(0,3),(1,1),(3,0),(1,0)].</p>
<p>For example, P(1) = 131, P(2) = 1648531, P(3) = 1099461296175 and P(343) mod 1&nbsp;000&nbsp;000&nbsp;007 = 937293740.</p>
<p>Find P(7<sup>13</sup>) mod 1&nbsp;000&nbsp;000&nbsp;007.</p>
<hr>
<p><strong>极点多边形</strong></p>
<p>多边形的<em class="zh">核心</em>指的是多边形内能够观察到多边形的所有边界的点集。如果一个多边形的核心<u>严格</u>包含原点，这个多边形被称为<em class="zh">极点多边形</em>。</p>
<p>在这个问题中，一个多边形允许包含连续的共线顶点，但是多边形不允许自交，面积也不能为零。</p>
<p>例如，以下的图形中只有第一个是极点多边形（第二、三、四个多边形的核心不严格包含原点，第五个多边形没有核心）：</p>
<center><img src="https://projecteuler.net/project/images/p465_polygons.png"></center>

<p>可以注意到第一个多边形中有三个连续的共线顶点。</p>
<p>记P(n)是满足以下条件的极点多边形的数目：多边形的顶点坐标(x, y)均为整数，且绝对值不大于n。</p>
<p>注意即使多边形围住的区域相同，如果它们的边不相同，也被认为是不同的多边形。例如，顶点坐标分别为[(0,0),(0,3),(1,1),(3,0)]的多边形被认为不同于顶点坐标分别为[(0,0),(0,3),(1,1),(3,0),(1,0)]的多边形。</p>
<p>举例而言，P(1) = 131，P(2) = 1648531，P(3) = 1099461296175，而P(343) mod 1&nbsp;000&nbsp;000&nbsp;007 = 937293740。</p>
<p>求P(7<sup>13</sup>) mod 1&nbsp;000&nbsp;000&nbsp;007。</p>
<hr>
<hr>
<h1 id="Problem_466"><a href="https://projecteuler.net/problem=466" target="_blank" rel="external">Problem 466</a></h1><hr>
<p><strong>Distinct terms in a multiplication table</strong></p>
<p>Let P(m,n) be the number of <em>distinct</em> terms in an m×n multiplication table.</p>
<p>For example, a 3×4 multiplication table looks like this:</p>
<table>
<thead>
<tr>
<th style="text-align:center">×&nbsp;</th>
<th style="text-align:center">1&nbsp;</th>
<th style="text-align:center">2&nbsp;</th>
<th style="text-align:center">3&nbsp;</th>
<th style="text-align:center">4&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1&nbsp;</td>
<td style="text-align:center">1&nbsp;</td>
<td style="text-align:center">2&nbsp;</td>
<td style="text-align:center">3&nbsp;</td>
<td style="text-align:center">4&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">2&nbsp;</td>
<td style="text-align:center">2&nbsp;</td>
<td style="text-align:center">4&nbsp;</td>
<td style="text-align:center">6&nbsp;</td>
<td style="text-align:center">8&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">3&nbsp;</td>
<td style="text-align:center">3&nbsp;</td>
<td style="text-align:center">6&nbsp;</td>
<td style="text-align:center">9&nbsp;</td>
<td style="text-align:center">12     </td>
</tr>
</tbody>
</table>
<p>There are 8 distinct terms {1,2,3,4,6,8,9,12}, therefore P(3,4) = 8.</p>
<p>You are given that:<br>P(64,64) = 1263,<br>P(12,345) = 1998, and<br>P(32,10<sup>15</sup>) = 13826382602124302.</p>
<p>Find P(64,10<sup>16</sup>).</p>
<hr>
<p><strong>乘法表中的不同项</strong></p>
<p>记P(m,n)是m×n乘法表中<em class="zh">不同</em>的项的个数。</p>
<p>下图是一个3×4的乘法表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">×&nbsp;</th>
<th style="text-align:center">1&nbsp;</th>
<th style="text-align:center">2&nbsp;</th>
<th style="text-align:center">3&nbsp;</th>
<th style="text-align:center">4&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1&nbsp;</td>
<td style="text-align:center">1&nbsp;</td>
<td style="text-align:center">2&nbsp;</td>
<td style="text-align:center">3&nbsp;</td>
<td style="text-align:center">4&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">2&nbsp;</td>
<td style="text-align:center">2&nbsp;</td>
<td style="text-align:center">4&nbsp;</td>
<td style="text-align:center">6&nbsp;</td>
<td style="text-align:center">8&nbsp;</td>
</tr>
<tr>
<td style="text-align:center">3&nbsp;</td>
<td style="text-align:center">3&nbsp;</td>
<td style="text-align:center">6&nbsp;</td>
<td style="text-align:center">9&nbsp;</td>
<td style="text-align:center">12     </td>
</tr>
</tbody>
</table>
<p>在这个乘法表中有8个不同的项{1,2,3,4,6,8,9,12}，因此P(3,4) = 8。</p>
<p>已知：<br>P(64,64) = 1263，<br>P(12,345) = 1998，以及<br>P(32,10<sup>15</sup>) = 13826382602124302。</p>
<p>求P(64,10<sup>16</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_467"><a href="https://projecteuler.net/problem=467" target="_blank" rel="external">Problem 467</a></h1><hr>
<p><strong>Superinteger</strong></p>
<p>An integer s is called a <em>superinteger</em> of another integer n if the digits of n form a <dfn title="A subsequence is a sequence that can be derived from another sequence by deleting some elements without changing the order of the remaining elements.">subsequence</dfn> of the digits of s.<br>For example, 2718281828 is a superinteger of 18828, while 314159 is not a superinteger of 151.</p>
<p>Let p(n) be the nth prime number, and let c(n) be the nth composite number. For example, p(1) = 2, p(10) = 29, c(1) = 4 and c(10) = 18.<br>{p(i) : i ≥ 1} = {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, …}<br>{c(i) : i ≥ 1} = {4, 6, 8, 9, 10, 12, 14, 15, 16, 18, …}</p>
<p>Let P<sup>D</sup> the sequence of the <strong>digital roots</strong> of {p(i)} (C<sup>D</sup> is defined similarly for {c(i)}):<br>P<sup>D</sup> = {2, 3, 5, 7, 2, 4, 8, 1, 5, 2, …}<br>C<sup>D</sup> = {4, 6, 8, 9, 1, 3, 5, 6, 7, 9, …}</p>
<p>Let P<sub>n</sub> be the integer formed by concatenating the first n elements of P<sup>D</sup> (C<sub>n</sub> is defined similarly for C<sup>D</sup>).<br>P<sub>10</sub> = 2357248152<br>C<sub>10</sub> = 4689135679</p>
<p>Let f(n) be the smallest positive integer that is a common superinteger of P<sub>n</sub> and C<sub>n</sub>.<br>For example, f(10) = 2357246891352679, and f(100) mod 1&nbsp;000&nbsp;000&nbsp;007 = 771661825.</p>
<p>Find f(10&nbsp;000) mod 1&nbsp;000&nbsp;000&nbsp;007.</p>
<hr>
<p><strong>超级整数</strong></p>
<p>整数s被称为是另一个整数n的<em class="zh">超级整数</em>，当且仅当n的数字串是s的数字串的<dfn title="从一个串中去掉一部分元素而不改变剩下元素顺序，所得的称为子串。">子串</dfn>。<br>例如2718281828是18828的超级整数，而314159不是151的超级整数。</p>
<p>记p(n)是第n个质数，而c(n) 是第n个合数。例如p(1) = 2，p(10) = 29，c(1) = 4，而c(10) = 18。<br>{p(i) : i ≥ 1} = {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, …}<br>{c(i) : i ≥ 1} = {4, 6, 8, 9, 10, 12, 14, 15, 16, 18, …}</p>
<p>记P<sup>D</sup> 是{p(i)}中各项的<strong>数字根</strong>组成的序列（C<sup>D</sup>同理）：<br>{p(i) : i ≥ 1} = {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, …}<br>{c(i) : i ≥ 1} = {4, 6, 8, 9, 10, 12, 14, 15, 16, 18, …}</p>
<p>记P<sub>n</sub>是将P<sup>D</sup>的前n项连接起来所得的整数（C<sub>n</sub>同理）。<br>P<sup>D</sup> = {2, 3, 5, 7, 2, 4, 8, 1, 5, 2, …}<br>C<sup>D</sup> = {4, 6, 8, 9, 1, 3, 5, 6, 7, 9, …}</p>
<p>记f(n)是P<sub>n</sub>和C<sub>n</sub>的最小公共超级整数。<br>例如，f(10) = 2357246891352679，而f(100) mod 1&nbsp;000&nbsp;000&nbsp;007 = 771661825。</p>
<p>求f(10&nbsp;000) mod 1&nbsp;000&nbsp;000&nbsp;007。</p>
<hr>
<hr>
<h1 id="Problem_468"><a href="https://projecteuler.net/problem=468" target="_blank" rel="external">Problem 468</a></h1><hr>
<p><strong>Smooth divisors of binomial coefficients</strong></p>
<p>An integer is called <strong>B-smooth</strong> if none of its prime factors is greater than B.</p>
<p>Let S<sub>B</sub>(n) be the largest B-smooth divisor of n.<br>Examples:</p>
<p>S<sub>1</sub>(10) = 1<br>S<sub>4</sub>(2100) = 12<br>S<sub>17</sub>(2496144) = 5712</p>
<p>Define F(n) = ∑<sub>1≤B≤n</sub> ∑<sub>0≤r≤n</sub> S<sub>B</sub>(C(n,r)). Here, C(n,r) denotes the binomial coefficient.<br>Examples:</p>
<p>F(11) = 3132<br>F(1&nbsp;111) mod 1&nbsp;000&nbsp;000&nbsp;993 = 706036312<br>F(111&nbsp;111) mod 1&nbsp;000&nbsp;000&nbsp;993 = 22156169</p>
<p>Find F(11&nbsp;111&nbsp;111) mod 1&nbsp;000&nbsp;000&nbsp;993.</p>
<hr>
<p><strong>二项式系数的光滑因数</strong></p>
<p>当一个正整数的所有质因数都不大于 B时，这个整数被称为<strong>B-光滑数</strong>。</p>
<p>记S<sub>B</sub>(n)是n的最大的B-光滑因数。<br>例如：</p>
<p>S<sub>1</sub>(10) = 1<br>S<sub>4</sub>(2100) = 12<br>S<sub>17</sub>(2496144) = 5712</p>
<p>记F(n) = ∑<sub>1≤B≤n</sub> ∑<sub>0≤r≤n</sub> S<sub>B</sub>(C(n,r))，其中C(n,r)表示二项式系数。<br>例如:</p>
<p>F(11) = 3132<br>F(1&nbsp;111) mod 1&nbsp;000&nbsp;000&nbsp;993 = 706036312<br>F(111&nbsp;111) mod 1&nbsp;000&nbsp;000&nbsp;993 = 22156169</p>
<p>求F(11&nbsp;111&nbsp;111) mod 1&nbsp;000&nbsp;000&nbsp;993。</p>
<hr>
<hr>
<h1 id="Problem_469"><a href="https://projecteuler.net/problem=469" target="_blank" rel="external">Problem 469</a></h1><hr>
<p><strong>Empty chairs</strong></p>
<p>In a room N chairs are placed around a round table.<br>Knights enter the room one by one and choose at random an available empty chair.<br>To have enough elbow room the knights always leave at least one empty chair between each other.</p>
<p>When there aren’t any suitable chairs left, the fraction C of empty chairs is determined.<br>We also define E(N) as the expected value of C.<br>We can verify that E(4) = 1/2 and E(6) = 5/9.</p>
<p>Find E(10<sup>18</sup>). Give your answer rounded to fourteen decimal places in the form 0.abcdefghijklmn.</p>
<hr>
<p><strong>空椅子</strong></p>
<p>在一间屋子中，围绕圆桌摆了N把椅子。<br>骑士们依次进入屋子，并且随机选择一把空椅子坐下。<br>为了保证手肘不相互撞击，相邻的骑士之间至少要空出一张空椅子。</p>
<p>当剩下的空椅子都不能坐时，可以计算出空椅子的比例C。<br>记E(N)是C的期望值。<br>可以验证，E(4) = 1/2，而E(6) = 5/9。</p>
<p>求E(10<sup>18</sup>)，给出其小数点后14位数字，即0.abcdefghijklmn。</p>
<hr>
<hr>
<h1 id="Problem_470"><a href="https://projecteuler.net/problem=470" target="_blank" rel="external">Problem 470</a></h1><hr>
<p><strong>Super Ramvok</strong></p>
<p>Consider a single game of Ramvok:</p>
<p>Let t represent the maximum number of turns the game lasts. If t = 0, then the game ends immediately. Otherwise, on each turn i, the player rolls a die. After rolling, if i &lt; t the player can either stop the game and receive a prize equal to the value of the current roll, or discard the roll and try again next turn. If i = t, then the roll cannot be discarded and the prize must be accepted. Before the game begins, t is chosen by the player, who must then pay an up-front cost ct for some constant c. For c = 0, t can be chosen to be infinite (with an up-front cost of 0). Let R(d, c) be the expected profit (i.e. net gain) that the player receives from a single game of optimally-played Ramvok, given a fair d-sided die and cost constant c. For example, R(4, 0.2) = 2.65. Assume that the player has sufficient funds for paying any/all up-front costs.</p>
<p>Now consider a game of Super Ramvok:</p>
<p>In Super Ramvok, the game of Ramvok is played repeatedly, but with a slight modification. After each game, the die is altered. The alteration process is as follows: The die is rolled once, and if the resulting face has its pips visible, then that face is altered to be blank instead. If the face is already blank, then it is changed back to its original value. After the alteration is made, another game of Ramvok can begin (and during such a game, at each turn, the die is rolled until a face with a value on it appears). The player knows which faces are blank and which are not at all times. The game of Super Ramvok ends once all faces of the die are blank.</p>
<p>Let S(d, c) be the expected profit that the player receives from an optimally-played game of Super Ramvok, given a fair d-sided die to start (with all sides visible), and cost constant c. For example, S(6, 1) = 208.3.</p>
<p>Let F(n) = ∑<sub>4≤d≤n</sub> ∑<sub>0≤c≤n</sub> S(d, c).</p>
<p>Calculate F(20), rounded to the nearest integer.</p>
<hr>
<p><strong>超级Ramvok</strong></p>
<p>Ramvok是这样一个游戏：</p>
<p>t表示这个游戏最多进行的轮数，如果t = 0，那么游戏立刻停止。如果游戏没有停止，在第i轮时，玩家需要掷一个骰子，当i &lt; t时，玩家要么停止游戏并获得当前掷出的点数，要么放弃点数进入下一轮；当i = t时，玩家将不能放弃点数。游戏进行的轮数t由玩家在游戏开始前选定，并且玩家必须为此付出ct，其中c是某个给定的常数。如果c = 0，那么t可以选择为无穷，此时付出视为0。对于一个公平的d面骰子以及给定的常数c，记R(d, c)是玩家在Ramvok游戏中始终选择最优策略时的期望收益，例如R(4, 0.2) = 2.65。假定玩家有足够的钱来付出进行游戏的开销ct。</p>
<p>现在我们再来看另一个游戏，超级Ramvok：</p>
<p>在超级Ramvok游戏中，玩家要重复的玩Ramvok，但在每次Ramvok结束后，骰子会被做如下的改动：再掷出一次骰子，如果朝上的面仍然有点数，那就把这个点数改成空白；如果这个面已经是空白了，那就恢复其原来的点数。改动之后，游戏继续（注意在游戏中，玩家如果掷出空白的面将可以接着掷，直至朝上的面有点数为止）。玩家始终知道哪些面上有点数，而哪些面是空白。当所有的面都是空白的时候，超级Ramvok游戏结束。</p>
<p>对于一个公平的d面骰子以及给定的常数c，记S(d, c)是玩家在超级Ramvok游戏中始终选择最优策略时的期望收益，例如S(6, 1) = 208.3。</p>
<p>记F(n) = ∑<sub>4≤d≤n</sub> ∑<sub>0≤c≤n</sub> S(d, c)。</p>
<p>求F(20)并四舍五入到整数。</p>
<hr>
<hr>
<h1 id="Problem_471"><a href="https://projecteuler.net/problem=471" target="_blank" rel="external">Problem 471</a></h1><hr>
<p><strong>Triangle inscribed in ellipse</strong></p>
<p>The triangle ΔABC is inscribed in an ellipse with equation $\frac{x^2}{a^2}+\frac{y^2}{b^2}=1$, 0 &lt; 2b &lt; a, a and b integers.</p>
<p>Let r(a,b) be the radius of the incircle of ΔABC when the incircle has center (2b, 0) and A has coordinates $(\frac{a}{2}, \frac{\sqrt{3}}{2}b)$.</p>
<p>For example, r(3,1) = ½, r(6,2) = 1, r(12,3) = 2.</p>
<center><img src="https://projecteuler.net/project/images/p471-triangle-inscribed-in-ellipse-1.png"></center><br><center><img src="https://projecteuler.net/project/images/p471-triangle-inscribed-in-ellipse-2.png"></center>

<p>Let $G(n)=\sum_{a=3}^{n}\sum_{b=1}^{\lfloor \frac{a-1}{2} \rfloor}r(a,b)$</p>
<p>You are given G(10) = 20.59722222, G(100) = 19223.60980 (rounded to 10 significant digits).</p>
<p>Find G(1011).</p>
<p>Give your answer in scientific notation rounded to 10 significant digits. Use a lowercase e to separate mantissa and exponent.</p>
<p>For G(10) the answer would have been 2.059722222e1.</p>
<hr>
<p><strong>椭圆内接三角形</strong></p>
<p>三角形ΔABC内接于椭圆$\frac{x^2}{a^2}+\frac{y^2}{b^2}=1$，其中0 &lt; 2b &lt; a，a和b均为整数。</p>
<p>当三角形ΔABC的内接圆圆心是(2b, 0)，且A点坐标是$(\frac{a}{2}, \frac{\sqrt{3}}{2}b)$时，记r(a,b)是三角形ΔABC内接圆的半径。</p>
<p>例如，r(3,1) = ½，r(6,2) = 1，r(12,3) = 2。</p>
<center><img src="https://projecteuler.net/project/images/p471-triangle-inscribed-in-ellipse-1.png"></center><br><center><img src="https://projecteuler.net/project/images/p471-triangle-inscribed-in-ellipse-2.png"></center>

<p>记$G(n)=\sum_{a=3}^{n}\sum_{b=1}^{\lfloor \frac{a-1}{2} \rfloor}r(a,b)$</p>
<p>已知G(10) = 20.59722222，G(100) = 19223.60980（保留10位有效数字）</p>
<p>求G(1011)。</p>
<p>答案应当用10位有效数字的科学计数法表示，用小写字母e来分割尾数和指数。</p>
<p>例如，G(10)应当写成2.059722222e1。</p>
<hr>
<hr>
<h1 id="Problem_472"><a href="https://projecteuler.net/problem=472" target="_blank" rel="external">Problem 472</a></h1><hr>
<p><strong>Comfortable Distance II</strong></p>
<p>There are N seats in a row. N people come one after another to fill the seats according to the following rules:</p>
<ol>
<li>No person sits beside another.</li>
<li>The first person chooses any seat.</li>
<li>Each subsequent person chooses the seat furthest from anyone else already seated, as long as it does not violate rule 1. If there is more than one choice satisfying this condition, then the person chooses the leftmost choice.</li>
</ol>
<p>Note that due to rule 1, some seats will surely be left unoccupied, and the maximum number of people that can be seated is less than N (for N &gt; 1).</p>
<p>Here are the possible seating arrangements for N = 15:</p>
<center><img src="https://projecteuler.net/project/images/p472_n15.png"></center>

<p>We see that if the first person chooses correctly, the 15 seats can seat up to 7 people.<br>We can also see that the first person has 9 choices to maximize the number of people that may be seated.</p>
<p>Let f(N) be the number of choices the first person has to maximize the number of occupants for N seats in a row. Thus, f(1)&nbsp;=&nbsp;1, f(15)&nbsp;=&nbsp;9, f(20)&nbsp;=&nbsp;6, and f(500)&nbsp;=&nbsp;16.</p>
<p>Also, ∑f(N) = 83 for 1&nbsp;≤&nbsp;N&nbsp;≤&nbsp;20 and  ∑f(N) = 13343 for 1&nbsp;≤&nbsp;N&nbsp;≤&nbsp;500.</p>
<p>Find ∑f(N) for 1&nbsp;≤&nbsp;N&nbsp;≤&nbsp;10<sup>12</sup>. Give the last 8 digits of your answer.</p>
<hr>
<p><strong>舒适距离 II</strong></p>
<p>有一排N个座位，N个人根据下列规则依次坐到座位上：</p>
<ol>
<li>没有人坐在别人边上。</li>
<li>第一个人可以坐在任意位置。</li>
<li>接下来的每个人在不违背第一条规则的情况下，选择距离已经坐下的人最远的座位。如果有多于一个选择满足这个条件，选择最左边的座位。</li>
</ol>
<p>注意到由于有第一条规则的存在，有些座位一定会被空着，因此最多能坐下的人数一定比N要小（如果N &gt; 1）。</p>
<p>对于N = 15，下图表示了所有可能的座位安排：</p>
<center><img src="https://projecteuler.net/project/images/p472_n15.png"></center>

<p>可以看出如果第一个人选对了位置，那15个座位最多可以坐下7个人。<br>我们也能看出第一个人有9种方式来达到这个最大值。</p>
<p>记f(N)是第一个人使得N个座位能坐下最多的人的方法数，所以f(1)&nbsp;=&nbsp;1，f(15)&nbsp;=&nbsp;9，f(20)&nbsp;=&nbsp;6，f(500)&nbsp;=&nbsp;16。</p>
<p>同时，对于1&nbsp;≤&nbsp;N&nbsp;≤&nbsp;20，我们有∑f(N) = 83；对于1&nbsp;≤&nbsp;N&nbsp;≤&nbsp;500，我们有∑f(N) = 13343。</p>
<p>对于1&nbsp;≤&nbsp;N&nbsp;≤&nbsp;10<sup>12</sup>，求∑f(N)，并给出其最后八位数字。</p>
<hr>
<hr>
<h1 id="Problem_473"><a href="https://projecteuler.net/problem=473" target="_blank" rel="external">Problem 473</a></h1><hr>
<p><strong>Phigital number base</strong></p>
<p>Let φ be the golden ratio: φ=(1+√5)/2.<br>Remarkably it is possible to write every positive integer as a sum of powers of φ even if we require that every power of φ is used at most once in this sum.<br>Even then this representation is not unique.<br>We can make it unique by requiring that no powers with consecutive exponents are used and that the representation is finite.<br>E.g: 2=φ+φ<sup>−2</sup> and 3=φ<sup>2</sup>+φ<sup>−2</sup></p>
<p>To represent this sum of powers of φ we use a string of 0’s and 1’s with a point to indicate where the negative exponents start.<br>We call this the representation in the phigital numberbase.<br>So 1=1<sub>φ</sub>, 2=10.01<sub>φ</sub>, 3=100.01<sub>φ</sub> and 14=100100.001001<sub>φ</sub>.<br>The strings representing 1, 2 and 14 in the phigital number base are palindromic, while the string representating 3 is not.<br>(the phigital point is not the middle character).</p>
<p>The sum of the positive integers not exceeding 1000 whose phigital representation is palindromic is 4345.</p>
<p>Find the sum of the positive integers not exceeding 1010 whose phigital representation is palindromic.</p>
<hr>
<p><strong>φ进制</strong></p>
<p>记φ为黄金分割：φ=(1+√5)/2。<br>神奇的是，我们可以把所有的正整数用一系列φ的幂之和来表示，即使我们要求每个幂最多只能使用一次。<br>同时，这样的表达方式并不是唯一的。<br>为了使得这种表达方式变得唯一，我们可以要求不能使用两个相邻的幂，且使用的幂必须是有限个。<br>例如，我们有2=φ+φ<sup>−2</sup>，3=φ<sup>2</sup>+φ<sup>−2</sup></p>
<p>我们可以用一个只包含0、1和小数点的字符串来对应用φ的幂之和表示的数字。<br>我们把这个字符串表示法称为φ进制。<br>因此 1=1<sub>φ</sub>，2=10.01<sub>φ</sub>，3=100.01<sub>φ</sub>，14=100100.001001<sub>φ</sub>。<br>表示1，2和14的φ进制字符串是回文的，但表示3的字符串并不是。<br>（因为小数点并不在数字的中间）。</p>
<p>所有不超过1000的正整数中，φ进制表示为回文字符串的数之和为4345。</p>
<p>求所有不超过1010的正整数中，φ进制表示为回文字符串的数之和。</p>
<hr>
<hr>
<h1 id="Problem_474"><a href="https://projecteuler.net/problem=474" target="_blank" rel="external">Problem 474</a></h1><hr>
<p><strong>Last digits of divisors</strong></p>
<p>For a positive integer n and digits d, we define F(n, d) as the number of the divisors of n whose last digits equal d.<br>For example, F(84, 4) = 3. Among the divisors of 84 (1, 2, 3, 4, 6, 7, 12, 14, 21, 28, 42, 84), three of them (4, 14, 84) have the last digit 4.</p>
<p>We can also verify that F(12!, 12) = 11 and F(50!, 123) = 17888.</p>
<p>Find F(10<sup>6</sup>!, 65432) modulo (10<sup>16</sup> + 61).</p>
<hr>
<p><strong>因数的尾数</strong></p>
<p>对于一个正整数n和数字d，我们记F(n, d)为n的尾数是d的因数数目。<br>例如F(84, 4) = 3，因为在84的因数(1, 2, 3, 4, 6, 7, 12, 14, 21, 28, 42, 84)中，有三个因数(4, 14, 84)的尾数是4。</p>
<p>可以验证，F(12!, 12) = 11，F(50!, 123) = 17888。</p>
<p>求F(10<sup>6</sup>!, 65432) modulo (10<sup>16</sup> + 61)。</p>
<hr>
<hr>
<h1 id="Problem_475"><a href="https://projecteuler.net/problem=475" target="_blank" rel="external">Problem 475</a></h1><hr>
<p><strong>Music festival</strong></p>
<p>12n musicians participate at a music festival. On the first day, they form 3n quartets and practice all day.</p>
<p>It is a disaster. At the end of the day, all musicians decide they will never again agree to play with any member of their quartet.</p>
<p>On the second day, they form 4n trios, each musician avoiding his previous quartet partners.</p>
<p>Let f(12n) be the number of ways to organize the trios amongst the 12n musicians.</p>
<p>You are given f(12) = 576 and f(24) mod 1 000 000 007 = 509089824.</p>
<p>Find f(600) mod 1 000 000 007.</p>
<hr>
<p><strong>音乐节</strong></p>
<p>12n个音乐家参加了一场音乐节。第一天，他们组成了3n个四重奏，演奏了一整天。</p>
<p>这一天的演奏简直是场灾难，总之，在当天结束的时候，所有的音乐家都决定不再和这一天一同演奏四重奏的其它音乐家合作。</p>
<p>第二天，他们组成了4n个三重奏，每位音乐家都避开了第一天的合作者。</p>
<p>记f(12n)为这12n位音乐家组成三重奏的方法数。</p>
<p>已知f(12) = 576，f(24) mod 1 000 000 007 = 509089824。</p>
<p>求f(600) mod 1 000 000 007。</p>
<hr>

      
    </div>

    <div class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/Problem476-500/">Problem 476 - 500</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/Problem426-450/">Problem 426 - 450</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    <div class="post-spread">
      
    </div>

    
      <div class="comments" id="comments">
        
          <div class="ds-thread" data-thread-key="Problem451-475/"
               data-title="Problem 451 - 475" data-url="http://yoursite.com/Problem451-475/">
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/avatar.png" alt="sx349" />
          <p class="site-author-name">Leonhard Euler(1707-1783)</p>
        </div>
        <p class="site-description motion-element"><br>Project Euler | 欧拉计划<br>中文翻译站</p>
        
        

        <div class="links-of-author motion-element">
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name" style="font-size:14px">友情链接</p>
            
              <span class="links-of-author-item">
              <a href="https://projecteuler.net" target="_blank">Project Euler</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://pe.spiritzhang.com/" target="_blank">官方汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://jakwings.is-programmer.com/Project_Euler" target="_blank">饮水思源汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://sx349.github.io" target="_blank">译者博客</a>
              </span><br>
            
          
        </div>
        
      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_451"><span class="nav-number">1.</span> <span class="nav-text">Problem 451</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_452"><span class="nav-number">2.</span> <span class="nav-text">Problem 452</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_453"><span class="nav-number">3.</span> <span class="nav-text">Problem 453</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_454"><span class="nav-number">4.</span> <span class="nav-text">Problem 454</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_455"><span class="nav-number">5.</span> <span class="nav-text">Problem 455</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_456"><span class="nav-number">6.</span> <span class="nav-text">Problem 456</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_457"><span class="nav-number">7.</span> <span class="nav-text">Problem 457</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_458"><span class="nav-number">8.</span> <span class="nav-text">Problem 458</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_459"><span class="nav-number">9.</span> <span class="nav-text">Problem 459</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_460"><span class="nav-number">10.</span> <span class="nav-text">Problem 460</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_461"><span class="nav-number">11.</span> <span class="nav-text">Problem 461</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_462"><span class="nav-number">12.</span> <span class="nav-text">Problem 462</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_463"><span class="nav-number">13.</span> <span class="nav-text">Problem 463</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_464"><span class="nav-number">14.</span> <span class="nav-text">Problem 464</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_465"><span class="nav-number">15.</span> <span class="nav-text">Problem 465</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_466"><span class="nav-number">16.</span> <span class="nav-text">Problem 466</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_467"><span class="nav-number">17.</span> <span class="nav-text">Problem 467</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_468"><span class="nav-number">18.</span> <span class="nav-text">Problem 468</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_469"><span class="nav-number">19.</span> <span class="nav-text">Problem 469</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_470"><span class="nav-number">20.</span> <span class="nav-text">Problem 470</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_471"><span class="nav-number">21.</span> <span class="nav-text">Problem 471</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_472"><span class="nav-number">22.</span> <span class="nav-text">Problem 472</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_473"><span class="nav-number">23.</span> <span class="nav-text">Problem 473</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_474"><span class="nav-number">24.</span> <span class="nav-text">Problem 474</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_475"><span class="nav-number">25.</span> <span class="nav-text">Problem 475</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  2015
  <span class="with-love"><i class="icon-heart"></i></span>
  <span class="author"><a href="http://sx349.github.io">sx349</a></span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist 
  </a>by <a href="http://notes.iissnan.com/">IIssNan</a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.3" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if (isDesktop() && CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    });
  </script>




  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"sx349"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
