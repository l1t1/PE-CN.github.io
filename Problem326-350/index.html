<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="Project Euler | 欧拉计划 中文翻译站" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: 'UA-65757005-1'
    },
    sidebar: 'post'
  };
</script>




  <title> Problem 326 - 350 // Project Euler | 欧拉计划 </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Project Euler | 欧拉计划</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-problems">
          <a href="/problems">
            <i class="menu-item-icon icon-problems"></i> <br />
            题目
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            关于
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'z6bmYNMJM3AR1esetWJa','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Problem 326 - 350
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-06-28
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Project-Euler-欧拉计划/">Project Euler | 欧拉计划</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/Problem326-350/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="Problem326-350/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <hr>
<a id="more"></a>
<hr>
<h1 id="Problem_326"><a href="https://projecteuler.net/problem=326" target="_blank" rel="external">Problem 326</a></h1><hr>
<p><strong>Modulo Summations</strong></p>
<p>Let a<sub>n</sub> be a sequence recursively defined by: $a_1=1, a_n=(\sum_{k=1}^{n-1}k·a_k) \text{ mod } n$.</p>
<p>So the first 10 elements of a<sub>n</sub> are: 1,1,0,3,0,3,5,4,1,9.</p>
<p>Let f(N,M) represent the number of pairs (p,q) such that: </p>
<p>$$ 1 \le p \le q \le N \text{ and } (\sum_{t=p}^{q}a_i) \text{ mod } M=0$$</p>
<p>It can be seen that f(10,10)=4 with the pairs (3,3), (5,5), (7,9) and (9,10).</p>
<p>You are also given that f(10<sup>4</sup>,10<sup>3</sup>)=97158.</p>
<p>Find f(10<sup>12</sup>,10<sup>6</sup>).</p>
<hr>
<p><strong>同余加和</strong></p>
<p>数列a<sub>n</sub>按如下方式递归定义：$a_1=1, a_n=(\sum_{k=1}^{n-1}k·a_k) \text{ mod } n$。</p>
<p>因此a<sub>n</sub>的前10项分别是：1,1,0,3,0,3,5,4,1,9。</p>
<p>记f(N,M)为满足如下条件的数对(p,q)的数目：</p>
<p>$$ 1 \le p \le q \le N \text{ 且 } (\sum_{t=p}^{q}a_i) \text{ mod } M=0$$</p>
<p>可以看出f(10,10)=4，这4个数对分别是(3,3)、(5,5)、(7,9)和(9,10)。</p>
<p>此外还已知f(10<sup>4</sup>,10<sup>3</sup>)=97158。</p>
<p>求f(10<sup>12</sup>,10<sup>6</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_327"><a href="https://projecteuler.net/problem=327" target="_blank" rel="external">Problem 327</a></h1><hr>
<p><strong>Rooms of Doom</strong></p>
<p>A series of three rooms are connected to each other by automatic doors.</p>
<center><img src="https://projecteuler.net/project/images/p327_rooms_of_doom.gif"></center>

<p>Each door is operated by a security card. Once you enter a room the door automatically closes and that security card cannot be used again. A machine at the start will dispense an unlimited number of cards, but each room (including the starting room) contains scanners and if they detect that you are holding more than three security cards or if they detect an unattended security card on the floor, then all the doors will become permanently locked. However, each room contains a box where you may safely store any number of security cards for use at a later stage.</p>
<p>If you simply tried to travel through the rooms one at a time then as you entered room 3 you would have used all three cards and would be trapped in that room forever!</p>
<p>However, if you make use of the storage boxes, then escape is possible. For example, you could enter room 1 using your first card, place one card in the storage box, and use your third card to exit the room back to the start. Then after collecting three more cards from the dispensing machine you could use one to enter room 1 and collect the card you placed in the box a moment ago. You now have three cards again and will be able to travel through the remaining three doors. This method allows you to travel through all three rooms using six security cards in total.</p>
<p>It is possible to travel through six rooms using a total of 123 security cards while carrying a maximum of 3 cards.</p>
<p>Let C be the maximum number of cards which can be carried at any time.</p>
<p>Let R be the number of rooms to travel through.</p>
<p>Let M(C,R) be the minimum number of cards required from the dispensing machine to travel through R rooms carrying up to a maximum of C cards at any time.</p>
<p>For example, M(3,6)=123 and M(4,6)=23.<br>And, ΣM(C,6)=146 for 3 ≤ C ≤ 4.</p>
<p>You are given that ΣM(C,10)=10382 for 3 ≤ C ≤ 10.</p>
<p>Find ΣM(C,30) for 3 ≤ C ≤ 40.</p>
<hr>
<p><strong>命运房间</strong></p>
<p>有三个房间，相互之间由自动门相连接。</p>
<center><img src="https://projecteuler.net/project/images/p327_rooms_of_doom.gif"></center>

<p>（左：初始房间；右：结束房间）</p>
<p>每扇门可以用安保卡操作。一旦你打开门进入房间，门会自动关闭，所使用的安保卡将失效。在初始位置有一台分发机能够提供无限量的安保卡，但每一间房间（包括初始房间）中都安装有扫描器，如果它们检测到你持有多于三张有效安保卡，或者在地上发现了无主的有效安保卡，所有的门将会永久上锁。不过，每个房间中提供了一个箱子，你可以在其中储存任意数量的安保卡，以供后用。</p>
<p>如果你试图直接穿过所有的门，当你进入第3个房间时，你就会用完所有3张安保卡，然后永远地陷在这个房间里！</p>
<p>不过，如果你利用储存箱，想要逃到结束房间还是很容易的。例如，你可以先用第一张安保卡进入第1个房间，放一张安保卡在储存箱里，然后用第三张安保卡回到初始房间。然后，从分发机中再取出三张安保卡，用一张进入第1个房间，再取走之前放入储存箱的那张安保卡，这样你就又有了三张安保卡，可以穿过剩下的三道门。这个方法使得你可以使用总计六张安保卡通过全部三个房间。</p>
<p>当携带上限为3张安保卡时，通过六个房间最少需要总计123张安保卡。</p>
<p>记C是安保卡的携带上限。</p>
<p>记R是要通过的房间数目。</p>
<p>记M(C,R)为当携带上限为C张安保卡时，通过R个房间最少需要从分发机中取出的安保卡数目。</p>
<p>例如， M(3,6)=123以及M(4,6)=23。<br>进而对于3 ≤ C ≤ 4，ΣM(C,6)=146。</p>
<p>已知对于3 ≤ C ≤ 10，ΣM(C,10)=10382。</p>
<p>对于3 ≤ C ≤ 40，求ΣM(C,30)。</p>
<hr>
<hr>
<h1 id="Problem_328"><a href="https://projecteuler.net/problem=328" target="_blank" rel="external">Problem 328</a></h1><hr>
<p><strong>Lowest-cost Search</strong></p>
<p>We are trying to find a hidden number selected from the set of integers {1, 2, …, n} by asking questions. Each number (question) we ask, has a <u>cost equal to the number asked</u> and we get one of three possible answers:</p>
<ul>
<li>“Your guess is lower than the hidden number”, or</li>
<li>“Yes, that’s it!”, or</li>
<li>“Your guess is higher than the hidden number”.</li>
</ul>
<p>Given the value of n, an <i>optimal strategy</i> minimizes the total cost (i.e. the sum of all the questions asked) <u>for the worst possible case</u>. E.g.</p>
<p>If n=3, the best we can do is obviously to ask the number “<b>2</b>“. The answer will immediately lead us to find the hidden number (at a total cost = 2).</p>
<p>If n=8, we might decide to use a “binary search” type of strategy: Our first question would be “<b>4</b>“ and if the hidden number is higher than 4 we will need one or two additional questions.<br>Let our second question be “<b>6</b>“. If the hidden number is still higher than 6, we will need a third question in order to discriminate between 7 and 8.<br>Thus, our third question will be “<b>7</b>“ and the total cost for this worst-case scenario will be 4+6+7=<span style="color:red;"><b>17</b></span>.</p>
<p>We can improve considerably the worst-case cost for n=8, by asking “<b>5</b>“ as our first question.<br>If we are told that the hidden number is higher than 5, our second question will be “<b>7</b>“, then we’ll know for certain what the hidden number is (for a total cost of 5+7=<span style="color:blue;"><b>12</b></span>).<br>If we are told that the hidden number is lower than 5, our second question will be “<b>3</b>“ and if the hidden number is lower than 3 our third question will be “<b>1</b>“, giving a total cost of 5+3+1=<span style="color:blue;"><b>9</b></span>.<br>Since <span style="color:blue;"><b>12</b></span>&gt;<span style="color:blue;"><b>9</b></span>, the worst-case cost for this strategy is <span style="color:red;"><b>12</b></span>. That’s better than what we achieved previously with the “binary search” strategy; it is also better than or equal to any other strategy.<br>So, in fact, we have just described an optimal strategy for n=8.</p>
<p>Let C(n) be the worst-case cost achieved by an optimal strategy for n, as described above.<br>Thus C(1) = 0, C(2) = 1, C(3) = 2 and C(8) = 12.<br>Similarly, C(100) = 400 and $\sum_{n=1}^{100}$C(n) = 17575.</p>
<p>Find $\sum_{n=1}^{200000}$C(n).</p>
<hr>
<p><strong>最低成本搜索</strong></p>
<p>我们正试图通过提问的方式从数集{1, 2, …, n}中找出一个特定的隐藏数。每次我们提问一个数，需要付出<u>和所问的数同等大小的成本</u>，我们得到的回答可能是以下三种之一：</p>
<ul>
<li>“你猜的数小于隐藏数”，或者</li>
<li>“你猜对了！”，或者</li>
<li>“你猜的数大于隐藏数”。</li>
</ul>
<p>给定n的值，<i>最优策略</i>指的是在<u>在最差的情况下</u>最小化总成本（即所有提问的数字之和）的策略，下面来举一些例子进行说明。</p>
<p>如果n=3，我们最好的选择显然是提问”<b>2</b>“，回答将直接告诉我们隐藏数是多少（总成本=2）。</p>
<p>如果n=8，我们先考虑这样一个“二分搜索”的策略：第一次我们提问“<b>4</b>”；如果隐藏数大于4，我们还需要再问一两次问题。<br>第二次不妨问“<b>6</b>”。如果隐藏数仍然比6大，我们需要问第三次问题以区分7和8。因此，第三次我们问“<b>7</b>”，因此这种最差的场景下的总成本为4+6+7=<span style="color:red;"><b>17</b></span>。</p>
<p>然而，如果我们第一次提问“<b>5</b>”，能够可观地降低n=8的最差情况下的总成本。<br>如果我们被告知隐藏数大于5，我们第二次问“<b>7</b>”就可以立即确认隐藏数（总成本为5+7=<span style="color:blue;"><b>12</b></span>）。<br>如果我们被告知隐藏数小于5，我们第二次问“<b>3</b>”，如果隐藏数还小于3，第三次我们问“<b>1</b>”，总成本为5+3+1=<span style="color:blue;"><b>9</b></span>。<br>因为<span style="color:blue;"><b>12</b></span>&gt;<span style="color:blue;"><b>9</b></span>，这种策略在最差情况下的成本是<span style="color:red;"><b>12</b></span>。这比之前使用“二分搜索”策略的结果更优；比起其它策略，这个策略也更好或至少一样好。<br>事实上，我们刚才描述的就是n=8时的一个最优策略。</p>
<p>记C(n)为n的最优策略在最差情况下的成本，其中最优策略的含义如上所述。<br>因此C(1) = 0，C(2) = 1，C(3) = 2以及C(8) = 12。<br>此外，已知C(100) = 400以及$\sum_{n=1}^{100}$C(n) = 17575。</p>
<p>求$\sum_{n=1}^{200000}$C(n)。</p>
<hr>
<hr>
<h1 id="Problem_329"><a href="https://projecteuler.net/problem=329" target="_blank" rel="external">Problem 329</a></h1><hr>
<p><strong>Prime Frog</strong></p>
<p>Susan has a prime frog.<br>Her frog is jumping around over 500 squares numbered 1 to 500. He can only jump one square to the left or to the right, with equal probability, and he cannot jump outside the range [1;500].<br>(if it lands at either end, it automatically jumps to the only available square on the next move.)</p>
<p>When he is on a square with a prime number on it, he croaks ‘P’ (PRIME) with probability 2/3 or ‘N’ (NOT PRIME) with probability 1/3 just before jumping to the next square.<br>When he is on a square with a number on it that is not a prime he croaks ‘P’ with probability 1/3 or ‘N’ with probability 2/3 just before jumping to the next square.</p>
<p>Given that the frog’s starting position is random with the same probability for every square, and given that she listens to his first 15 croaks, what is the probability that she hears the sequence PPPPNNPPPNPPNPN?</p>
<p>Give your answer as a fraction p/q in reduced form.</p>
<hr>
<p><strong>素数青蛙</strong></p>
<p>苏珊有一只素数青蛙。<br>她的青蛙在500个标有1至500的方格上跳来跳去。它每次等概率地往左或往右跳一格，而且它不能跳出1到500这个范围。<br>（如果它跳到了两端，它将自动在下一步跳到唯一可行的那一格。）</p>
<p>当青蛙位于标有素数的方格时，它有2/3的概率会叫一声“P”（素数PRIME），有1/3的概率叫一声“N”（非素数NOT PRIME），叫完之后再跳下一步。<br>当青蛙位于标有非素数的方格时，它有1/3的概率会叫一声“P”，有2/3的概率叫一声“N”，叫完之后再跳下一步。</p>
<p>如果青蛙的初始位置等概率地位于任意方格，而且苏珊听到了青蛙前15次的叫声，那么苏珊听到的序列为PPPPNNPPPNPPNPN的概率是多少？</p>
<p>将你的答案表示为最简分数p/q。</p>
<hr>
<hr>
<h1 id="Problem_330"><a href="https://projecteuler.net/problem=330" target="_blank" rel="external">Problem 330</a></h1><hr>
<p><strong>Euler’s Number</strong></p>
<p>An infinite sequence of real numbers a(n) is defined for all integers n as follows:</p>
<center><img src="https://projecteuler.net/project/images/p330_formula.gif"></center>

<p>For example,<br>a(0)=$\frac{1}{1!}$+$\frac{1}{2!}$+$\frac{1}{3!}$+…=e-1<br>a(1)=$\frac{1}{1!}$+$\frac{1}{2!}$+$\frac{1}{3!}$+…=e-1<br>a(2)=$\frac{2e-3}{1!}$+$\frac{e-1}{2!}$+$\frac{1}{3!}$+…=$\frac{7}{2}$e-6<br>with e = 2.7182818… being Euler’s constant.</p>
<p>It can be shown that a(n) is of the form $\frac{A(n)e+B(n)}{n!}$ for integers A(n) and B(n).<br>For example a(10) = $\frac{328161643 e − 652694486}{10!}$.</p>
<p>Find A(10<sup>9</sup>) + B(10<sup>9</sup>) and give your answer mod 77 777 777.</p>
<hr>
<p><strong>欧拉数</strong></p>
<p>无穷实数序列a(n)按如下方式定义:</p>
<center><img src="https://projecteuler.net/project/images/p330_formula.gif"></center>

<p>例如，<br>a(0)=$\frac{1}{1!}$+$\frac{1}{2!}$+$\frac{1}{3!}$+…=e-1<br>a(1)=$\frac{1}{1!}$+$\frac{1}{2!}$+$\frac{1}{3!}$+…=e-1<br>a(2)=$\frac{2e-3}{1!}$+$\frac{e-1}{2!}$+$\frac{1}{3!}$+…=$\frac{7}{2}$e-6<br>其中e = 2.7182818… 是欧拉常数。</p>
<p>可以发现a(n)总是可以表达为$\frac{A(n)e+B(n)}{n!}$的形式，其中A(n)和B(n)均为整数。<br>例如a(10) = $\frac{328161643 e − 652694486}{10!}$。</p>
<p>求A(10<sup>9</sup>) + B(10<sup>9</sup>)，并将你的答案模77 777 777取余。</p>
<hr>
<hr>
<h1 id="Problem_331"><a href="https://projecteuler.net/problem=331" target="_blank" rel="external">Problem 331</a></h1><hr>
<p><strong>Cross flips</strong></p>
<p>N×N disks are placed on a square game board. Each disk has a black side and white side.</p>
<p>At each turn, you may choose a disk and flip all the disks in the same row and the same column as this disk: thus 2×N-1 disks are flipped. The game ends when all disks show their white side. The following example shows a game on a 5×5 board.</p>
<center><img src="https://projecteuler.net/project/images/p331_crossflips3.gif"></center>

<p>It can be proven that 3 is the minimal number of turns to finish this game.</p>
<p>The bottom left disk on the N×N board has coordinates (0,0);<br>the bottom right disk has coordinates (N-1,0) and the top left disk has coordinates (0,N-1). </p>
<p>Let C<sub>N</sub> be the following configuration of a board with N×N disks:<br>A disk at (x,y) satisfying $N-1 \le \sqrt{x^2+y^2} \lt N$, shows its black side; otherwise, it shows its white side. C<sub>5</sub> is shown above.</p>
<p>Let T(N) be the minimal number of turns to finish a game starting from configuration C<sub>N</sub> or 0 if configuration C<sub>N</sub> is unsolvable.<br>We have shown that T(5)=3. You are also given that T(10)=29 and T(1 000)=395253.</p>
<p>Find $\sum_{i=3}^{31}T(2^i-1)$.</p>
<hr>
<p><strong>交叉翻转</strong></p>
<p>N×N个碟子被放置在方形的游戏板上。每个碟子一面是黑色，另一面是白色。</p>
<p>每一轮，你可以选择一个碟子，并将与其同一行或同一列的碟子都翻转过来：这样一共要翻转2×N-1个碟子。当所有碟子都是白色面朝上时，游戏结束。下图所示是一个5×5游戏版上的例子。</p>
<center><img src="https://projecteuler.net/project/images/p331_crossflips3.gif"></center>

<p>可以证明，最少需要3次翻转才能结束游戏。</p>
<p>记N×N游戏板左下角碟子的坐标为(0,0)；<br>记右下角碟子的坐标为(N-1,0)，左上角碟子的坐标为(0,N-1)。</p>
<p>将N×N个碟子按如下方式摆在游戏板上，这样的设置记为C<sub>N</sub>：<br>位于(x,y)的碟子，若$N-1 \le \sqrt{x^2+y^2} \lt N$，则黑色面朝上；否则白色面朝上。上述样例即为C<sub>5</sub>。</p>
<p>若从C<sub>N</sub>开始的游戏能够结束，记T(N)为最少需要翻转的次数；若不能结束，则记T(N)为0。<br>我们已经得出T(5)=3。此外，还已知T(10)=29以及T(1 000)=395253。</p>
<p>求$\sum_{i=3}^{31}T(2^i-1)$。</p>
<hr>
<hr>
<h1 id="Problem_332"><a href="https://projecteuler.net/problem=332" target="_blank" rel="external">Problem 332</a></h1><hr>
<p><strong>Spherical triangles</strong></p>
<p>A <b>spherical triangle</b> is a figure formed on the surface of a sphere by three <b>great circular arcs</b> intersecting pairwise in three vertices.</p>
<center><img src="https://projecteuler.net/project/images/p332_spherical.jpg"></center>

<p>Let C(r) be the sphere with the centre (0,0,0) and radius r.<br>Let Z(r) be the set of points on the surface of C(r) with integer coordinates.<br>Let T(r) be the set of spherical triangles with vertices in Z(r). Degenerate spherical triangles, formed by three points on the same great arc, are <u>not</u> included in T(r).<br>Let A(r) be the area of the smallest spherical triangle in T(r).</p>
<p>For example A(14) is 3.294040 rounded to six decimal places.</p>
<p>Find $\sum_{r=1}^{50}$ A(r). Give your answer rounded to six decimal places.</p>
<hr>
<p><strong>球面三角形</strong></p>
<p><b>球面三角形</b>是在球面上由三条<b>大圆圆弧</b>两两相交所构成的图形。</p>
<center><img src="https://projecteuler.net/project/images/p332_spherical.jpg"></center>

<p>记C(r)为中心在(0,0,0)，半径为r的球。<br>记Z(r)为C(r)表面坐标为整数的点构成的集合。<br>记T(r)为顶点均在Z(r)中的球面三角形构成的集合。T(r)中<u>不</u>包含三个顶点在同一大圆圆弧上的退化球面三角形。<br>记A(r)为T(r)中最小的球面三角形的面积。</p>
<p>举例来说，A(14)四舍五入到六位小数为3.294040。</p>
<p>求$\sum_{r=1}^{50}$ A(r)。将你的答案四舍五入到六位小数。</p>
<hr>
<hr>
<h1 id="Problem_333"><a href="https://projecteuler.net/problem=333" target="_blank" rel="external">Problem 333</a></h1><hr>
<p><strong>Special partitions</strong></p>
<p>All positive integers can be partitioned in such a way that each and every term of the partition can be expressed as 2<sup>i</sup>×3<sup>j</sup>, where i,j ≥ 0.</p>
<p>Let’s consider only those such partitions where none of the terms can divide any of the other terms.<br>For example, the partition of 17 = 2 + 6 + 9 = (2<sup>1</sup>×3<sup>0</sup> + 2<sup>1</sup>×3<sup>1</sup> + 2<sup>0</sup>×3<sup>2</sup>) would not be valid since 2 can divide 6. Neither would the partition 17 = 16 + 1 = (2<sup>4</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>0</sup>) since 1 can divide 16. The only valid partition of 17 would be 8 + 9 = (2<sup>3</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>2</sup>).</p>
<p>Many integers have more than one valid partition, the first being 11 having the following two partitions.<br>11 = 2 + 9 = (2<sup>1</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>2</sup>)<br>11 = 8 + 3 = (2<sup>3</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>1</sup>)</p>
<p>Let’s define P(n) as the number of valid partitions of n. For example, P(11) = 2.</p>
<p>Let’s consider only the prime integers q which would have a single valid partition such as P(17).</p>
<p>The sum of the primes q &lt;100 such that P(q)=1 equals 233.</p>
<p>Find the sum of the primes q &lt;1000000 such that P(q)=1.</p>
<hr>
<p><strong>特殊分划</strong></p>
<p>所有的正整数可以进行如下的分划；分划的每一项都能表示成2<sup>i</sup>×3<sup>j</sup>，其中i,j ≥ 0。</p>
<p>进一步地，我们只考虑任意一项不能整除其它项的分划。<br>例如，分划17 = 2 + 6 + 9 = (2<sup>1</sup>×3<sup>0</sup> + 2<sup>1</sup>×3<sup>1</sup> + 2<sup>0</sup>×3<sup>2</sup>)是不合理的，因为2可以整除6。分划17 = 16 + 1 = (2<sup>4</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>0</sup>)同样是不合理的，因为1可以整除16。对17唯一合理的分划为8 + 9 = (2<sup>3</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>2</sup>)。</p>
<p>许多整数都有不止一种合理的分划，其中最小的为11，有如下两种分划。<br>11 = 2 + 9 = (2<sup>1</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>2</sup>)<br>11 = 8 + 3 = (2<sup>3</sup>×3<sup>0</sup> + 2<sup>0</sup>×3<sup>1</sup>)</p>
<p>我们记P(n)为对n合理的分划数目。例如，P(11) = 2。</p>
<p>再进一步，我们只考虑只有一种合理分划的素数q，如P(17)=1。</p>
<p>所有使得P(q)=1的素数q &lt;100之和是233。</p>
<p>求所有使得P(q)=1的素数q &lt;1000000之和。</p>
<hr>
<hr>
<h1 id="Problem_334"><a href="https://projecteuler.net/problem=334" target="_blank" rel="external">Problem 334</a></h1><hr>
<p><strong>Spilling the beans</strong></p>
<p>In Plato’s heaven, there exist an infinite number of bowls in a straight line.<br>Each bowl either contains some or none of a finite number of beans.<br>A child plays a game, which allows only one kind of move: removing two beans from any bowl, and putting one in each of the two adjacent bowls.<br>The game ends when each bowl contains either one or no beans.</p>
<p>For example, consider two adjacent bowls containing 2 and 3 beans respectively, all other bowls being empty. The following eight moves will finish the game:</p>
<center><img src="https://projecteuler.net/project/images/p334_beans.gif"></center>

<p>You are given the following sequences:</p>
<p>$t_0=123456.$</p>
<p>$t_i=\frac{t_{i-1}}{2}$, if $t_{i-1}$ is even<br>$t_i=\lfloor \frac{t_{i-1}}{2} \rfloor \oplus 926252$, if $t_{i-1}$ is odd<br>where $\lfloor x \rfloor$ is the floor function<br>and $\oplus$ is the bitwise XOR operator.</p>
<p>$b_i=(t_i \text{ mod } 2^11) + 1.$</p>
<p>The first two terms of the last sequence are b<sub><i>1</i></sub> = 289 and b<sub><i>2</i></sub> = 145.<br>If we start with b<sub><i>1</i></sub> and b<sub><i>2</i></sub> beans in two adjacent bowls, 3419100 moves would be required to finish the game.</p>
<p>Consider now 1500 adjacent bowls containing b<sub><i>1</i></sub>, b<sub><i>2</i></sub>,…, b<sub><i>1500</i></sub> beans respectively, all other bowls being empty. Find how many moves it takes before the game ends.</p>
<hr>
<p><strong>放豆子</strong></p>
<p>在柏拉图的天堂，有无穷只碗排成一条直线。<br>每个碗中或者有有限颗豆子，或者没有豆子。<br>有一个小孩在玩游戏，游戏只允许一种操作：从任意一个碗中取出两颗豆子，然后在其相邻的两个碗中各放一颗。<br>当每个碗中要么只有一颗豆子要么没有豆子时，游戏结束。</p>
<p>例如，考虑相邻的两个碗中分别装有2颗和3颗豆子，其它的碗中都没有豆子的情况。如下八次操作之后游戏结束：</p>
<center><img src="https://projecteuler.net/project/images/p334_beans.gif"></center>

<p>已知以下序列：</p>
<p>$t_0=123456.$</p>
<p>$t_i=\frac{t_{i-1}}{2}$，如果$t_{i-1}$为偶数。<br>$t_i=\lfloor \frac{t_{i-1}}{2} \rfloor \oplus 926252$，如果$t_{i-1}$为奇数。<br>其中$\lfloor x \rfloor$是下取整函数<br>而$\oplus$是按位异或运算符</p>
<p>$b_i=(t_i \text{ mod } 2^11) + 1.$</p>
<p>上述最后一个序列的前两项分别是b<sub><i>1</i></sub> = 289和b<sub><i>2</i></sub> = 145。<br>如果我们从相邻的两个碗中分别装有b<sub><i>1</i></sub>和b<sub><i>2</i></sub>颗豆子开始，结束游戏需要3419100次操作。</p>
<p>现在考虑相邻的1500个碗中分别装有b<sub><i>1</i></sub>、b<sub><i>2</i></sub>、……、b<sub><i>1500</i></sub>颗豆子，其它的碗中都没有豆子的情况。求结束游戏需要多少次操作。</p>
<hr>
<hr>
<h1 id="Problem_335"><a href="https://projecteuler.net/problem=335" target="_blank" rel="external">Problem 335</a></h1><hr>
<p><strong>Gathering the beans</strong></p>
<p>Whenever Peter feels bored, he places some bowls, containing one bean each, in a circle. After this, he takes all the beans out of a certain bowl and drops them one by one in the bowls going clockwise. He repeats this, starting from the bowl he dropped the last bean in, until the initial situation appears again. For example with 5 bowls he acts as follows:</p>
<center><img src="https://projecteuler.net/project/images/p335_mancala.gif"></center>

<p>So with 5 bowls it takes Peter 15 moves to return to the initial situation.</p>
<p>Let M(x) represent the number of moves required to return to the initial situation, starting with x bowls. Thus, M(5) = 15. It can also be verified that M(100) = 10920.</p>
<p>Find $\sum_{k=0}^{10^{18}}$M(2<sup>k</sup>+1). Give your answer modulo 7<sup>9</sup>.</p>
<hr>
<p><strong>收豆子</strong></p>
<p>每当彼得感到无聊的时候，他会将一些碗摆成圆形，每个碗中放一颗豆子。然后，他拿出某一个碗中的所有豆子，把这些豆子按顺时针在每个碗中放一个，再从最后放入豆子的那个碗开始重复这一操作，直到回到初始状态。例如，当有5个碗时，他每一次的操作如下所示：</p>
<center><img src="https://projecteuler.net/project/images/p335_mancala.gif"></center>

<p>因此，有5个碗时，彼得需要15次操作，才能回到初始状态。</p>
<p>记M(x)为当有x个碗时，回到初始状态所需要的操作数。因此，M(5) = 15。同样可以验证M(100) = 10920。</p>
<p>求$\sum_{k=0}^{10^{18}}$M(2<sup>k</sup>+1)。将你的答案模7<sup>9</sup>取余。</p>
<hr>
<hr>
<h1 id="Problem_336"><a href="https://projecteuler.net/problem=336" target="_blank" rel="external">Problem 336</a></h1><hr>
<p><strong>Maximix Arrangements</strong></p>
<p>A train is used to transport four carriages in the order: ABCD. However, sometimes when the train arrives to collect the carriages they are not in the correct order.<br>To rearrange the carriages they are all shunted on to a large rotating turntable. After the carriages are uncoupled at a specific point the train moves off the turntable pulling the carriages still attached with it. The remaining carriages are rotated 180 degrees. All of the carriages are then rejoined and this process is repeated as often as necessary in order to obtain the least number of uses of the turntable.<br>Some arrangements, such as ADCB, can be solved easily: the carriages are separated between A and D, and after DCB are rotated the correct order has been achieved.</p>
<p>However, Simple Simon, the train driver, is not known for his efficiency, so he always solves the problem by initially getting carriage A in the correct place, then carriage B, and so on.</p>
<p>Using four carriages, the worst possible arrangements for Simon, which we shall call <i>maximix arrangements</i>, are DACB and DBAC; each requiring him five rotations (although, using the most efficient approach, they could be solved using just three rotations). The process he uses for DACB is shown below.</p>
<center><img src="https://projecteuler.net/project/images/p336_maximix.gif"></center>

<p>It can be verified that there are 24 maximix arrangements for six carriages, of which the tenth lexicographic maximix arrangement is DFAECB.</p>
<p>Find the 2011<sup>th</sup> lexicographic maximix arrangement for eleven carriages.</p>
<hr>
<p><strong>最大最小安排</strong></p>
<p>一架火车头被用来运输按如下顺序排列的四节车厢：ABCD。不过，有时候当火车头准备拉上车厢时，车厢并没有按照正确的顺序排列。<br>为了重新排列车厢，这些车厢被转运到了一个大型旋转台上。在某一个点将部分车厢分离，然后火车头带着分离点前的车厢离开旋转台，留在旋转台上的车厢随后旋转180度，然后再把所有车厢重新连起来。这个过程不断重复直到重排完成，不过我们希望尽可能少地使用旋转台。<br>有些安排，如ADCB，很容易进行重排：首先在A和D之间断开，然后DCB旋转180度，重新连接后就是正确的顺序。</p>
<p>然而，火车司机没头脑西蒙并不是一个有效率的人，他解决这个问题时，总是先把A车厢放到正确的位置，然后是B车厢，依此类推。</p>
<p>在有四节车厢时，西蒙所碰到的最差情况，我们也称为<i>最大最小安排</i>，将会是DACB和DBAC；这两种安排下，他都需要进行五次旋转（而在最有效的方法下，只需要三次旋转就可以解决）。西蒙解决DACB的过程如下所示。</p>
<center><img src="https://projecteuler.net/project/images/p336_maximix.gif"></center>

<p>可以验证，在有六节车厢时，共有24种最大最小安排，按字典序排列的第十个为DFAECB。</p>
<p>在有十一节车厢时，找出按字典序排列的第2011个最大最小安排。</p>
<hr>
<hr>
<h1 id="Problem_337"><a href="https://projecteuler.net/problem=337" target="_blank" rel="external">Problem 337</a></h1><hr>
<p><strong>Totient Stairstep Sequences</strong></p>
<p>Let {a<sub>1</sub>, a<sub>2</sub>,…, a<sub>n</sub>} be an integer sequence of length n such that:</p>
<ul>
<li>a<sub>1</sub> = 6</li>
<li>for all 1 ≤ i &lt; n : φ(a<sub>i</sub>) &lt; φ(a<sub>i+1</sub>) &lt; a<sub>i</sub> &lt; a<sub>i+1</sub> <sup>1</sup></li>
</ul>
<p>Let S(N) be the number of such sequences with a<sub>n</sub> ≤ N.<br>For example, S(10) = 4: {6}, {6, 8}, {6, 8, 9} and {6, 10}.<br>We can verify that S(100) = 482073668 and S(10 000) mod 10<sup>8</sup> = 73808307.</p>
<p>Find S(20 000 000) mod 10<sup>8</sup>.</p>
<p><sup>1</sup> φ denotes <b>Euler’s totient function</b>.</p>
<hr>
<p><strong>总计函数台阶序列</strong></p>
<p>记{a<sub>1</sub>, a<sub>2</sub>,…, a<sub>n</sub>}是长度为n且满足以下条件的整数序列：</p>
<ul>
<li>a<sub>1</sub> = 6</li>
<li>对于所有1 ≤ i &lt; n：φ(a<sub>i</sub>) &lt; φ(a<sub>i+1</sub>) &lt; a<sub>i</sub> &lt; a<sub>i+1</sub> <sup>1</sup></li>
</ul>
<p>记S(N)为满足a<sub>n</sub> ≤ N的这类序列的数目。<br>例如，S(10) = 4：{6}、{6, 8}、{6, 8, 9}和{6, 10}。<br>我们可以验证S(100) = 482073668以及S(10 000) mod 10<sup>8</sup> = 73808307。</p>
<p>求S(20 000 000) mod 10<sup>8</sup>。</p>
<p><sup>1</sup> φ表示<b>欧拉总计函数</b>.</p>
<hr>
<hr>
<h1 id="Problem_338"><a href="https://projecteuler.net/problem=338" target="_blank" rel="external">Problem 338</a></h1><hr>
<p><strong>Cutting Rectangular Grid Paper</strong></p>
<p>A rectangular sheet of grid paper with integer dimensions w × h is given. Its grid spacing is 1.<br>When we cut the sheet along the grid lines into two pieces and rearrange those pieces without overlap, we can make new rectangles with different dimensions.</p>
<p>For example, from a sheet with dimensions 9 × 4 , we can make rectangles with dimensions 18 × 2, 12 × 3 and 6 × 6 by cutting and rearranging as below:</p>
<center><img src="https://projecteuler.net/project/images/p338_gridpaper.gif"></center>

<p>Similarly, from a sheet with dimensions 9 × 8 , we can make rectangles with dimensions 18 × 4 and 12 × 6 .</p>
<p>For a pair w and h, let F(w,h) be the number of distinct rectangles that can be made from a sheet with dimensions w × h .<br>For example, F(2,1) = 0, F(2,2) = 1, F(9,4) = 3 and F(9,8) = 2.<br>Note that rectangles congruent to the initial one are not counted in F(w,h).<br>Note also that rectangles with dimensions w × h and dimensions h × w are not considered distinct.</p>
<p>For an integer N, let G(N) be the sum of F(w,h) for all pairs w and h which satisfy 0 &lt; h ≤ w ≤ N.<br>We can verify that G(10) = 55, G(10<sup>3</sup>) = 971745 and G(10<sup>5</sup>) = 9992617687.</p>
<p>Find G(10<sup>12</sup>). Give your answer modulo 10<sup>8</sup>.</p>
<hr>
<p><strong>剪长方形网格纸</strong></p>
<p>我们有一张边长为整数w × h的长方形网格纸，网格的宽度为1。<br>如果我们沿着网格线将这张纸剪成两片，然后将它们不重叠地重排在一起，我们可以得到不同边长的新长方形。</p>
<p>例如，用一张边长为9 × 4的长方形网格纸，我们可以通过剪裁和重排得到边长为18 × 2、12 × 3或6 × 6的长方形，如下所示：</p>
<center><img src="https://projecteuler.net/project/images/p338_gridpaper.gif"></center>

<p>同样地，用一张边长为9 × 8的长方形网格纸，我们可以得到边长为18 × 4和12 × 6的长方形。</p>
<p>对于一对w和h，记F(w,h)为用一张边长为w × h的长方形网格纸所能得到的不同长方形数目。<br>例如，F(2,1) = 0，F(2,2) = 1，F(9,4) = 3以及F(9,8) = 2。<br>注意长方形网格纸本身的长方形不计入F(w,h)中。<br>还要注意边长为w × h的长方形和边长为h × w的长方形被认为是相同的长方形。</p>
<p>对于正整数N，找出所有满足0 &lt; h ≤ w ≤ N的数对w和h，记F(w,h)的和为G(N)。<br>我们可以验证G(10) = 55，G(10<sup>3</sup>) = 971745，以及G(10<sup>5</sup>) = 9992617687。</p>
<p>求G(10<sup>12</sup>)。将你的答案模10<sup>8</sup>取余。</p>
<hr>
<hr>
<h1 id="Problem_339"><a href="https://projecteuler.net/problem=339" target="_blank" rel="external">Problem 339</a></h1><hr>
<p><strong>Peredur fab Efrawg</strong></p>
<p><i>“And he came towards a valley, through which ran a river; and the borders of the valley were wooded, and on each side of the river were level meadows. And on one side of the river he saw a flock of white sheep, and on the other a flock of black sheep. And whenever one of the white sheep bleated, one of the black sheep would cross over and become white; and when one of the black sheep bleated, one of the white sheep would cross over and become black.”</i><br><a href="http://en.wikisource.org/wiki/The_Mabinogion/Peredur_the_Son_of_Evrawc" target="_blank" rel="external">en.wikisource.org</a></p>
<p>Initially each flock consists of n sheep. Each sheep (regardless of colour) is equally likely to be the next sheep to bleat. After a sheep has bleated and a sheep from the other flock has crossed over, Peredur may remove a number of white sheep in order to maximize the expected final number of black sheep. Let E(n) be the expected final number of black sheep if Peredur uses an optimal strategy.</p>
<p>You are given that E(5) = 6.871346 rounded to 6 places behind the decimal point.<br>Find E(10 000) and give your answer rounded to 6 places behind the decimal point.</p>
<hr>
<p><strong>埃夫罗格之子佩雷迪尔</strong></p>
<p><i>“他走向一座山谷，山谷中有河流经过；山谷的四周被树木环绕，河流的两岸有平整的牧草。在河的一边他看到一群白色的绵羊，在河的另一边他看到一群黑色的绵羊。每当一只白色绵羊叫唤时，一只黑色绵羊会穿过河流并变成白色；每当一只黑色绵羊叫唤时，一只白色绵羊会穿过河流变成黑色。</i><br><a href="http://en.wikisource.org/wiki/The_Mabinogion/Peredur_the_Son_of_Evrawc" target="_blank" rel="external">译自英文维基百科</a></p>
<p>一开始，两群羊均为n只。每只羊（无论颜色）都等概率地成为下一只会叫的羊。在有一只羊叫唤，另一只羊穿过河流变色之后，佩雷迪尔可以移除一定数量的白色绵羊，以最大化黑色绵羊最终数目的期望值。记E(n)是在佩雷迪尔使用最优策略时黑色绵羊最终数目的期望值。</p>
<p>已知保留小数点后6位小数时E(5) = 6.871346。<br>求E(10 000)，并将你的答案保留小数点后6位小数。</p>
<hr>
<hr>
<h1 id="Problem_340"><a href="https://projecteuler.net/problem=340" target="_blank" rel="external">Problem 340</a></h1><hr>
<p><strong>Crazy Function</strong></p>
<p>For fixed integers a, b, c, define the <i>crazy function</i> F(n) as follows:<br>F(n) = n - c for all n &gt; b<br>F(n) = F(a + F(a + F(a + F(a + n)))) for all n ≤ b</p>
<p>Also, define S(a, b, c) = $\sum_{n=0}^{b}F(n)$.</p>
<p>For example, if a = 50, b = 2000 and c = 40, then F(0) = 3240 and F(2000) = 2040.<br>Also, S(50, 2000, 40) = 5204240.</p>
<p>Find the last 9 digits of S(21<sup>7</sup>, 7<sup>21</sup>, 12<sup>7</sup>).</p>
<hr>
<p><strong>疯狂函数</strong></p>
<p>对于给定的整数a、b、c，定义<i>疯狂函数</i>F(n)如下：<br>对于所有n &gt; b，F(n) = n - c<br>对于所有n ≤ b，F(n) = F(a + F(a + F(a + F(a + n))))</p>
<p>此外，定义S(a, b, c) = $\sum_{n=0}^{b}F(n)$。</p>
<p>举例来说，如果a = 50、b = 2000以及c = 40，那么F(0) = 3240而F(2000) = 2040。<br>此外，S(50, 2000, 40) = 5204240。</p>
<p>求S(21<sup>7</sup>, 7<sup>21</sup>, 12<sup>7</sup>)的最后9位数字。</p>
<hr>
<hr>
<h1 id="Problem_341"><a href="https://projecteuler.net/problem=341" target="_blank" rel="external">Problem 341</a></h1><hr>
<p><strong>Golomb’s self-describing sequence</strong></p>
<p>The <b>Golomb’s self-describing sequence</b> {G(n)} is the only nondecreasing sequence of natural numbers such that n appears exactly G(n) times in the sequence. The values of G(n) for the first few n are</p>
<table>
<thead>
<tr>
<th>n</th>
<th>1&nbsp;</th>
<th>2&nbsp;</th>
<th>3&nbsp;</th>
<th>4&nbsp;</th>
<th>5&nbsp;</th>
<th>6&nbsp;</th>
<th>7&nbsp;</th>
<th>8&nbsp;</th>
<th>9&nbsp;</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>…</th>
</tr>
</thead>
<tbody>
<tr>
<td>G(n)</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>You are given that G(10<sup>3</sup>) = 86, G(10<sup>6</sup>) = 6137.<br>You are also given that ΣG(n<sup>3</sup>) = 153506976 for 1 ≤ n &lt; 10<sup>3</sup>.</p>
<p>Find ΣG(n<sup>3</sup>) for 1 ≤ n &lt; 10<sup>6</sup>.</p>
<hr>
<p><strong>戈洛姆的自描述序列</strong></p>
<p><b>戈洛姆的自描述序列</b> {G(n)}是唯一一个单调不降且n出现恰好G(n)次的自然数序列。对于前几个n，G(n)的值为</p>
<table>
<thead>
<tr>
<th>n</th>
<th>1&nbsp;</th>
<th>2&nbsp;</th>
<th>3&nbsp;</th>
<th>4&nbsp;</th>
<th>5&nbsp;</th>
<th>6&nbsp;</th>
<th>7&nbsp;</th>
<th>8&nbsp;</th>
<th>9&nbsp;</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>…</th>
</tr>
</thead>
<tbody>
<tr>
<td>G(n)</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>已知G(10<sup>3</sup>) = 86，G(10<sup>6</sup>) = 6137。<br>此外，还已知对于1 ≤ n &lt; 10<sup>3</sup>，ΣG(n<sup>3</sup>) = 153506976。</p>
<p>对于1 ≤ n &lt; 10<sup>6</sup>，求ΣG(n<sup>3</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_342"><a href="https://projecteuler.net/problem=342" target="_blank" rel="external">Problem 342</a></h1><hr>
<p><strong>The totient of a square is a cube</strong></p>
<p>Consider the number 50.<br>50<sup>2</sup> = 2500 = 2<sup>2</sup> × 5<sup>4</sup>, so φ(2500) = 2 × 4 × 5<sup>3</sup> = 8 × 5<sup>3</sup> = 2<sup>3</sup> × 5<sup>3</sup>. <sup>1</sup><br>So 2500 is a square and  φ(2500) is a cube.</p>
<p>Find the sum of all numbers n, 1 &lt; n &lt; 10<sup>10</sup> such that φ(n<sup>2</sup>) is a cube.</p>
<p><sup>1</sup> φ denotes <b>Euler’s totient function</b>.</p>
<hr>
<p><strong>平方数的总计函数为立方数</strong></p>
<p>考虑数50。<br>50<sup>2</sup> = 2500 = 2<sup>2</sup> × 5<sup>4</sup>，因此φ(2500) = 2 × 4 × 5<sup>3</sup> = 8 × 5<sup>3</sup> = 2<sup>3</sup> × 5<sup>3</sup>。<sup>1</sup><br>所以2500是一个平方数，而φ(2500)是一个立方数。</p>
<p>有些数1 &lt; n &lt; 10<sup>10</sup>满足φ(n<sup>2</sup>)为立方数，求所有这类数的数目。</p>
<p><sup>1</sup> φ表示<b>欧拉总计函数</b>。</p>
<hr>
<hr>
<h1 id="Problem_343"><a href="https://projecteuler.net/problem=343" target="_blank" rel="external">Problem 343</a></h1><hr>
<p><strong>Fractional Sequences</strong></p>
<p>For any positive integer k, a finite sequence a<sub>i</sub> of fractions x<sub>i</sub>/y<sub>i</sub> is defined by:<br>a<sub>1</sub> = 1/k and<br>a<sub>i</sub> = (x<sub>i-1</sub>+1)/(y<sub>i-1</sub>-1) reduced to lowest terms for i&gt;1.<br>When a<sub>i</sub> reaches some integer n, the sequence stops. (That is, when y<sub>i</sub>=1.)<br>Define f(k) = n.<br>For example, for k = 20:</p>
<p>1/20 → 2/19 → 3/18 = 1/6 → 2/5 → 3/4 → 4/3 → 5/2 → 6/1 = 6</p>
<p>So f(20) = 6.</p>
<p>Also f(1) = 1, f(2) = 2, f(3) = 1 and Σf(k<sup>3</sup>) = 118937 for 1 ≤ k ≤ 100.</p>
<p>Find Σf(k<sup>3</sup>) for 1 ≤ k ≤ 2×10<sup>6</sup>.</p>
<hr>
<p><strong>分数序列</strong></p>
<p>对于任意正整数k，由分数x<sub>i</sub>/y<sub>i</sub>组成的有限序列a<sub>i</sub>按如下方式定义：<br>a<sub>1</sub> = 1/k，以及<br>对于i&gt;1，a<sub>i</sub> = (x<sub>i-1</sub>+1)/(y<sub>i-1</sub>-1)，并约分到最简形式。<br>当a<sub>i</sub>为某个整数n时，序列结束。（换句话说，当y<sub>i</sub>=1时序列结束。）<br>定义f(k) = n。<br>例如，对于k = 20：</p>
<p>1/20 → 2/19 → 3/18 = 1/6 → 2/5 → 3/4 → 4/3 → 5/2 → 6/1 = 6</p>
<p>所以f(20) = 6。</p>
<p>此外，已知f(1) = 1，f(2) = 2，f(3) = 1以及对于1 ≤ k ≤ 100，Σf(k<sup>3</sup>) = 118937。</p>
<p>对于1 ≤ k ≤ 2×10<sup>6</sup>，求Σf(k<sup>3</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_344"><a href="https://projecteuler.net/problem=344" target="_blank" rel="external">Problem 344</a></h1><hr>
<p><strong>Silver dollar game</strong></p>
<p>One variant of N.G. de Bruijn’s <b>silver dollar</b> game can be described as follows:</p>
<p>On a strip of squares a number of coins are placed, at most one coin per square. Only one coin, called the <b>silver dollar</b>, has any value. Two players take turns making moves. At each turn a player must make either a <i>regular</i> or a <i>special</i> move.</p>
<p>A <i>regular</i> move consists of selecting one coin and moving it one or more squares to the left. The coin cannot move out of the strip or jump on or over another coin.</p>
<p>Alternatively, the player can choose to make the <i>special</i> move of pocketing the leftmost coin rather than making a regular move. If no regular moves are possible, the player is forced to pocket the leftmost coin.</p>
<p>The winner is the player who pockets the silver dollar.</p>
<center><img src="https://projecteuler.net/project/images/p344_silverdollar.gif"></center>

<p>A <i>winning configuration</i> is an arrangement of coins on the strip where the first player can force a win no matter what the second player does.</p>
<p>Let W(n,c) be the number of winning configurations for a strip of n squares, c worthless coins and one silver dollar.</p>
<p>You are given that W(10,2) = 324 and W(100,10) = 1514704946113500.</p>
<p>Find W(1 000 000, 100) modulo the semiprime 1000 036 000 099 (= 1 000 003 · 1 000 033).</p>
<hr>
<p><strong>银币游戏</strong></p>
<p>N.G.德布鲁因的<b>银币</b>游戏的其中一个变种如下所述：</p>
<p>在一长条的方格上放置有一些硬币，最多每个方格一枚硬币。只有一枚称为<b>银币</b>的硬币是有价值的。两名玩家轮流进行操作，每一轮玩家可以选择进行一次<i>常规</i>操作或者进行一次<i>特殊</i>操作。</p>
<p><i>常规</i>操作就是选择一枚硬币，并将其向左移动一格或多格。硬币不能移出方格，也不能跳过或重叠其它硬币。</p>
<p>除了常规操作，玩家也可以选择进行<i>特殊</i>操作，将最左边的硬币放进自己的口袋。如果不存在可以进行的常规操作，玩家必须将最左边的硬币放进自己的口袋。</p>
<p>将银币装进自己口袋的玩家获胜。</p>
<center><img src="https://projecteuler.net/project/images/p344_silverdollar.gif"></center>

<p>所谓<i>必胜态</i>指的是无论后手玩家如何操作，先手玩家都必然获胜的硬币放置状态。</p>
<p>记W(n,c)为一长条有n个方格，放置有c枚无价值硬币和一枚银币时的必胜状态数目。</p>
<p>已知W(10,2) = 324以及W(100,10) = 1514704946113500。</p>
<p>求W(1 000 000, 100)，并模半素数1000 036 000 099 (= 1 000 003 · 1 000 033)取余。</p>
<hr>
<hr>
<h1 id="Problem_345"><a href="https://projecteuler.net/problem=345" target="_blank" rel="external">Problem 345</a></h1><hr>
<p><strong>Matrix Sum</strong></p>
<p>We define the Matrix Sum of a matrix as the maximum sum of matrix elements with each element being the only one in his row and column. For example, the Matrix Sum of the matrix below equals 3315 ( = 863 + 383 + 343 + 959 + 767):</p>
<p style="text-align:center;font-family:courier new;"><br>&nbsp;&nbsp;7 &nbsp;53 183 439 <span style="color:#00ff00;font-family:courier new;"><b>863</b></span><br>497 <span style="color:#00ff00;font-family:courier new;"><b>383</b></span> 563 &nbsp;79 973<br>287 &nbsp;63 <span style="color:#00ff00;font-family:courier new;"><b>343</b></span> 169 583<br>627 343 773 <span style="color:#00ff00;font-family:courier new;"><b>959</b></span> 943<br><span style="color:#00ff00;font-family:courier new;"><b>767</b></span> 473 103 699 303<br></p>

<p>Find the Matrix Sum of:</p>
<p style="text-align:center;font-family:courier new;"><br>&nbsp;&nbsp;7 &nbsp;53 183 439 863 497 383 563 &nbsp;79 973 287 &nbsp;63 343 169 583<br>627 343 773 959 943 767 473 103 699 303 957 703 583 639 913<br>447 283 463 &nbsp;29 &nbsp;23 487 463 993 119 883 327 493 423 159 743<br>217 623 &nbsp;&nbsp;3 399 853 407 103 983 &nbsp;89 463 290 516 212 462 350<br>960 376 682 962 300 780 486 502 912 800 250 346 172 812 350<br>870 456 192 162 593 473 915 &nbsp;45 989 873 823 965 425 329 803<br>973 965 905 919 133 673 665 235 509 613 673 815 165 992 326<br>322 148 972 962 286 255 941 541 265 323 925 281 601 &nbsp;95 973<br>445 721 &nbsp;11 525 473 &nbsp;65 511 164 138 672 &nbsp;18 428 154 448 848<br>414 456 310 312 798 104 566 520 302 248 694 976 430 392 198<br>184 829 373 181 631 101 969 613 840 740 778 458 284 760 390<br>821 461 843 513 &nbsp;17 901 711 993 293 157 274 &nbsp;94 192 156 574<br>&nbsp;34 124 &nbsp;&nbsp;4 878 450 476 712 914 838 669 875 299 823 329 699<br>815 559 813 459 522 788 168 586 966 232 308 833 251 631 107<br>813 883 451 509 615 &nbsp;77 281 613 459 205 380 274 302 &nbsp;35 805</p>

<hr>
<p><strong>矩阵和</strong></p>
<p>在一个矩阵中选择部分元素，使得每个元素都是所在的行和列中唯一被选中的元素，这些元素的和的最大值定义为矩阵的矩阵和。例如，如下矩阵的矩阵和为3315 ( = 863 + 383 + 343 + 959 + 767)：</p>
<p style="text-align:center;font-family:courier new;"><br>&nbsp;&nbsp;7 &nbsp;53 183 439 <span style="color:#00ff00;font-family:courier new;"><b>863</b></span><br>497 <span style="color:#00ff00;font-family:courier new;"><b>383</b></span> 563 &nbsp;79 973<br>287 &nbsp;63 <span style="color:#00ff00;font-family:courier new;"><b>343</b></span> 169 583<br>627 343 773 <span style="color:#00ff00;font-family:courier new;"><b>959</b></span> 943<br><span style="color:#00ff00;font-family:courier new;"><b>767</b></span> 473 103 699 303<br></p>

<p>求如下矩阵的矩阵和：</p>
<p style="text-align:center;font-family:courier new;"><br>&nbsp;&nbsp;7 &nbsp;53 183 439 863 497 383 563 &nbsp;79 973 287 &nbsp;63 343 169 583<br>627 343 773 959 943 767 473 103 699 303 957 703 583 639 913<br>447 283 463 &nbsp;29 &nbsp;23 487 463 993 119 883 327 493 423 159 743<br>217 623 &nbsp;&nbsp;3 399 853 407 103 983 &nbsp;89 463 290 516 212 462 350<br>960 376 682 962 300 780 486 502 912 800 250 346 172 812 350<br>870 456 192 162 593 473 915 &nbsp;45 989 873 823 965 425 329 803<br>973 965 905 919 133 673 665 235 509 613 673 815 165 992 326<br>322 148 972 962 286 255 941 541 265 323 925 281 601 &nbsp;95 973<br>445 721 &nbsp;11 525 473 &nbsp;65 511 164 138 672 &nbsp;18 428 154 448 848<br>414 456 310 312 798 104 566 520 302 248 694 976 430 392 198<br>184 829 373 181 631 101 969 613 840 740 778 458 284 760 390<br>821 461 843 513 &nbsp;17 901 711 993 293 157 274 &nbsp;94 192 156 574<br>&nbsp;34 124 &nbsp;&nbsp;4 878 450 476 712 914 838 669 875 299 823 329 699<br>815 559 813 459 522 788 168 586 966 232 308 833 251 631 107<br>813 883 451 509 615 &nbsp;77 281 613 459 205 380 274 302 &nbsp;35 805</p>

<hr>
<hr>
<h1 id="Problem_346"><a href="https://projecteuler.net/problem=346" target="_blank" rel="external">Problem 346</a></h1><hr>
<p><strong>Strong Repunits</strong></p>
<p>The number 7 is special, because 7 is 111 written in base 2, and 11 written in base 6 (i.e. 7<sub>10</sub> = 11<sub>6</sub> = 111<sub>2</sub>). In other words, 7 is a repunit in at least two bases b &gt; 1. </p>
<p>We shall call a positive integer with this property a strong repunit. It can be verified that there are 8 strong repunits below 50:  {1,7,13,15,21,31,40,43}.<br>Furthermore, the sum of all strong repunits below 1000 equals 15864.</p>
<p>Find the sum of all strong repunits below 10<sup>12</sup>.</p>
<hr>
<p><strong>强循环单位数</strong></p>
<p>7是一个特别的数，因为7在2进制下写作111，在6进制下写作11（也即7<sub>10</sub> = 11<sub>6</sub> = 111<sub>2</sub>）。换句话说，7在至少两种b &gt; 1进制下为循环单位数。</p>
<p>我们称拥有这种性质的正整数为强循环单位数。可以验证，有8个小于50的强循环单位数：{1,7,13,15,21,31,40,43}。<br>进一步地，所有小于1000的强循环单位数之和是15864。</p>
<p>求所有小于10<sup>12</sup>的强循环单位数之和。</p>
<hr>
<hr>
<h1 id="Problem_347"><a href="https://projecteuler.net/problem=347" target="_blank" rel="external">Problem 347</a></h1><hr>
<p><strong>Largest integer divisible by two primes</strong></p>
<p>The largest integer ≤ 100 that is only divisible by both the primes 2 and 3 is 96, as 96=32*3=2<sup>5</sup>*3. For two <i>distinct</i> primes p and q let M(p,q,N) be the largest positive integer ≤N only divisible by both p and q and M(p,q,N)=0 if such a positive integer does not exist.</p>
<p>E.g. M(2,3,100)=96.<br>M(3,5,100)=75 and not 90 because 90 is divisible by 2 ,3 and 5.<br>Also M(2,73,100)=0 because there does not exist a positive integer ≤ 100 that is divisible by both 2 and 73.</p>
<p>Let S(N) be the sum of all distinct M(p,q,N). S(100)=2262.</p>
<p>Find S(10 000 000).</p>
<hr>
<p><strong>能被两个素数整除的最大整数</strong></p>
<p>在≤ 100的整数中，能整除的素数只有2和3的最大整数是96，因为96=32*3=2<sup>5</sup>*3。对于两个<i>不同</i>的素数p和q，在≤N的正整数中，能整除的素数只有p和q的最大整数记为M(p,q,N)；如果这样的正整数不存在，则记M(p,q,N)=0。</p>
<p>例如，M(2,3,100)=96。<br>M(3,5,100)=75而非90，因为90能被2、3、5整除。<br>此外M(2,73,100)=0，因为不存在≤ 100的正整数使得能整除的素数只有2和73。</p>
<p>记S(N)为所有不同的M(p,q,N)之和。S(100)=2262。</p>
<p>求S(10 000 000)。</p>
<hr>
<hr>
<h1 id="Problem_348"><a href="https://projecteuler.net/problem=348" target="_blank" rel="external">Problem 348</a></h1><hr>
<p><strong>Sum of a square and a cube</strong></p>
<p>Many numbers can be expressed as the sum of a square and a cube. Some of them in more than one way.</p>
<p>Consider the palindromic numbers that can be expressed as the sum of a square and a cube, both greater than 1, in <b>exactly</b> 4 different ways.<br>For example, 5229225 is a palindromic number and it can be expressed in exactly 4 different ways:</p>
<p>2285<sup>2</sup> + 20<sup>3</sup><br>2223<sup>2</sup> + 66<sup>3</sup><br>1810<sup>2</sup> + 125<sup>3</sup><br>1197<sup>2</sup> + 156<sup>3</sup></p>
<p>Find the sum of the five smallest such palindromic numbers.</p>
<hr>
<p><strong>平方数和立方数之和</strong></p>
<p>许多数可以表示称一个平方数和一个立方数之和，有些数甚至有不止一种表示方式。</p>
<p>考虑能表示成大于1的平方数和立方数之和，且<b>恰好</b>有4种不同的表示方式的回文数。<br>例如，5229225是一个回文数，而且它恰好可以用4种不同的方式进行表达：</p>
<p>2285<sup>2</sup> + 20<sup>3</sup><br>2223<sup>2</sup> + 66<sup>3</sup><br>1810<sup>2</sup> + 125<sup>3</sup><br>1197<sup>2</sup> + 156<sup>3</sup></p>
<p>求出这类回文数中最小的五个之和。</p>
<hr>
<hr>
<h1 id="Problem_349"><a href="https://projecteuler.net/problem=349" target="_blank" rel="external">Problem 349</a></h1><hr>
<p><strong>Langton’s ant</strong></p>
<p>An ant moves on a regular grid of squares that are coloured either black or white.<br>The ant is always oriented in one of the cardinal directions (left, right, up or down) and moves from square to adjacent square according to the following rules:</p>
<ul>
<li>if it is on a black square, it flips the color of the square to white, rotates 90 degrees counterclockwise and moves forward one square.</li>
<li>if it is on a white square, it flips the color of the square to black, rotates 90 degrees clockwise and moves forward one square.</li>
</ul>
<p>Starting with a grid that is entirely white, how many squares are black after 10<sup>18</sup> moves of the ant?</p>
<hr>
<p><strong>兰顿的蚂蚁</strong></p>
<p>一只蚂蚁在涂有黑色或白色的普通网格方格上移动。<br>蚂蚁总是朝向四种基本方向（左、右、上、下）之一，每次遵循以下规则移动到相邻的方格：</p>
<ul>
<li>如果它在黑色方格上，它将方格的颜色变为白色，逆时针旋转90度，向前移动一个方格。</li>
<li>如果它在白色方格上，它将方格的颜色变为黑色，顺时针旋转90度，向前移动一个方格。</li>
</ul>
<p>从全白的网格开始，在蚂蚁移动10<sup>18</sup>次之后，有多少个方格是黑色的？</p>
<hr>
<hr>
<h1 id="Problem_350"><a href="https://projecteuler.net/problem=350" target="_blank" rel="external">Problem 350</a></h1><hr>
<p><strong>Constraining the least greatest and the greatest least</strong></p>
<p>A <i>list of size n</i> is a sequence of n natural numbers.<br>Examples are (2,4,6), (2,6,4), (10,6,15,6), and (11).</p>
<p>The <b>greatest common divisor</b>, or gcd, of a list is the largest natural number that divides all entries of the list.<br>Examples: gcd(2,6,4) = 2, gcd(10,6,15,6) = 1 and gcd(11) = 11.</p>
<p>The <b>least common multiple</b>, or lcm, of a list is the smallest natural number divisible by each entry of the list.<br>Examples: lcm(2,6,4) = 12, lcm(10,6,15,6) = 30 and lcm(11) = 11.</p>
<p>Let f(G, L, N) be the number of lists of size N with gcd ≥ G and lcm ≤ L. For example:</p>
<p>f(10, 100, 1) = 91.<br>f(10, 100, 2) = 327.<br>f(10, 100, 3) = 1135.<br>f(10, 100, 1000) mod 101<sup>4</sup> = 3286053.</p>
<p>Find f(10<sup>6</sup>, 10<sup>12</sup>, 10<sup>18</sup>) mod 101<sup>4</sup>.</p>
<hr>
<p><strong>约束最小最大和最大最小</strong></p>
<p>一个<i>规模为n的列表</i>是一个包含有n个自然数的序列。<br>例如(2,4,6)、(2,6,4)、(10,6,15,6)以及(11)。</p>
<p>列表的<b>最大公约数</b>，简记为gcd，是整除列表上所有数的最大自然数。<br>例如；gcd(2,6,4) = 2，gcd(10,6,15,6) = 1以及gcd(11) = 11。</p>
<p>列表的<b>最小公倍数</b>，简记为lcm，是被列表上所有数整除的最小自然数。<br>例如: lcm(2,6,4) = 12，lcm(10,6,15,6) = 30以及lcm(11) = 11。</p>
<p>记f(G, L, N)为所有规模为N、gcd ≥ G、lcm ≤ L的列表数目。例如：</p>
<p>f(10, 100, 1) = 91。<br>f(10, 100, 2) = 327。<br>f(10, 100, 3) = 1135。<br>f(10, 100, 1000) mod 101<sup>4</sup> = 3286053。</p>
<p>求f(10<sup>6</sup>, 10<sup>12</sup>, 10<sup>18</sup>) mod 101<sup>4</sup>。</p>
<hr>

      
    </div>

    <div class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/Problem351-375/">Problem 351 - 375</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/Problem301-325/">Problem 301 - 325</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    <div class="post-spread">
      
    </div>

    
      <div class="comments" id="comments">
        
          <div class="ds-thread" data-thread-key="Problem326-350/"
               data-title="Problem 326 - 350" data-url="http://yoursite.com/Problem326-350/">
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/avatar.png" alt="sx349" />
          <p class="site-author-name">Leonhard Euler(1707-1783)</p>
        </div>
        <p class="site-description motion-element"><br>Project Euler | 欧拉计划<br>中文翻译站</p>
        
        

        <div class="links-of-author motion-element">
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name" style="font-size:14px">友情链接</p>
            
              <span class="links-of-author-item">
              <a href="https://projecteuler.net" target="_blank">Project Euler</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://pe.spiritzhang.com/" target="_blank">官方汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://jakwings.is-programmer.com/Project_Euler" target="_blank">饮水思源汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://sx349.github.io" target="_blank">译者博客</a>
              </span><br>
            
          
        </div>
        
      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_326"><span class="nav-number">1.</span> <span class="nav-text">Problem 326</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_327"><span class="nav-number">2.</span> <span class="nav-text">Problem 327</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_328"><span class="nav-number">3.</span> <span class="nav-text">Problem 328</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_329"><span class="nav-number">4.</span> <span class="nav-text">Problem 329</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_330"><span class="nav-number">5.</span> <span class="nav-text">Problem 330</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_331"><span class="nav-number">6.</span> <span class="nav-text">Problem 331</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_332"><span class="nav-number">7.</span> <span class="nav-text">Problem 332</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_333"><span class="nav-number">8.</span> <span class="nav-text">Problem 333</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_334"><span class="nav-number">9.</span> <span class="nav-text">Problem 334</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_335"><span class="nav-number">10.</span> <span class="nav-text">Problem 335</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_336"><span class="nav-number">11.</span> <span class="nav-text">Problem 336</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_337"><span class="nav-number">12.</span> <span class="nav-text">Problem 337</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_338"><span class="nav-number">13.</span> <span class="nav-text">Problem 338</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_339"><span class="nav-number">14.</span> <span class="nav-text">Problem 339</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_340"><span class="nav-number">15.</span> <span class="nav-text">Problem 340</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_341"><span class="nav-number">16.</span> <span class="nav-text">Problem 341</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_342"><span class="nav-number">17.</span> <span class="nav-text">Problem 342</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_343"><span class="nav-number">18.</span> <span class="nav-text">Problem 343</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_344"><span class="nav-number">19.</span> <span class="nav-text">Problem 344</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_345"><span class="nav-number">20.</span> <span class="nav-text">Problem 345</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_346"><span class="nav-number">21.</span> <span class="nav-text">Problem 346</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_347"><span class="nav-number">22.</span> <span class="nav-text">Problem 347</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_348"><span class="nav-number">23.</span> <span class="nav-text">Problem 348</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_349"><span class="nav-number">24.</span> <span class="nav-text">Problem 349</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_350"><span class="nav-number">25.</span> <span class="nav-text">Problem 350</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  2015
  <span class="with-love"><i class="icon-heart"></i></span>
  <span class="author"><a href="http://sx349.github.io">sx349</a></span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist 
  </a>by <a href="http://notes.iissnan.com/">IIssNan</a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.3" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if (isDesktop() && CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    });
  </script>




  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"sx349"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
