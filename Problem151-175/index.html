<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="Project Euler | 欧拉计划 中文翻译站" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: 'UA-65757005-1'
    },
    sidebar: 'post'
  };
</script>




  <title> Problem 151 - 175 // Project Euler | 欧拉计划 </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Project Euler | 欧拉计划</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-problems">
          <a href="/problems">
            <i class="menu-item-icon icon-problems"></i> <br />
            题目
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            关于
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'z6bmYNMJM3AR1esetWJa','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              Problem 151 - 175
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-06-28
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/Project-Euler-欧拉计划/">Project Euler | 欧拉计划</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/Problem151-175/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="Problem151-175/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        <hr>
<a id="more"></a>
<hr>
<h1 id="Problem_151"><a href="https://projecteuler.net/problem=151" target="_blank" rel="external">Problem 151</a></h1><hr>
<p><b>Paper sheets of standard sizes: an expected-value problem</b></p>
<p>A printing shop runs 16 batches (jobs) every week and each batch requires a sheet of special colour-proofing paper of size A5.</p>
<p>Every Monday morning, the foreman opens a new envelope, containing a large sheet of the special paper with size A1.</p>
<p>He proceeds to cut it in half, thus getting two sheets of size A2. Then he cuts one of them in half to get two sheets of size A3 and so on until he obtains the A5-size sheet needed for the first batch of the week.</p>
<p>All the unused sheets are placed back in the envelope.</p>
<center><img src="https://projecteuler.net/project/images/p151.gif" width="314" height="227" alt=""></center>

<p>At the beginning of each subsequent batch, he takes from the envelope one sheet of paper at random. If it is of size A5, he uses it. If it is larger, he repeats the ‘cut-in-half’ procedure until he has what he needs and any remaining sheets are always placed back in the envelope.</p>
<p>Excluding the first and last batch of the week, find the expected number of times (during each week) that the foreman finds a single sheet of paper in the envelope.</p>
<p>Give your answer rounded to six decimal places using the format x.xxxxxx.</p>
<hr>
<p><b>标准大小的纸张：有关期望的问题</b></p>
<p>一家打印店每周有16份打印工作，每份打印工作需要一张A5大小的特殊彩色打样纸。</p>
<p>每周一早晨，领班会打开一个新信封，其中有一张A1大小的特殊彩色打样纸。</p>
<p>他将这张纸一裁为二，得到两张A2大小的纸。再将其中一张一裁为二，得到A3大小的纸，如此直到他裁出一张用于第一份打印工作的A5大小的彩色打样纸。</p>
<p>所有剩下的纸张将会重新放回信封里。</p>
<center><img src="https://projecteuler.net/project/images/p151.gif" width="314" height="227" alt=""></center>

<p>接下来的每次打印工作前，领班会从信封里拿出随机拿出一张纸，如果恰好是A5大小的，他会直接拿去使用，否则他会重复一裁为二的过程直到他得到一张A5大小的纸，并将剩下的纸重新放回信封里。</p>
<p>除了每周的第一次和最后一次打印工作外，求在这周当中领班在拿纸时发现信封里只有一张纸的次数的期望值。</p>
<p>你的答案应当保留六位小数，即以如下的形式x.xxxxxx。</p>
<hr>
<hr>
<h1 id="Problem_152"><a href="https://projecteuler.net/problem=152" target="_blank" rel="external">Problem 152</a></h1><hr>
<p><b>Writing 1/2 as a sum of inverse squares</b></p>
<p>There are several ways to write the number 1/2 as a sum of inverse squares using <em>distinct</em> integers.</p>
<p>For instance, the numbers {2,3,4,5,7,12,15,20,28,35} can be used:</p>
<center><img src="https://projecteuler.net/project/images/p152_sum.gif" border="0" alt=""></center>

<p>In fact, only using integers between 2 and 45 inclusive, there are exactly three ways to do it, the remaining two being: {2,3,4,6,7,9,10,20,28,35,36,45} and {2,3,4,6,7,9,12,15,28,30,35,36,45}.</p>
<p>How many ways are there to write the number 1/2 as a sum of inverse squares using distinct integers between 2 and 80 inclusive?</p>
<hr>
<p><b>将1/2写成平方数的倒数和</b></p>
<p>有许多种方式将1/2写成一系列<em>不同</em>整数的平方的倒数和。</p>
<p>例如，可以用这些数{2,3,4,5,7,12,15,20,28,35}：</p>
<center><img src="https://projecteuler.net/project/images/p152_sum.gif" border="0" alt=""></center>

<p>事实上，只用2至45之间的数的方式一共有三种，另两种分别是：{2,3,4,6,7,9,10,20,28,35,36,45}和{2,3,4,6,7,9,12,15,28,30,35,36,45}。</p>
<p>如果只用2至80之间的数，将1/2写成不同整数的平方的倒数和共有多少种方式？</p>
<hr>
<hr>
<h1 id="Problem_153"><a href="https://projecteuler.net/problem=153" target="_blank" rel="external">Problem 153</a></h1><hr>
<p><b>Investigating Gaussian Integers</b></p>
<p>As we all know the equation x<sup>2</sup>=-1 has no solutions for real x.<br>If we however introduce the imaginary number i this equation has two solutions: x=i and x=-i.<br>If we go a step further the equation (x-3)<sup>2</sup>=-4 has two complex solutions: x=3+2i and x=3-2i.<br>x=3+2i and x=3-2i are called each others’ complex conjugate.<br>Numbers of the form a+bi are called complex numbers.<br>In general a+bi and a−bi are each other’s complex conjugate.</p>
<p>A Gaussian Integer is a complex number a+bi such that both a and b are integers.<br>The regular integers are also Gaussian integers (with b=0).<br>To distinguish them from Gaussian integers with b ≠ 0 we call such integers “rational integers.”<br>A Gaussian integer is called a divisor of a rational integer n if the result is also a Gaussian integer.<br>If for example we divide 5 by 1+2i we can simplify $\frac{5}{1+2i}$ in the following manner:<br>Multiply numerator and denominator by the complex conjugate of 1+2i: 1−2i.<br>The result is $\frac{5}{1+2i}=\frac{5}{1+2i}\frac{1-2i}{1-2i}=\frac{5(1-2i)}{1-(2i)^2}=\frac{5(1-2i)}{1-(-4)}=\frac{5(1-2i)}{5}=1-2i$.<br>So 1+2i is a divisor of 5.<br>Note that 1+i is not a divisor of 5 because $\frac{5}{1+i}=\frac{5}{2}-\frac{5}{2}i$.<br>Note also that if the Gaussian Integer (a+bi) is a divisor of a rational integer n, then its complex conjugate (a−bi) is also a divisor of n.</p>
<p>In fact, 5 has six divisors such that the real part is positive: {1, 1 + 2i, 1 − 2i, 2 + i, 2 − i, 5}.<br>The following is a table of all of the divisors for the first five positive rational integers:</p>
<table>
<thead>
<tr>
<th style="text-align:center">n</th>
<th style="text-align:center">Gaussian integer divisors with positive real part</th>
<th style="text-align:center">Sum s(n) of these divisors</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1, 1+i, 1-i, 2</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">1, 3</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">1, 1+i, 1-i, 2, 2+2i, 2-2i,4</td>
<td style="text-align:center">13</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">1, 1+2i, 1-2i, 2+i, 2-i, 5</td>
<td style="text-align:center">12</td>
</tr>
</tbody>
</table>
<p>For divisors with positive real parts, then, we have: $\sum_{n=1}^{5}s(n)=35$.</p>
<p>For 1 ≤ n ≤ 10<sup>5</sup>, ∑ s(n)=17924657155.</p>
<p>What is ∑ s(n) for 1 ≤ n ≤ 10<sup>8</sup>?</p>
<hr>
<p><b>高斯整数的研究</b></p>
<p>我们都知道方程x<sup>2</sup>=-1在实数范围内无解。<br>但如果我们引入虚数i，这个方程将会有两个解x=i和x=-i。<br>进一步地，方程(x-3)<sup>2</sup>=-4有两个复数解：x=3+2i和x=3-2i。<br>x=3+2i和x=3-2i互称为共轭复数。<br>形如a+bi的数被称为复数。<br>概括地说，a+bi和a−bi互称为共轭复数。</p>
<p>高斯整数是形如a+bi且a和b均为整数的复数。<br>一般意义上的整数也是高斯整数（取b=0）。<br>为了把它们和b ≠ 0的高斯整数区分开来，称它们为“有理整数”。<br>如果一个高斯整数除有理整数n的结果仍然是高斯整数，则称它为该有理整数的约数。<br>例如，我们用1+2i除5，按如下方式简化$\frac{5}{1+2i}$：<br>分子和分母同时乘以1+2i的共轭：1−2i。<br>结果是：$\frac{5}{1+2i}=\frac{5}{1+2i}\frac{1-2i}{1-2i}=\frac{5(1-2i)}{1-(2i)^2}=\frac{5(1-2i)}{1-(-4)}=\frac{5(1-2i)}{5}=1-2i$。<br>所以1+2i是5的约数。<br>注意1+i不是5的约数，因为$\frac{5}{1+i}=\frac{5}{2}-\frac{5}{2}i$。<br>同时注意如果高斯整数(a+bi)是有理整数n的约数，那么它的共轭复数(a−bi)也是n的约数。</p>
<p>事实上，5一共有六个实数部分是正数的约数：{1, 1 + 2i, 1 − 2i, 2 + i, 2 − i, 5}。<br>如下表格列出了前五个正有理整数的所有约数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">n</th>
<th style="text-align:center">实数部分是正数的高斯整数约数</th>
<th style="text-align:center">约数的和s(n)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1, 1+i, 1-i, 2</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">1, 3</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">1, 1+i, 1-i, 2, 2+2i, 2-2i,4</td>
<td style="text-align:center">13</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">1, 1+2i, 1-2i, 2+i, 2-i, 5</td>
<td style="text-align:center">12</td>
</tr>
</tbody>
</table>
<p>对于实数部分为正数的约数，我们有：$\sum_{n=1}^{5}s(n)=35$。</p>
<p>对于1 ≤ n ≤ 10<sup>5</sup>，∑ s(n)=17924657155。</p>
<p>对于1 ≤ n ≤ 10<sup>8</sup>，求∑ s(n)。</p>
<hr>
<hr>
<h1 id="Problem_154"><a href="https://projecteuler.net/problem=154" target="_blank" rel="external">Problem 154</a></h1><hr>
<p><b>Exploring Pascal’s pyramid</b></p>
<p>A triangular pyramid is constructed using spherical balls so that each ball rests on exactly three balls of the next lower level.</p>
<center><img src="https://projecteuler.net/project/images/p154_pyramid.gif" width="488" height="379" alt=""></center>

<p>Then, we calculate the number of paths leading from the apex to each position:</p>
<p>A path starts at the apex and progresses downwards to any of the three spheres directly below the current position.</p>
<p>Consequently, the number of paths to reach a certain position is the sum of the numbers immediately above it (depending on the position, there are up to three numbers above it).</p>
<p>The result is <em>Pascal’s pyramid</em> and the numbers at each level n are the coefficients of the trinomial expansion<br>(x + y + z)<sup>n</sup>.</p>
<p>How many coefficients in the expansion of (x + y + z)<sup>200000</sup> are multiples of 10<sup>12</sup>?</p>
<hr>
<p><b>探索帕斯卡四面体</b></p>
<p>我们用球构建一个三角形四面体，每一个球的下一层都由恰好三个球支撑。</p>
<center><img src="https://projecteuler.net/project/images/p154_pyramid.gif" width="488" height="379" alt=""></center>

<p>然后，我们计算从顶端到每一个位置的路径数：</p>
<p>每一条路径从顶端出发，然后每次都走向下一层支撑当前位置的球的三个球之一。</p>
<p>最终，到达每个位置的路径数是它上方的球的路径数之和（根据位置的不同，每个位置的上方最多可能有三个球）。</p>
<p>最终的结果被称为<em>帕斯卡四面体</em>，这个四面体第n层的结果将是三项式(x + y + z)<sup>n</sup>的系数。</p>
<p>在三项式(x + y + z)<sup>200000</sup>的展开式中，有多少个系数是10<sup>12</sup>的倍数？</p>
<hr>
<hr>
<h1 id="Problem_155"><a href="https://projecteuler.net/problem=155" target="_blank" rel="external">Problem 155</a></h1><hr>
<p><b>Counting Capacitor Circuits</b></p>
<p>An electric circuit uses exclusively identical capacitors of the same value C.<br>The capacitors can be connected in series or in parallel to form sub-units, which can then be connected in series or in parallel with other capacitors or other sub-units to form larger sub-units, and so on up to a final circuit.</p>
<p>Using this simple procedure and up to n identical capacitors, we can make circuits having a range of different total capacitances. For example, using up to n=3 capacitors of 60μF each, we can obtain the following 7 distinct total capacitance values: </p>
<center><img src="https://projecteuler.net/project/images/p155_capacitors1.gif" width="387" height="557" alt=""></center>

<p>If we denote by D(n) the number of distinct total capacitance values we can obtain when using up to n equal-valued capacitors and the simple procedure described above, we have: D(1)=1, D(2)=3, D(3)=7 …</p>
<p>Find D(18).</p>
<p><em>Reminder :</em> When connecting capacitors C<sub>1</sub>, C<sub>2</sub> etc in parallel, the total capacitance is C<sub>T</sub>&nbsp;=&nbsp;C<sub>1</sub>&nbsp;+&nbsp;C<sub>2</sub>&nbsp;+…,<br>whereas when connecting them in series, the overall capacitance is given by:$\frac{1}{C_T}=\frac{1}{C_1}+\frac{1}{C_2}+…$.</p>
<hr>
<p><b>电容电路计算</b></p>
<p>考虑如下电路，其中使用的电容都是完全相同的值C。<br>电容之间互相串联构成次级单元，然后次级单元之间互相串联或和其它次级单元或电容并联构成更大的次级单元，最终组成整个电路。</p>
<p>使用n个电容并重复这个简单的过程，我们可以构建出一系列总电容不同的电路。例如，使用最多n=3个值为60μF的电容，我们可以得到7种不同的总电容：</p>
<center><img src="https://projecteuler.net/project/images/p155_capacitors1.gif" width="387" height="557" alt=""></center>

<p>我们用D(n)表示当我们使用最多n个相同的电容并重复上述简单过程后，我们能够得到的总电容的种数，我们有：D(1)=1, D(2)=3, D(3)=7 …</p>
<p>求D(18)。</p>
<p><em>提醒：</em>当电容C<sub>1</sub>，C<sub>2</sub>等等并联时，总电容为C<sub>T</sub>&nbsp;=&nbsp;C<sub>1</sub>&nbsp;+&nbsp;C<sub>2</sub>&nbsp;+…，<br>而当它们串联时，总电容为：$\frac{1}{C_T}=\frac{1}{C_1}+\frac{1}{C_2}+…$。</p>
<hr>
<hr>
<h1 id="Problem_156"><a href="https://projecteuler.net/problem=156" target="_blank" rel="external">Problem 156</a></h1><hr>
<p><b>Counting Digits</b></p>
<p>Starting from zero the natural numbers are written down in base 10 like this:<br>0 1 2 3 4 5 6 7 8 9 10 11 12….</p>
<p>Consider the digit d=1. After we write down each number n, we will update the number of ones that have occurred and call this number f(n,1). The first values for f(n,1), then, are as follows:</p>
<table>
<thead>
<tr>
<th style="text-align:center">n</th>
<th style="text-align:center">f(n,1)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">5</td>
</tr>
</tbody>
</table>
<p>Note that f(n,1) never equals 3.<br>So the first two solutions of the equation f(n,1)=n are n=0 and n=1. The next solution is n=199981.</p>
<p>In the same manner the function f(n,d) gives the total number of digits d that have been written down after the number n has been written.<br>In fact, for every digit d ≠ 0, 0 is the first solution of the equation f(n,d)=n.</p>
<p>Let s(d) be the sum of all the solutions for which f(n,d)=n.<br>You are given that s(1)=22786974071.</p>
<p>Find  ∑ s(d) for 1 ≤ d ≤ 9.</p>
<p>Note: if, for some n, f(n,d)=n for more than one value of d this value of n is counted again for every value of d for which f(n,d)=n.</p>
<hr>
<p><b>数字计数</b></p>
<p>从零开始的自然数在十进制中如下表示：<br>0 1 2 3 4 5 6 7 8 9 10 11 12….</p>
<p>考虑数字d=1。当我们写下数n之后，我们计算一下到目前为止数字1出现的次数，并记为f(n,1)。f(n,1)的前面一部分值如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:center">n</th>
<th style="text-align:center">f(n,1)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">5</td>
</tr>
</tbody>
</table>
<p>注意到f(n,1)从不等于3。<br>等式f(n,1)=n的前两个解是n=0和n=1，下一个解是n=199981。</p>
<p>同样地我们记f(n,d)表示在写下n之后d出现的次数。<br>事实上，对于任意一个数字d ≠ 0，0都是方程f(n,d)=n的第一个解。</p>
<p>记s(d)是所有f(n,d)=n的解的和。<br>已知s(1)=22786974071。</p>
<p>对于1 ≤ d ≤ 9，求∑ s(d)。</p>
<p>注意：如果对于某些n，对于多于一个的d均满足f(n,d)=n，这个数n对于每个d都要计算一遍。</p>
<hr>
<hr>
<h1 id="Problem_157"><a href="https://projecteuler.net/problem=157" target="_blank" rel="external">Problem 157</a></h1><hr>
<p><b>Solving the diophantine equation <sup>1</sup>/<sub>a</sub>+<sup>1</sup>/<sub>b</sub>= <sup>p</sup>/<sub>10<sup>n</sup></sub> </b></p>
<p>Consider the diophantine equation <sup>1</sup>/<sub>a</sub>+<sup>1</sup>/<sub>b</sub>= <sup>p</sup>/<sub>10<sup>n</sup></sub> with a, b, p, n positive integers and a ≤ b.<br>For n=1 this equation has 20 solutions that are listed below:</p>
<table>
<thead>
<tr>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>1</sub>=<sup>20</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>2</sub>=<sup>15</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>5</sub>=<sup>12</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>10</sub>=<sup>11</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>2</sub>+<sup>1</sup>/<sub>2</sub>=<sup>10</sup>/<sub>10</sub></td>
</tr>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>2</sub>+<sup>1</sup>/<sub>5</sub>=<sup>7</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>2</sub>+<sup>1</sup>/<sub>10</sub>=<sup>6</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>3</sub>+<sup>1</sup>/<sub>6</sub>=<sup>5</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>3</sub>+<sup>1</sup>/<sub>15</sub>=<sup>4</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>4</sub>+<sup>1</sup>/<sub>4</sub>=<sup>5</sup>/<sub>10</sub></td>
</tr>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>4</sub>+<sup>1</sup>/<sub>20</sub>=<sup>3</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>5</sub>+<sup>1</sup>/<sub>5</sub>=<sup>4</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>5</sub>+<sup>1</sup>/<sub>10</sub>=<sup>3</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>6</sub>+<sup>1</sup>/<sub>30</sub>=<sup>2</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>10</sub>+<sup>1</sup>/<sub>10</sub>=<sup>2</sup>/<sub>10</sub></td>
</tr>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>11</sub>+<sup>1</sup>/<sub>110</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>12</sub>+<sup>1</sup>/<sub>60</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>14</sub>+<sup>1</sup>/<sub>35</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>15</sub>+<sup>1</sup>/<sub>30</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>20</sub>+<sup>1</sup>/<sub>20</sub>=<sup>1</sup>/<sub>10</sub></td>
</tr>
</tbody>
</table>
<p>How many solutions has this equation for 1 ≤ n ≤ 9?</p>
<hr>
<p><b>解不定方程<sup>1</sup>/<sub>a</sub>+<sup>1</sup>/<sub>b</sub>= <sup>p</sup>/<sub>10<sup>n</sup></sub> </b></p>
<p>考虑不定方程<sup>1</sup>/<sub>a</sub>+<sup>1</sup>/<sub>b</sub>= <sup>p</sup>/<sub>10<sup>n</sup></sub>，其中a, b, p, n均为正整数，且a ≤ b。<br>对于n=1，这个方程有20个解，如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
<th style="text-align:center">&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>1</sub>=<sup>20</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>2</sub>=<sup>15</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>5</sub>=<sup>12</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>1</sub>+<sup>1</sup>/<sub>10</sub>=<sup>11</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>2</sub>+<sup>1</sup>/<sub>2</sub>=<sup>10</sup>/<sub>10</sub></td>
</tr>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>2</sub>+<sup>1</sup>/<sub>5</sub>=<sup>7</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>2</sub>+<sup>1</sup>/<sub>10</sub>=<sup>6</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>3</sub>+<sup>1</sup>/<sub>6</sub>=<sup>5</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>3</sub>+<sup>1</sup>/<sub>15</sub>=<sup>4</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>4</sub>+<sup>1</sup>/<sub>4</sub>=<sup>5</sup>/<sub>10</sub></td>
</tr>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>4</sub>+<sup>1</sup>/<sub>20</sub>=<sup>3</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>5</sub>+<sup>1</sup>/<sub>5</sub>=<sup>4</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>5</sub>+<sup>1</sup>/<sub>10</sub>=<sup>3</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>6</sub>+<sup>1</sup>/<sub>30</sub>=<sup>2</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>10</sub>+<sup>1</sup>/<sub>10</sub>=<sup>2</sup>/<sub>10</sub></td>
</tr>
<tr>
<td style="text-align:center"><sup>1</sup>/<sub>11</sub>+<sup>1</sup>/<sub>110</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>12</sub>+<sup>1</sup>/<sub>60</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>14</sub>+<sup>1</sup>/<sub>35</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>15</sub>+<sup>1</sup>/<sub>30</sub>=<sup>1</sup>/<sub>10</sub></td>
<td style="text-align:center"><sup>1</sup>/<sub>20</sub>+<sup>1</sup>/<sub>20</sub>=<sup>1</sup>/<sub>10</sub></td>
</tr>
</tbody>
</table>
<p>对于1 ≤ n ≤ 9，方程一共有多少个解？</p>
<hr>
<hr>
<h1 id="Problem_158"><a href="https://projecteuler.net/problem=158" target="_blank" rel="external">Problem 158</a></h1><hr>
<p><b>Exploring strings for which only one character comes lexicographically after its neighbour to the left</b></p>
<p>Taking three different letters from the 26 letters of the alphabet, character strings of length three can be formed.<br>Examples are ‘abc’, ‘hat’ and ‘zyx’.<br>When we study these three examples we see that for ‘abc’ two characters come lexicographically after its neighbour to the left.<br>For ‘hat’ there is exactly one character that comes lexicographically after its neighbour to the left. For ‘zyx’ there are zero characters that come lexicographically after its neighbour to the left.<br>In all there are 10400 strings of length 3 for which exactly one character comes lexicographically after its neighbour to the left.</p>
<p>We now consider strings of n ≤ 26 different characters from the alphabet.<br>For every n, p(n) is the number of strings of length n for which exactly one character comes lexicographically after its neighbour to the left. </p>
<p>What is the maximum value of p(n)?</p>
<hr>
<p><b>按字典序升序排列的字符串研究</b></p>
<p>从字母表的26个字母中取出三个不同的字母，可以组成一个长度为3的字符串。<br>这样的例子包括’abc’，’hat’和’zyx’。<br>可以发现，对于字符串’abc’，有两个字符与其左侧字符是按照字典序升序排列的。<br>对于字符串’hat’，只有一个字符与其左侧字符是按照字典序升序排列的，而对于字符串’zyx’则不存在这样的字符。<br>总共有10400个长度为3的字符串，其中恰好有一个字符与其左侧字符是按照字典序升序排列的。</p>
<p>现在考虑由字母表中的n ≤ 26个不同字符组成的字符串。<br>对于任意n，我们用p(n)表示长度为n且恰好有一个字符与其左侧字符是按照字典序升序排列的字符串数目。 </p>
<p>p(n)的最大值是多少？</p>
<hr>
<hr>
<h1 id="Problem_159"><a href="https://projecteuler.net/problem=159" target="_blank" rel="external">Problem 159</a></h1><hr>
<p><b>Digital root sums of factorisations</b></p>
<p>A composite number can be factored many different ways. For instance, not including multiplication by one, 24 can be factored in 7 distinct ways:</p>
<p>24 = 2x2x2x3<br>24 = 2x3x4<br>24 = 2x2x6<br>24 = 4x6<br>24 = 3x8<br>24 = 2x12<br>24 = 24</p>
<p>Recall that the digital root of a number, in base 10, is found by adding together the digits of that number, and repeating that process until a number is arrived at that is less than 10. Thus the digital root of 467 is 8.</p>
<p>We shall call a Digital Root Sum (DRS) the sum of the digital roots of the individual factors of our number.<br>The chart below demonstrates all of the DRS values for 24.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Factorisation</th>
<th style="text-align:center">Digital Root Sum</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">2x2x2x3</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center">2x3x4</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center">2x2x6</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">4x6</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">3x8</td>
<td style="text-align:center">11</td>
</tr>
<tr>
<td style="text-align:center">2x12</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">24</td>
<td style="text-align:center">6</td>
</tr>
</tbody>
</table>
<p>The maximum Digital Root Sum  of 24 is 11.<br>The function mdrs(n) gives the maximum Digital Root Sum of n. So  mdrs(24)=11.<br>Find ∑mdrs(n) for 1 &lt; n &lt; 1,000,000.</p>
<hr>
<p><b>分解约数数字根之和</b></p>
<p>每个合数都有很多种分解约数的方式。例如，如果不允许多次乘1，有7种不同的方式分解24的约数：</p>
<p>24 = 2x2x2x3<br>24 = 2x3x4<br>24 = 2x2x6<br>24 = 4x6<br>24 = 3x8<br>24 = 2x12<br>24 = 24</p>
<p>在十进制下，一个数的数字根是不断重复将其各位数字相加，直到得到的结果小于10为止。因此467的数字根是8。</p>
<p>我们记数字根和（DRS）是所有分解出的约数的数字根之和。<br>下表是24的所有约数分解的DRS值。</p>
<table>
<thead>
<tr>
<th style="text-align:center">约数分解</th>
<th style="text-align:center">数字根和</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">2x2x2x3</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center">2x3x4</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center">2x2x6</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">4x6</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">3x8</td>
<td style="text-align:center">11</td>
</tr>
<tr>
<td style="text-align:center">2x12</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">24</td>
<td style="text-align:center">6</td>
</tr>
</tbody>
</table>
<p>对于24的所有分解，最大的数字根和是11。<br>函数mdrs(n)表示对于n的不同分解最大的数字根和。因此mdrs(24)=11。<br>对于1 &lt; n &lt; 1,000,000，求∑mdrs(n)。</p>
<hr>
<hr>
<h1 id="Problem_160"><a href="https://projecteuler.net/problem=160" target="_blank" rel="external">Problem 160</a></h1><hr>
<p><b>Factorial trailing digits</b></p>
<p>For any N, let f(N) be the last five digits before the trailing zeroes in N!.<br>For example,</p>
<p>9! = 362880 so f(9)=36288<br>10! = 3628800 so f(10)=36288<br>20! = 2432902008176640000 so f(20)=17664</p>
<p>Find f(1,000,000,000,000)</p>
<hr>
<p><b>阶乘的尾数</b></p>
<p>对于任意N，记f(N)为N!除去末尾零后的最后五位数字。<br>例如，</p>
<p>9! = 362880，所以f(9)=36288<br>10! = 3628800，所以f(10)=36288<br>20! = 2432902008176640000，所以f(20)=17664</p>
<p>求f(1,000,000,000,000)</p>
<hr>
<hr>
<h1 id="Problem_161"><a href="https://projecteuler.net/problem=161" target="_blank" rel="external">Problem 161</a></h1><hr>
<p><b>Triominoes</b></p>
<p>A triomino is a shape consisting of three squares joined via the edges. There are two basic forms:</p>
<center><img src="https://projecteuler.net/project/images/p161_trio1.gif" alt=""></center>

<p>If all possible orientations are taken into account there are six:</p>
<center><img src="https://projecteuler.net/project/images/p161_trio3.gif" alt=""></center>

<p>Any n by m grid for which nxm is divisible by 3 can be tiled with triominoes.<br>If we consider tilings that can be obtained by reflection or rotation from another tiling as different there are 41 ways a 2 by 9 grid can be  tiled with triominoes:</p>
<center><img src="https://projecteuler.net/project/images/p161_k9.gif" alt=""></center>

<p>In how many ways can a 9 by 12 grid be tiled in this way by triominoes?</p>
<hr>
<p><b>三联骨牌</b></p>
<p>三联骨牌是由三个正方形方块拼接而成的骨牌，它一共有两种基本形状：</p>
<center><img src="https://projecteuler.net/project/images/p161_trio1.gif" alt=""></center>

<p>如果计入旋转，则一共有六种可能的形状：</p>
<center><img src="https://projecteuler.net/project/images/p161_trio3.gif" alt=""></center>

<p>任何n乘m的方阵，只要nxm能够被3整除，就能用三联骨牌拼出来。<br>如果我们认为翻转或旋转是不同的拼法，那一个2乘9的方阵有一共有41种拼法：</p>
<center><img src="https://projecteuler.net/project/images/p161_k9.gif" alt=""></center>

<p>一个9乘12的方阵有多少种拼法？</p>
<hr>
<hr>
<h1 id="Problem_162"><a href="https://projecteuler.net/problem=162" target="_blank" rel="external">Problem 162</a></h1><hr>
<p><b>Hexadecimal numbers</b></p>
<p>In  the hexadecimal number system numbers are represented using 16 different digits:</p>
<center>0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F</center>

<p>The hexadecimal number AF when written in the decimal number system equals 10x16+15=175.</p>
<p>In the 3-digit hexadecimal numbers 10A, 1A0, A10, and A01 the digits 0,1 and A are all present.<br>Like numbers written in base ten we write hexadecimal numbers without leading zeroes.</p>
<p>How many hexadecimal numbers containing at most sixteen hexadecimal digits exist with all of the digits 0,1, and A present at least once?<br>Give your answer as a hexadecimal number.</p>
<p>(A,B,C,D,E and F in upper case, without any leading or trailing code that marks the number as hexadecimal and without leading zeroes , e.g. 1A3F and not: 1a3f and not 0x1a3f and not $1A3F and not #1A3F and not 0000001A3F)</p>
<hr>
<p><b>十六进制数</b></p>
<p>十六进制数系统使用16个不同的数字：</p>
<center>0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F</center>

<p>十六进制数AF在十进制下等于10x16+15=175。</p>
<p>三位十六进制数10A，1A0，A10和A01都包含数字0，1和A。<br>和十进制下一样，在十六进制中没有前导零。</p>
<p>有多少至多十六位的十六进制数同时包含0，1和A？<br>用十六进制数表示你的答案。</p>
<p>（A,B,C,D,E和F均为大写字母，没有前导零或末尾标识符来表明该数字为十六进制，例如，1A3F不能写成:1a3f或0x1a3f或$1A3F或#1A3F或0000001A3F）</p>
<hr>
<hr>
<h1 id="Problem_163"><a href="https://projecteuler.net/problem=163" target="_blank" rel="external">Problem 163</a></h1><hr>
<p><b>Cross-hatched triangles</b></p>
<p>Consider an equilateral triangle in which straight lines are drawn from each vertex to the middle of the opposite side, such as in the size 1 triangle in the sketch below.</p>
<center><img src="https://projecteuler.net/project/images/p163.gif" width="300" height="200" alt=""></center>

<p>Sixteen triangles of either different shape or size or orientation or location can now be observed in that triangle. Using size 1 triangles as building blocks, larger triangles can be formed, such as the size 2 triangle in the above sketch. One-hundred and four triangles of either different shape or size or orientation or location can now be observed in that size 2 triangle.</p>
<p>It can be observed that the size 2 triangle contains 4 size 1 triangle building blocks. A size 3 triangle would contain 9 size 1 triangle building blocks and a size n triangle would thus contain n<sup>2</sup> size 1 triangle building blocks.</p>
<p>If we denote T(n) as the number of triangles present in a triangle of size n, then</p>
<p>T(1) = 16<br>T(2) = 104</p>
<p>Find T(36).</p>
<hr>
<p><b>纵横交错的三角形</b></p>
<p>考虑一个等边三角形，从三角形的每个顶点向对边的中点引一条线段，构成如下图所示的1级三角形。</p>
<center><img src="https://projecteuler.net/project/images/p163.gif" width="300" height="200" alt=""></center>

<p>我们可以从这个三角形中数出16个不同形状、不同大小、不同方向、不同位置的三角形。使用1级三角形作为材料，我们可以构成更大的三角形，比如右边的2级三角形。在2级三角形中可以输出一百零四个不同形状、不同大小、不同方向、不同位置的三角形。</p>
<p>可以看出一个2级三角形包含有4个1级三角形。一个3级三角形包含有9个1级三角形，而一个n级三角形包含有n<sup>2</sup>个1级三角形。</p>
<p>如果我们用T(n)表示n级三角形中能够数出的三角形个数，那么</p>
<p>T(1) = 16<br>T(2) = 104</p>
<p>求T(36)。</p>
<hr>
<hr>
<h1 id="Problem_164"><a href="https://projecteuler.net/problem=164" target="_blank" rel="external">Problem 164</a></h1><hr>
<p><b>Numbers for which no three consecutive digits have a sum greater than a given value</b></p>
<p>How many 20 digit numbers n (without any leading zero) exist such that no three consecutive digits of n have a sum greater than 9?</p>
<hr>
<p><b>没有连续三位数字的和超过给定值的数</b></p>
<p>有多少个20位数字n（不包括前导0）满足，不存在连续三位数字的和超过9？</p>
<hr>
<hr>
<h1 id="Problem_165"><a href="https://projecteuler.net/problem=165" target="_blank" rel="external">Problem 165</a></h1><hr>
<p><b>Intersections</b></p>
<p>A segment is uniquely defined by its two endpoints. By considering two line segments in plane geometry there are three possibilities:<br>the segments have zero points, one point, or infinitely many points in common.</p>
<p>Moreover when two segments have exactly one point in common it might be the case that that common point is an endpoint of either one of the segments or of both. If a common point of two segments is not an endpoint of either of the segments it is an interior point of both segments.<br>We will call a common point T of two segments L<sub>1</sub> and L<sub>2</sub> a true intersection point of L<sub>1</sub> and L<sub>2</sub>  if T is the only common point of L<sub>1</sub> and L<sub>2</sub>  and T is an interior point of both segments.</p>
<p>Consider the three segments L<sub>1</sub>, L<sub>2</sub>, and L<sub>3</sub>:</p>
<p>L<sub>1</sub>: (27, 44) to (12, 32)<br>L<sub>2</sub>: (46, 53) to (17, 62)<br>L<sub>3</sub>: (46, 70) to (22, 40)</p>
<p>It can be verified that line segments L<sub>2</sub> and L<sub>3</sub> have a true intersection point. We note that as the one of the end points of L<sub>3</sub>: (22,40) lies on L<sub>1</sub> this is not considered to be a true point of intersection. L<sub>1</sub> and L<sub>2</sub> have no common point. So among the three line segments, we find one true intersection point.</p>
<p>Now let us do the same for 5000 line segments. To this end, we generate 20000 numbers using the so-called “Blum Blum Shub” pseudo-random number generator.</p>
<p>s<sub>0</sub> = 290797<br>s<sub>n+1</sub> = s<sub>n</sub>×s<sub>n</sub> (modulo 50515093)<br>t<sub>n</sub> = s<sub>n</sub> (modulo 500)</p>
<p>To create each line segment, we use four consecutive numbers t<sub>n</sub>. That is, the first line segment is given by:</p>
<p>(t<sub>1</sub>, t<sub>2</sub>) to (t<sub>3</sub>, t<sub>4</sub>)</p>
<p>The first four numbers computed according to the above generator should be: 27, 144, 12 and 232. The first segment would thus be (27,144) to (12,232).</p>
<p>How many distinct true intersection points are found among the 5000 line segments?</p>
<hr>
<p><b>交点</b></p>
<p>一条线段由其两个端点唯一决定。考虑平面几何中的两条线段，一共有如下三种可能性：<br>两条线段没有、有一个或者有无数个交点。</p>
<p>进一步地，当两条线段恰好有一个交点时，可能这个交点是其中一条或两条的端点。如果这个交点不是任一条线段的端点，那它一定是这两条线段的内点。<br>当两条线段L<sub>1</sub>和L<sub>2</sub>的交点T是这两条线段唯一的交点且是这两条线段的内点时，我们称T为这两条线段的真交点。</p>
<p>考虑以下三条线段L<sub>1</sub>，L<sub>2</sub>和L<sub>3</sub>：</p>
<p>L<sub>1</sub>: (27, 44) to (12, 32)<br>L<sub>2</sub>: (46, 53) to (17, 62)<br>L<sub>3</sub>: (46, 70) to (22, 40)</p>
<p>可以验证，线段L<sub>2</sub>和L<sub>3</sub>有一个真交点。注意到L<sub>3</sub>的一个端点(22,40)恰好在L<sub>1</sub>上，因此这不是一个真交点。L<sub>1</sub>和L<sub>2</sub>则没有交点。因此在这三条线段中，一共有一个真交点。</p>
<p>现在我们来对5000条线段求真交点数。首先，我们用“布鲁姆-布鲁姆-舒布”伪随机数生成算法生成2000个数。</p>
<p>s<sub>0</sub> = 290797<br>s<sub>n+1</sub> = s<sub>n</sub>×s<sub>n</sub> (modulo 50515093)<br>t<sub>n</sub> = s<sub>n</sub> (modulo 500)</p>
<p>为了生成每一条线段，我们使用t<sub>n</sub>的连续四项，也就是说，第一条线段是：</p>
<p>(t<sub>1</sub>, t<sub>2</sub>)至(t<sub>3</sub>, t<sub>4</sub>)</p>
<p>由上述算法生成的前四个数是：27，144，12和232，因此第一条线段是(27,144)至(12,232)。</p>
<p>在这5000条线段中，有多少个真交点？</p>
<hr>
<hr>
<h1 id="Problem_166"><a href="https://projecteuler.net/problem=166" target="_blank" rel="external">Problem 166</a></h1><hr>
<p><b>Criss Cross</b></p>
<p>A 4x4 grid is filled with digits d, 0 ≤ d ≤ 9.</p>
<p>It can be seen that in the grid</p>
<center>6 3 3 0<br>5 0 4 3<br>0 7 1 4<br>1 2 4 5</center>

<p>the sum of each row and each column has the value 12. Moreover the sum of each diagonal is also 12.</p>
<p>In how many ways can you fill a 4x4 grid with the digits d, 0 ≤ d ≤ 9 so that each row, each column, and both diagonals have the same sum?</p>
<hr>
<p><b>纵横交错</b></p>
<p>一个4x4方阵填满了0 ≤ d ≤ 9的数字。</p>
<p>可以看出，在如下方阵中</p>
<center>6 3 3 0<br>5 0 4 3<br>0 7 1 4<br>1 2 4 5</center>

<p>每一行和每一列的和都是12，而且对角线上的数字和也都是12。</p>
<p>在4x4方阵中填入0 ≤ d ≤ 9的数字，要使得每一行、每一列和对角线上的和都是相同的数，有多少种填法？</p>
<hr>
<hr>
<h1 id="Problem_167"><a href="https://projecteuler.net/problem=167" target="_blank" rel="external">Problem 167</a></h1><hr>
<p><b>Investigating Ulam sequences</b></p>
<p>For two positive integers a and b, the Ulam sequence U(a,b) is defined by U(a,b)<sub>1</sub> = a, U(a,b)<sub>2</sub> = b and for k &gt; 2,<br>U(a,b)<sub>k</sub> is the smallest integer greater than U(a,b)<sub>(k-1)</sub> which can be written in exactly one way as the sum of two distinct previous members of U(a,b).</p>
<p>For example, the sequence U(1,2) begins with<br>1, 2, 3 = 1 + 2, 4 = 1 + 3, 6 = 2 + 4, 8 = 2 + 6, 11 = 3 + 8;<br>5 does not belong to it because 5 = 1 + 4 = 2 + 3 has two representations as the sum of two previous members, likewise 7 = 1 + 6 = 3 + 4.</p>
<p>Find ∑U(2,2n+1)<sub>k</sub> for 2 ≤ n ≤10, where k = 10<sup>11</sup>.</p>
<hr>
<p><b>乌拉姆序列研究</b></p>
<p>任取两个正整数a和b，乌拉姆序列U(a,b)按如下方式定义：U(a,b)<sub>1</sub> = a，U(a,b)<sub>2</sub> = b，对于k &gt; 2，U(a,b)<sub>k</sub>是比U(a,b)<sub>(k-1)</sub>更大，且存在用U(a,b)之前的这些项中的不同两项之和唯一表示的最小整数。</p>
<p>例如，序列U(1,2)的开头部分如下所示<br>1, 2, 3 = 1 + 2, 4 = 1 + 3, 6 = 2 + 4, 8 = 2 + 6, 11 = 3 + 8;<br>5不在这个序列是，因为5 = 1 + 4 = 2 + 3，有两种表示方法，同样地7也是如此因为7 = 1 + 6 = 3 + 4。</p>
<p>对于2 ≤ n ≤10，求∑U(2,2n+1)<sub>k</sub>，其中k = 10<sup>11</sup>.</p>
<hr>
<hr>
<h1 id="Problem_168"><a href="https://projecteuler.net/problem=168" target="_blank" rel="external">Problem 168</a></h1><hr>
<p><b>Number Rotations</b></p>
<p>Consider the number 142857. We can right-rotate this number by moving the last digit (7) to the front of it, giving us 714285.<br>It can be verified that 714285=5×142857.<br>This demonstrates an unusual property of 142857: it is a divisor of its right-rotation.</p>
<p>Find the last 5 digits of the sum of all integers n, 10 &lt; n &lt; 10<sup>100</sup>, that have this property.</p>
<hr>
<p><b>数字轮换</b></p>
<p>考虑数142857，我们可以将它的数字右移一位并把最后一个数字7放到最前面，得到714285。<br>可以验证714285=5×142857。<br>这表明了142857的一个特殊性质：它右移一位并把末位数字移至最前得到的数是它的倍数。</p>
<p>找出所有10 &lt; n &lt; 10<sup>100</sup>范围内满足这一性质的整数n，求它们的和的最后五位数字。</p>
<hr>
<hr>
<h1 id="Problem_169"><a href="https://projecteuler.net/problem=169" target="_blank" rel="external">Problem 169</a></h1><hr>
<p><b>Exploring the number of different ways a number can be expressed as a sum of powers of 2</b></p>
<p>Define f(0)=1 and f(n) to be the number of different ways n can be expressed as a sum of integer powers of 2 using each power no more than twice.</p>
<p>For example, f(10)=5 since there are five different ways to express 10:</p>
<p>1 + 1 + 8<br>1 + 1 + 4 + 41 + 1 + 2 + 2 + 4<br>2 + 4 + 4<br>2 + 8</p>
<p>What is f(10<sup>25</sup>)?</p>
<hr>
<p><b>探索将数表达为2的幂之和的方式数目</b></p>
<p>记f(0)=1，f(n)是将n表达为2的幂之和，且不同的幂至多使用两次的方式数目。</p>
<p>例如，f(10)=5，即有五种不同的方式表示10：</p>
<p>1 + 1 + 8<br>1 + 1 + 4 + 41 + 1 + 2 + 2 + 4<br>2 + 4 + 4<br>2 + 8</p>
<p>求f(10<sup>25</sup>)。</p>
<hr>
<hr>
<h1 id="Problem_170"><a href="https://projecteuler.net/problem=170" target="_blank" rel="external">Problem 170</a></h1><hr>
<p><b>Find the largest 0 to 9 pandigital that can be formed by concatenating products</b></p>
<p>Take the number 6 and multiply it by each of 1273 and 9854:</p>
<p>6 × 1273 =  7638<br>6 × 9854 = 59124</p>
<p>By concatenating these products we get the 1 to 9 pandigital 763859124. We will call 763859124 the “concatenated product of 6 and (1273,9854)”. Notice too, that the concatenation of the input numbers, 612739854, is also 1 to 9 pandigital.</p>
<p>The same can be done for 0 to 9 pandigital numbers.</p>
<p>What is the largest 0 to 9 pandigital 10-digit concatenated product of an integer with two or more other integers, such that the concatenation of the input numbers is also a 0 to 9 pandigital 10-digit number?</p>
<hr>
<p><b>求用乘积拼接而成的最大0至9全数字数</b></p>
<p>将6分别乘以1273和9854：</p>
<p>6 × 1273 =  7638<br>6 × 9854 = 59124</p>
<p>连接这两个乘积我们得到1至9全数字数763859124.我们称763859124为“6和(1273,9854)乘积的连接”。注意到，被乘的这些数的连接612739854，同样也是1至9全数字数。</p>
<p>对于0至9全数字数也存在同样的可能。</p>
<p>在所有由一个整数和另外至少两个整数的乘积连接而成且被乘的整数连接起来也是0至9全数字数的0至9全数字数中，求其中最大的一个。</p>
<hr>
<hr>
<h1 id="Problem_171"><a href="https://projecteuler.net/problem=171" target="_blank" rel="external">Problem 171</a></h1><hr>
<p><b>Finding numbers for which the sum of the squares of the digits is a square</b></p>
<p>For a positive integer n, let f(n) be the sum of the squares of the digits (in base 10) of n, e.g.</p>
<p>f(3) = 3<sup>2</sup> = 9,<br>f(25) = 2<sup>2</sup> + 5<sup>2</sup> = 4 + 25 = 29,<br>f(442) = 4<sup>2</sup> + 4<sup>2</sup> + 2<sup>2</sup> = 16 + 16 + 4 = 36</p>
<p>Find the last nine digits of the sum of all n, 0 &lt; n &lt; 10<sup>20</sup>, such that f(n) is a perfect square.</p>
<hr>
<p><b>寻找数字平方和为平方数的数</b></p>
<p>对于正整数n，记f(n)为n（十进制表示下）的各位数的平方和，例如</p>
<p>f(3) = 3<sup>2</sup> = 9,<br>f(25) = 2<sup>2</sup> + 5<sup>2</sup> = 4 + 25 = 29,<br>f(442) = 4<sup>2</sup> + 4<sup>2</sup> + 2<sup>2</sup> = 16 + 16 + 4 = 36</p>
<p>找出所有满足0 &lt; n &lt; 10<sup>20</sup>，且各位数字平方和为平方数的数n，求出它们的和的最后九位数字。</p>
<hr>
<hr>
<h1 id="Problem_172"><a href="https://projecteuler.net/problem=172" target="_blank" rel="external">Problem 172</a></h1><hr>
<p><b>Investigating numbers with few repeated digits</b></p>
<p>How many 18-digit numbers n (without leading zeros) are there such that no digit occurs more than three times in n?</p>
<hr>
<p><b>关于有少量重复数字的数的研究</b></p>
<p>有多少个18位数n（不考虑前导零）满足在n中没有一个数字出现超过三次？</p>
<hr>
<hr>
<h1 id="Problem_173"><a href="https://projecteuler.net/problem=173" target="_blank" rel="external">Problem 173</a></h1><hr>
<p><b>Using up to one million tiles how many different “hollow” square laminae can be formed?</b></p>
<p>We shall define a square lamina to be a square outline with a square “hole” so that the shape possesses vertical and horizontal symmetry. For example, using exactly thirty-two square tiles we can form two different square laminae:</p>
<center><img src="https://projecteuler.net/project/images/p173_square_laminas.gif" alt=""></center>

<p>With one-hundred tiles, and not necessarily using all of the tiles at one time, it is possible to form forty-one different square laminae.</p>
<p>Using up to one million tiles how many different square laminae can be formed?</p>
<hr>
<p><b>使用最多一百万块地砖能拼出多少种不同的“空心”方形基板？</b></p>
<p>我们定义一个方形基板为一个拥有方形外框，中间有一个方形的“洞”且在水平和竖直方向上均对称的图形。例如，使用恰好32块方形地砖，我们可以拼成两种不同的方形基板：</p>
<center><img src="https://projecteuler.net/project/images/p173_square_laminas.gif" alt=""></center>

<p>使用最多一百块地砖，我们能够拼出41种不同的方形基板。</p>
<p>使用最多一百万块地砖，能够拼出多少种不同的方形基板？</p>
<hr>
<hr>
<h1 id="Problem_174"><a href="https://projecteuler.net/problem=174" target="_blank" rel="external">Problem 174</a></h1><hr>
<p><b>Counting the number of “hollow” square laminae that can form one, two, three, … distinct arrangements</b></p>
<p>We shall define a square lamina to be a square outline with a square “hole” so that the shape possesses vertical and horizontal symmetry.</p>
<p>Given eight tiles it is possible to form a lamina in only one way: 3x3 square with a 1x1 hole in the middle. However, using thirty-two tiles it is possible to form two distinct laminae.</p>
<center><img src="https://projecteuler.net/project/images/p173_square_laminas.gif" alt=""></center>

<p>If t represents the number of tiles used, we shall say that t = 8 is type L(1) and t = 32 is type L(2).</p>
<p>Let N(n) be the number of t ≤ 1000000 such that t is type L(n); for example, N(15) = 832.</p>
<p>What is ∑ N(n) for 1 ≤ n ≤ 10?</p>
<hr>
<p><b>能组成一种、两种、三种……不同方形基板的地砖数计数</b></p>
<p>我们定义一个方形基板为一个拥有方形外框，中间有一个方形的“洞”且在水平和竖直方向上均对称的图形。</p>
<p>用八块地砖我们只能拼出一种方形基板：一个3x3的方格，正中间有一个1x1的洞。然而，用32块地砖，我们能够拼出两种不同的方形基板。</p>
<center><img src="https://projecteuler.net/project/images/p173_square_laminas.gif" alt=""></center>

<p>如果用t代表使用的地砖数，我们称t = 8是L(1)型的，而t = 32是L(2)型的。</p>
<p>记N(n)为满足t ≤ 1000000且为L(n)型的t的个数；例如，N(15) = 832。</p>
<p>对于1 ≤ n ≤ 10，求∑ N(n)。</p>
<hr>
<hr>
<h1 id="Problem_175"><a href="https://projecteuler.net/problem=175" target="_blank" rel="external">Problem 175</a></h1><hr>
<p><b>Fractions involving the number of different ways a number can be expressed as a sum of powers of 2</b></p>
<p>Define f(0)=1 and f(n) to be the number of ways to write n as a sum of powers of 2 where no power occurs more than twice. </p>
<p>For example, f(10)=5 since there are five different ways to express 10:<br>10 = 8+2 = 8+1+1 = 4+4+2 = 4+2+2+1+1 = 4+4+1+1</p>
<p>It can be shown that for every fraction p/q (p&gt;0, q&gt;0) there exists at least one integer n such that<br>f(n)/f(n-1)=p/q.</p>
<p>For instance, the smallest n for which f(n)/f(n-1)=13/17 is 241.</p>
<p>The binary expansion of 241 is 11110001.</p>
<p>Reading this binary number from the most significant bit to the least significant bit there are 4 one’s, 3 zeroes and 1 one. We shall call the string 4,3,1 the <span style="font-style: italic">Shortened Binary Expansion</span> of 241.</p>
<p>Find the Shortened Binary Expansion of the smallest n for which<br>f(n)/f(n-1)=123456789/987654321.</p>
<p>Give your answer as comma separated integers, without any whitespaces.</p>
<hr>
<p><b>有关将一个数表示为2的幂次之和的方式数的分数</b></p>
<p>记f(0)=1，f(n)为将n写成2的幂次的和且任意幂次出现不超过两次的方式数。</p>
<p>例如，f(10)=5，因为10恰好有5种不同的表示方式：<br>10 = 8+2 = 8+1+1 = 4+4+2 = 4+2+2+1+1 = 4+4+1+1</p>
<p>对于任意分数p/q（其中整数p&gt;0，整数q&gt;0），我们都能找到至少一个整数n，使得<br>f(n)/f(n-1)=p/q。</p>
<p>例如，使得f(n)/f(n-1)=13/17的最小的n是241。</p>
<p>241的二进制表示为11110001。</p>
<p>从左往右读这个二进制串我们得到4个1，3个0，再1个1。因此，我们称数字串4,3,1是241的<span style="font-style: italic">简式二进制表示</span>。</p>
<p>找出满足下式的最小的n的简式二进制表示：<br>f(n)/f(n-1)=123456789/987654321.</p>
<p>你的答案应当用半角逗号“,”隔开各个整数，且没有任何空格。</p>
<hr>

      
    </div>

    <div class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/Problem126-150/">Problem 126 - 150</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/Problem176-200/">Problem 176 - 200</a>
            
          </div>
        </div>
      

      
      
    </div>
  </div>



    <div class="post-spread">
      
    </div>

    
      <div class="comments" id="comments">
        
          <div class="ds-thread" data-thread-key="Problem151-175/"
               data-title="Problem 151 - 175" data-url="http://yoursite.com/Problem151-175/">
          </div>
        
      </div>
    
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/avatar.png" alt="sx349" />
          <p class="site-author-name">Leonhard Euler(1707-1783)</p>
        </div>
        <p class="site-description motion-element"><br>Project Euler | 欧拉计划<br>中文翻译站</p>
        
        

        <div class="links-of-author motion-element">
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name" style="font-size:14px">友情链接</p>
            
              <span class="links-of-author-item">
              <a href="https://projecteuler.net" target="_blank">Project Euler</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://pe.spiritzhang.com/" target="_blank">官方汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://jakwings.is-programmer.com/Project_Euler" target="_blank">饮水思源汉化</a>
              </span><br>
            
              <span class="links-of-author-item">
              <a href="http://sx349.github.io" target="_blank">译者博客</a>
              </span><br>
            
          
        </div>
        
      </div>

      
        <div class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_151"><span class="nav-number">1.</span> <span class="nav-text">Problem 151</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_152"><span class="nav-number">2.</span> <span class="nav-text">Problem 152</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_153"><span class="nav-number">3.</span> <span class="nav-text">Problem 153</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_154"><span class="nav-number">4.</span> <span class="nav-text">Problem 154</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_155"><span class="nav-number">5.</span> <span class="nav-text">Problem 155</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_156"><span class="nav-number">6.</span> <span class="nav-text">Problem 156</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_157"><span class="nav-number">7.</span> <span class="nav-text">Problem 157</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_158"><span class="nav-number">8.</span> <span class="nav-text">Problem 158</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_159"><span class="nav-number">9.</span> <span class="nav-text">Problem 159</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_160"><span class="nav-number">10.</span> <span class="nav-text">Problem 160</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_161"><span class="nav-number">11.</span> <span class="nav-text">Problem 161</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_162"><span class="nav-number">12.</span> <span class="nav-text">Problem 162</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_163"><span class="nav-number">13.</span> <span class="nav-text">Problem 163</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_164"><span class="nav-number">14.</span> <span class="nav-text">Problem 164</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_165"><span class="nav-number">15.</span> <span class="nav-text">Problem 165</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_166"><span class="nav-number">16.</span> <span class="nav-text">Problem 166</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_167"><span class="nav-number">17.</span> <span class="nav-text">Problem 167</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_168"><span class="nav-number">18.</span> <span class="nav-text">Problem 168</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_169"><span class="nav-number">19.</span> <span class="nav-text">Problem 169</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_170"><span class="nav-number">20.</span> <span class="nav-text">Problem 170</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_171"><span class="nav-number">21.</span> <span class="nav-text">Problem 171</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_172"><span class="nav-number">22.</span> <span class="nav-text">Problem 172</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_173"><span class="nav-number">23.</span> <span class="nav-text">Problem 173</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_174"><span class="nav-number">24.</span> <span class="nav-text">Problem 174</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problem_175"><span class="nav-number">25.</span> <span class="nav-text">Problem 175</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </div>
      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  2015
  <span class="with-love"><i class="icon-heart"></i></span>
  <span class="author"><a href="http://sx349.github.io">sx349</a></span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist 
  </a>by <a href="http://notes.iissnan.com/">IIssNan</a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.3" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if (isDesktop() && CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    });
  </script>




  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"sx349"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
